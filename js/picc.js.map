{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/src/picc.js","js/src/index.js","js/src/search.js","js/src/school.js","js/src/d3.js","node_modules/querystring-es3/index.js","js/src/components/index.js","node_modules/querystring-es3/encode.js","node_modules/querystring-es3/decode.js","js/src/components/aria-accordion.js","js/src/components/picc-meter.js","js/src/components/picc-range.js","js/src/components/multi-select.js","js/src/components/picc-slider.js","js/src/components/compat/custom-event.js","node_modules/aight/aight.js","node_modules/formdb/formdb.js","node_modules/async/lib/async.js","node_modules/tagalong/index.js","node_modules/process/browser.js","node_modules/document-register-element/build/document-register-element.js"],"names":["getter","key","d","indexOf","bits","split","len","length","i","undefined","window","require","querystring","d3","async","formdb","picc","errors","NO_SCHOOL_ID","NO_SUCH_SCHOOL","RACE_ETHNICITY_LABELS","aian","asian","asian_pacific_islander","black","black_non_hispanic","hispanic","nhpi","non_resident_alien","two_or_more","unknown","white","white_non_hispanic","API","addAPIKey","params","param","collapseArrays","stringify","join","list","glue","str","String","charAt","substr","obj","Array","isArray","url","schoolEndpoint","idField","get","uri","done","arguments","console","info","json","error","data","endpoint","search","getSchool","id","res","meta","metadata","total","responseText","warn","results","getAll","urls","Object","keys","forEach","method","shift","push","apply","parallel","NA","format","formatter","fmt","_empty","round","match","empty","functor","access","v","value","call","this","isNaN","Math","map","fallback","range","ranges","dollars","percent","number","plural","singular","values","control","1","2","3","controlClass","preddeg","notEmpty","sizeCategory","Infinity","sizeCategoryClass","locale","11","12","13","21","22","23","31","32","33","41","42","43","localeClass","href","fields","ID","NAME","CITY","STATE","ZIP_CODE","SCHOOL_URL","LOCATION","OWNERSHIP","LOCALE","REGION_ID","RELIGIOUS","OPERATING","SIZE","ONLINE_ONLY","WOMEN_ONLY","MEN_ONLY","MINORITY_SERVING","PREDOMINANT_DEGREE","HIGHEST_DEGREE","UNDER_INVESTIGATION","NET_PRICE","NET_PRICE_BY_INCOME","COMPLETION_RATE","RETENTION_RATE","REPAYMENT_RATE","AVERAGE_TOTAL_DEBT","MONTHLY_LOAN_PAYMENT","AID_PERCENTAGE","PELL_PERCENTAGE","MEDIAN_EARNINGS","EARNINGS_GT_25K","PROGRAM_PERCENTAGE","PROGRAM_OFFERED","DEGREE_OFFERED","PART_TIME_SHARE","FEMALE_SHARE","RACE_ETHNICITY","AGE_ENTRY","ACT_25TH_PCTILE","ACT_75TH_PCTILE","ACT_MIDPOINT","SAT_CUMULATIVE_AVERAGE","SAT_READING_25TH_PCTILE","SAT_READING_75TH_PCTILE","SAT_READING_MIDPOINT","SAT_MATH_25TH_PCTILE","SAT_MATH_75TH_PCTILE","SAT_MATH_MIDPOINT","SAT_WRITING_25TH_PCTILE","SAT_WRITING_75TH_PCTILE","SAT_WRITING_MIDPOINT","NET_PRICE_CALC_URL","composed","key0","key1","key2","slice","_keys","_key","publicPrivate","ownership","yearDesignation","degree","nationalStat","stat","suffix","getAttribute","netPrice","netPriceByIncomeLevel","level","earningsMedian","earnings25k","completionRate","partTimeShare","retentionRate","retention","four_year","full_time","lt_four_year","size","location","specialDesignations","designations","SPECIAL_DESIGNATIONS","women_only","men_only","religious","RELIGIOUS_AFFILIATIONS_BY_NUMBER","minorityServing","programAreas","dictionary","field","programs","replace","dictKey","name","label","program","filter","nullify","template","_k","resolve","school","directives","BASE_URL","underInvestigation","@aria-hidden","flag","years","title","link","text","@href","school_link","share_link","encodeURIComponent","document","response_link","city","state","under_investigation","under_investigation2","size_number","@class","locale_name","size_category","special_designations","average_cost","average_cost_meter","@value","average","net_price_income1","net_price_income2","net_price_income3","net_price_income4","net_price_income5","advantage_rate","grad_rate","grad_rate_meter","average_salary","average_salary_meter","repayment_rate_percent","repayment_rate_meter","average_total_debt","average_monthly_loan_payment","federal_aid_percentage","pell_grant_percentage","earnings_gt_25k","earnings_gt_25k_meter","retention_rate_value","retention_rate_meter","full_time_percent","pt","part_time_percent","gender_values","female","race_ethnicity_values","available_programs","areas","sort","a","b","ascending","num_available_programs","popular_programs","sum","descending","programs_plural","age_entry","age","more_link","act_scores_visible","act_scores_invisible","act_scores","@lower","@upper","sat_reading_scores_visible","sat_reading_scores_invisible","sat_reading_scores","sat_math_scores_visible","sat_math_scores_invisible","sat_math_scores","sat_writing_scores_visible","sat_writing_scores_invisible","sat_writing_scores","net_price_calculator","form","mappings","advantage","salary","avg_net_price","completion_rate","public","private","profit","small","medium","large","minifyQueryString","Form","on","e","element","action","preventDefault","prepareParams","mapSize","mapControl","alias","median_earnings","monthly_payments","serving","query","zip","distance","rangify","region","major","subfield","k","extend","ui","expandAccordions","selector","expanded","selectAll","property","ready","callback","readyState","addEventListener","debounce","fn","delay","timeout","context","args","clearTimeout","setTimeout","delegate","root","qualify","event","listener","listeners","_listener","target","arg","Number","previous","min","max","pop","selectKeys","copy","tooltip","show","__tooltipShowTimeout","getElementById","parent","ref","querySelector","setAttribute","click","win","select","contains","hide","constrain","type","originalParent","appendChild","toggle","parentNode","removeChild","content","style","removeProperty","outer","getBoundingClientRect","rect","margin","offsetWidth","width","halfWidth","bump","left","leftEdge","right","rightEdge","innerWidth","bottom","height","above","innerHeight","classList","pages","index","described","body","hasAttribute","ontouchstart","focus","blur","mouseenter","mouseleave","__dragTimeout","add","remove","module","exports","hash","tagalong","onChange","submit","updateDistanceDisabled","getData","_drawer","diffExcept","previousParams","page","qs","poppingState","alreadyLoaded","diff","history","pushState","replaceState","attr","req","abort","resultsRoot","incremental","paginator","time","bottomPaginator","timeEnd","showError","log","heading","results_word","results_total","perPage","per_page","getPages","@data-index","arrow","@data-page","innerHTML","pageLinks","_page","each","p","selected","set","change","resultsList","ie","removeAllChildren","numPages","ceil","next","MAX_PAGES","end","start","first","unshift","last","message","textContent","copyUnsetKeys","from","into","hasOwnProperty","updateSlider","input","lower","upper","dist","getInputsByName","disabled","scrollIntoView","node","lastChild","parse","documentMode","sliders","toggles","opened","close","keyCode","inputs","querySelectorAll","some","setData","hashChange","found","getSchoolId","container","createMap","lat","lon","center","L","latLng","zoomControl","panControl","attributionControl","dragging","scrollWheelZoom","touchZoom","doubleClickZoom","boxZoom","setView","tileLayer","addTo","attribution","position","prefix","addAttribution","marker","circle","color","opacity","strokeWidth","fillColor","fillOpacity","bindPopup","loadable","classed","referrer","averageLabels","below","about","icon","className","sections","concat","bars","datum","klass","toLowerCase","scale","linear","domain","section","global","factory","define","amd","_dsv","delimiter","f","o","parseRows","row","Function","JSON","token","I","N","EOF","eol","EOL","j","charCodeAt","c","delimiterCode","t","rows","n","formatRows","fieldSet","create","formatValue","formatRow","reFormat","test","RegExp","dispatch","Dispatch","types","parseType","callbacksByType","Error","applier","callbackValue","callbacks","that","callbackByName","callback0","otherType","xhr","respond","result","status","request","hasResponse","response","load","mimeType","responseType","headers","Map","XMLHttpRequest","XDomainRequest","onload","onerror","onreadystatechange","onprogress","progress","header","send","post","fixCallback","open","has","setRequestHeader","overrideMimeType","beforesend","xhrDsv","defaultMimeType","dsv","r","_","responseOf","xhrType","array","s","_range","stop","step","_scale","abs","x","quantile","H","h","floor","_ascending","NaN","bisector","compare","ascendingComparator","lo","hi","mid","formatDecimal","toExponential","coefficient","_exponent","formatPrefixAuto","exponent","prefixExponent","formatRounded","formatDefault","toPrecision","out","i1","i0","formatSpecifier","specifier","FormatSpecifier","re","exec","fill","align","sign","symbol","zero","comma","precision","formatTypes","formatGroup","grouping","thousands","g","substring","reverse","_identity","_locale","currency","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","prefixes","decimal","group","padding","formatPrefix","pow","precisionRound","precisionPrefix","precisionFixed","newInterval","floori","offseti","count","interval","date","Date","d0","d1","offset","setTime","_t0","_t1","weekday","setHours","setDate","getDate","getDay","getTimezoneOffset","utcWeekday","setUTCHours","setUTCDate","getUTCDate","getUTCDay","localDate","y","m","M","S","setFullYear","utcDate","UTC","setUTCFullYear","newYear","__locale","newFormat","formats","pad","string","pads","newParse","newDate","parseSpecifier","day","U","W","w","Z","parses","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","parsePeriod","periodLookup","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","getMonth","formatMonth","locale_months","formatPeriod","locale_periods","getHours","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCPeriod","getUTCHours","dateTime","periods","days","shortDays","months","shortMonths","formatLookup","formatRe","A","B","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","X","_formatYear","Y","formatFullYear","formatZone","%","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","_formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","toString","utcFormat","requote","_requoteRe","names","numberRe","percentRe","year","getMilliseconds","getMinutes","getSeconds","sunday","monday","getFullYear","z","utcDay","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcSunday","utcMonday","getUTCFullYear","interpolateNumber","interpolate","interpolators","interpolateObject","interpolateArray","na","nb","n0","Color","trim","reHex3","parseInt","rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reHslPercent","hsl","named","Rgb","_format","l","Hsl","hsl2rgb","m1","m2","cubehelix","Cubehelix","BC_DA","ED","EB","bl","E","C","D","sqrt","atan2","_rad2deg","interpolateRgb","ar","ag","ab","br","bg","bb","interpolate0","interpolate1","interpolateString","am","bm","bs","bi","reA","lastIndex","reB","q","interpolateRound","tickRange","span","LN10","e10","e5","e2","ticks","nice","x0","x1","__tickFormat","___format","uninterpolateClamp","uninterpolateNumber","bilinear","uninterpolate","u","polylinear","bisectRight","newLinear","clamp","rescale","output","invert","rangeRound","tickFormat","rebind","_linear","_newDate","newTime","timeInterval","tickInterval","chooseTickInterval","isFinite","t0","t1","bisectTickIntervals","tickIntervals","millisecondsPerYear","_tickFormat","second","formatMillisecond","minute","formatSecond","hour","formatMinute","formatHour","month","formatDay","formatWeek","formatYear","millisecond","_timeInterval","__format","utcSecond","formatUTCMillisecond","utcMinute","formatUTCSecond","utcHour","formatUTCMinute","formatUTCHour","utcMonth","formatUTCDay","formatUTCWeek","formatUTCYear","utcTime","newThreshold","invertExtent","threshold","newPow","powp","powb","newQuantize","kx","quantize","newQuantile","thresholds","quantiles","_quantile","steps","newOrdinal","ranger","rangeBand","xi","xk","rangePoints","rangeRoundPoints","rangeBands","outerPadding","rangeRoundBands","rangeExtent","ordinal","newLog","base","tickFormat10","tickFormatOther","newIdentity","__identity","category20c","category20b","category20","category10","_defaultView","ownerDocument","defaultView","selection_dispatch","dispatchConstant","dispatchEvent","dispatchFunction","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","_requote","requoteRe","selection_event","capture","ancestor","ancestors","_parent","listenerOf","filterListenerOf","_capture","removeEventListener","removeAll","_root","filterEvents","noop","event1","event0","_event","__data__","related","relatedTarget","compareDocumentPosition","selection_datum","selection_remove","selectorOf","namespace","namespaces","space","local","selection_append","creator","append","insert","insertBefore","creatorOf","namespaceURI","createElementNS","createElement","creatorNS","selection_html","setConstant","setFunction","selection_text","selection_class","classedRe","classerOf","collapse","selection_property","selection_style","priority","setProperty","getComputedStyle","getPropertyValue","selection_attr","removeAttribute","removeNS","removeAttributeNS","setConstantNS","setAttributeNS","setFunctionNS","getAttributeNS","selection_each","visit","nodes","depth","stack0","stack1","stack","_depth","selection_empty","selection_size","selection_node","firstNode","selection_nodes","selection_call","arrayify","selection","arrayifyNode","selection_sort","comparator","order","selection_order","orderNode","nextSibling","emptyOf","Selection","emptyNode","selection_exit","_exit","selection_enter","_enter","_update","selection_data","update","enter","exit","before","bind","_next","bindIndex","nodeLength","dataLength","minLength","EnterNode","bindKey","keyValue","nodeByKeyValue","keyStack","keyValues","valueOf_","selection_filter","subnodes","filterOf","selection_selectAll","subnode","selectorAllOf","selection_select","_selection","documentElement","__scale","identity","csv","tsv","prototype","ascendingBisect","enUs","","toFixed","toUpperCase","_defaultLocale","_enUs","setMilliseconds","setSeconds","setMinutes","setMonth","setUTCMilliseconds","setUTCSeconds","setUTCMinutes","setUTCMonth","-","0","defaultLocale","displayable","darker","brighter","____prototype","___prototype","deg2rad","PI","cosh","cos","sinh","sin","source","millisecondsPerSecond","millisecondsPerMinute","millisecondsPerHour","millisecondsPerDay","millisecondsPerWeek","millisecondsPerMonth","_element","child","matches","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","class","html","d3_bundle","decode","encode","xs","stringifyPrimitive","sep","eq","objectKeys","ks","prop","options","regexp","maxKeys","kstr","vstr","idx","decodeURIComponent","getTrigger","trigger","getContent","contentId","getAriaBoolean","el","EXPANDED","HIDDEN","TOGGLE_EVENTS","ARIAAccordion","registerElement","HTMLElement","attachedCallback","__trigger","__content","nodeName","toggleAndCancel","__toggleAndCancel","detachedCallback","deferUpdate","meter","__timeout","getAttr","getBar","bar","CLASS_PREFIX","getLine","line","num","classify","classes","PICCMeter","attributeChangedCallback","prev","no_data","above_average","below_average","about_average","numbers","__min","__max","__value","__average","ELEMENT_NAME","LABEL_TYPES","PICCRange","middle","__lower","__middle","__upper","onchange","__updating","getValue","multiselect","option","setValue","changed","reduce","pollSourceSelect","__select","removeEmptyOption","parseValues","nullish","ITEM_CLASS","MultiSelect","createdCallback","cloneNode","createTemplate","firstChild","__onchange","display","__pollID","setInterval","oldValue","newValue","items","__template","item","splice","button","__dragging","getClosestHandle","move","engage","getListener","keypress","release","handle","getMouseX","__left","roundTo","getSelection","removeAllRanges","err","nudge","__right","proto","enumerable","createHandle","which","div","createLabel","createRange","createMark","getLabel","dl","dr","touches","clientX","multiplier","formatDollars","roundFloat","formatPercent","PICCSlider","__range","__mark","enagage","mark","labels","nudgeThreshold","outerRect","createCustomEvent","evt","initCustomEvent","Event","aight","aliasInterface","ns","expectedName","nonStandardName","commonEventLoop","currentTarget","$handlers","synthetic","continuePropagation","handlers","enrich","handler","handleEvent","stoppedImmediatePropagation","stoppedPropagation","defaultPrevented","commonDescriptor","configurable","commonTextContent","protoDest","protoSource","descriptor","getOwnPropertyDescriptor","defineProperty","eventPhase","find","getTextContent","tagName","textNode","arrayContent","nodeType","onReadyState","READYEVENTDISPATCHED","readyStateOK","detachEvent","ONREADYSTATECHANGE","DOMCONTENTLOADED","setTextContent","createTextNode","verify","self","srcElement","fromElement","timeStamp","getTime","version","nav","navigator","appName","appVersion","userAgent","parseFloat","browser","ie9","ie8","ie7","ie6","DUNNOABOUTDOMLOADED","SECRET","random","object","defineProperties","descriptors","o_O","ElementPrototype","Element","TextPrototype","Text","possiblyNativeEvent","HTMLCommentElement","HTMLScriptElement","HTMLTitleElement","HTMLStyleElement","styleSheet","CSSStyleSheet","firstElementChild","childNodes","lastElementChild","previousElementSibling","previousSibling","nextElementSibling","childElementCount","ontype","temple","currentType","createEventObject","fireEvent","hasChildNodes","attachEvent","valid","writable","returnValue","stopPropagation","cancelBubble","stopImmediatePropagation","HTMLDocument","top","gonna","doScroll","Class","Window","ComputedStyle","PseudoComputedStyle","notpixel","place","$1","rtLeft","currentStyle","runtimeStyle","pixelLeft","pseudo","textNodeIfString","mutationMacro","fragment","createDocumentFragment","head","verifyToken","DOMTokenList","__defineGetter__","spaces","SPACE","force","Node","properties","matchesSelector","khtmlMatchesSelector","replaceWith","replaceChild","constructor","original","_svg","baseVal","getElementsByTagName","eventName","defaultInitDict","eventInitDict","CSSSDProto","bit","CSSStyleDeclaration","DocumentPrototype","addStyleSheet","cssText","getElements","elements","html5","addElements","newElements","shivDocument","getExpandoData","expandoData","expando","expanID","supportsUnknownElements","cache","saveClones","createElem","canHaveChildren","reSkip","tagUrn","frag","clone","elems","shivMethods","createFrag","shivCSS","supportsHtml5Styles","hasCSS","returnExports","toInteger","isPrimitive","toPrimitive","val","valueOf","toStr","isFunction","TypeError","Empty","ArrayPrototype","ObjectPrototype","FunctionPrototype","StringPrototype","NumberPrototype","array_slice","array_splice","array_unshift","_toString","isRegex","isString","isArguments","isArgs","callee","supportsDescriptors","forceAssign","toObject","ToUint32","binder","bound","boundLength","boundArgs","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","owns","__defineSetter__","__lookupGetter__","__lookupSetter__","spliceNoopReturnsEmptyArray","deleteCount","spliceWorksWithEmptyObject","hasUnshiftReturnValueBug","boxedString","splitString","properlyBoxesContext","properlyBoxesNonStrict","properlyBoxesStrict","__","fun","thisp","every","reduceCoercesToObject","___","reduceRightCoercesToObject","reduceRight","hasFirefox2IndexOfBug","sought","hasFirefox2LastIndexOfBug","lastIndexOf","hasDontEnumBug","propertyIsEnumerable","hasProtoEnumBug","dontEnums","dontEnumsLength","isFn","isObject","isStr","theKeys","skipProto","ctor","skipConstructor","dontEnum","keysWorksWithArguments","originalKeys","negativeDate","negativeYearString","hasNegativeDateBug","toISOString","RangeError","dateToJSONIsSupported","toJSON","toISO","tv","supportsExtendedYears","acceptsInvalidDates","doesNotParseY2KNewYear","NativeDate","ms","dayFromMonth","toUTC","isoDateExpression","now","isLocalTime","Boolean","signOffset","hourOffset","minuteOffset","hasToFixedBugs","toFixedHelpers","multiply","divide","numToString","acc","fractionDigits","string_split","compliantExecNpcg","separator","limit","separator2","lastLength","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","str_replace","replaceReportsGroupsCorrectly","groups","searchValue","replaceValue","hasCapturingGroups","wrappedReplaceValue","originalLastIndex","string_substr","hasNegativeSubstrBug","ws","zeroWidth","wsRegexChars","trimBeginRegexp","trimEndRegexp","hasTrimWhitespaceBug","origParseInt","hexRegex","radix","doesGetOwnPropertyDescriptorWork","sentinel","exception","doesDefinePropertyWork","prototypeOfObject","getPrototypeOf","__proto__","getOwnPropertyDescriptorWorksOnObject","getOwnPropertyDescriptorWorksOnDom","getOwnPropertyDescriptorFallback","ERR_NON_OBJECT","notPrototypeOfObject","setter","getOwnPropertyNames","createEmpty","supportsProto","iframe","src","contentWindow","isPrototypeOf","toLocaleString","Type","definePropertyWorksOnObject","definePropertyWorksOnDom","definePropertyFallback","definePropertiesFallback","ERR_NON_OBJECT_DESCRIPTOR","ERR_NON_OBJECT_TARGET","ERR_ACCESSORS_NOT_SUPPORTED","seal","freeze","freezeObject","preventExtensions","isSealed","isFrozen","isExtensible","ARRAY","_inputs","_onClick","LISTENER_PROPERTY","getInputs","readInput","writeInput","reset","off","pressed","validInput","selectedIndex","checked","toBool","notId","only_once","_once","_isArrayLike","arr","_isArray","_arrayEach","iterator","_map","_reduce","memo","_forEachOf","_indexOf","_keyIterator","coll","_restParam","func","startIndex","rest","_withoutIndex","_eachOfLimit","nextKey","running","errored","replenish","doParallel","eachOf","doParallelLimit","doSeries","eachOfSeries","_asyncMap","eachfn","_filter","_reject","cb","_createTester","check","getResult","iteratee","_findGetResult","_parallel","tasks","task","_concat","_queue","worker","concurrency","payload","_insert","pos","started","idle","setImmediate","drain","saturated","process","workers","removed","workersList","paused","kill","pause","resume","resumeCount","_console_fn","_times","mapper","_applyEach","fns","go","ensureAsync","innerArgs","sync","previous_async","noConflict","_isObject","_setImmediate","_delay","nextTick","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","completed","iter","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","mapSeries","mapLimit","inject","foldl","foldr","reversed","transform","selectLimit","filterLimit","selectSeries","filterSeries","reject","rejectLimit","rejectSeries","any","someLimit","all","everyLimit","detect","detectSeries","detectLimit","sortBy","criteria","auto","addListener","removeListener","taskComplete","remainingTasks","runningTasks","hasError","requires","taskCallback","dep","safeResults","rkey","retry","times","parseTimes","DEFAULT_TIMES","DEFAULT_INTERVAL","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","retryInterval","opts","attempts","series","waterfall","wrapIterator","parallelLimit","makeCallback","callArgs","concatSeries","whilst","doWhilst","calls","until","doUntil","during","truth","doDuring","queue","priorityQueue","_compareTasks","_binarySearch","sequence","beg","cargo","dir","memoize","hasher","queues","memoized","unmemoized","unmemoize","timesSeries","timesLimit","seq","newargs","nextargs","compose","applyEach","applyEachSeries","forever","constant","wrapSync","asyncify","then","bindObject","bindArray","getChildren","ARRAY_TEMPLATE","nodeCount","dataCount","findKeyNode","bindScalar","getElementsByClassName","children","applyDirectives","interpolated","expandKeys","scalar","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","env","argv","versions","once","removeAllListeners","emit","binding","cwd","chdir","umask","rt","vt","it","nt","ot","st","ut","at","attrChange","attrName","Q","prevValue","ft","lt","K","ct","G","ht","et","observe","J","created","F","dt","tt","T","O","setPrototypeOf","mt","P","MutationObserver","WebKitMutationObserver","R","attributes","characterData","attributeOldValue","V","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","$","propertyName","addedNodes","removedNodes","attributeName","childList","subtree","innerHTMLHelper"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nif (typeof window !== 'undefined') {\n  // aight, for polyfilling common JS APIs\n  require('aight');\n  // web components\n  require('./components');\n}\n\nvar querystring = require('querystring');\nvar d3 = require('./d3');\nvar async = require('async');\nvar formdb = require('formdb');\n\n// create the global picc namespace\nvar picc = {};\n\npicc.d3 = d3;\n\n// common error messages\npicc.errors = {\n  NO_SCHOOL_ID: 'No school ID was provided.',\n  NO_SUCH_SCHOOL: 'No school found.'\n};\n\n// race-ethnicity labels\npicc.RACE_ETHNICITY_LABELS = {\n  aian:                   'American Indian/Alaska Native',\n  asian:                  'Asian',\n  asian_pacific_islander: 'Asian/Pacific Islander',\n  black:                  'Black',\n  black_non_hispanic:     'Black non-Hispanic',\n  hispanic:               'Hispanic',\n  nhpi:                   'Native Hawaiian/Pacific Islander',\n  non_resident_alien:     'Non-resident alien',\n  two_or_more:            'Two or more races',\n  unknown:                'Unknown',\n  white:                  'White',\n  white_non_hispanic:     'White non-Hispanic',\n};\n\n/**\n * picc.API is a singleton object with methods to query the open-data-maker\n * JSON API. Its base URL (`picc.API.url`) and API key (`picc.API.key`) are\n * filled in by Jekyll.\n *\n * All of the API's methods are asynchronous, and use \"error-first\"\n * (Node.js-style) callbacks:\n *\n * @example\n * picc.API.get('school', {id: 100}, function(error, res) {\n *   // error is an XMLHttpRequest object\n *   if (error) return alert(\"Error: \" + error.responseText);\n *   console.log('got data:', res);\n * });\n *\n */\npicc.API = (function() {\n  var API = {\n    url: '/api/v1/',\n    key: ''\n  };\n\n  // local alias for errors\n  var errors = picc.errors;\n\n  // the API endpoint (URI) at which to find school data\n  var schoolEndpoint = 'schools/';\n\n  // the school's primary key field\n  var idField = 'id';\n\n  /**\n   * get an endpoint with optional query string parameters, and call the\n   * `callback` function when the response is completed.\n   *\n   * @param {String}          uri       the URI to request, relative to\n   *                                    `picc.API.url`\n   * @param {String|Object?}  params    query string\n   * @param {Function}        callback  the error-first callback:\n   *                                    `callback(error, response)`\n   * @return {Object} the d3.xhr() wrapper object\n   */\n  API.get = function(uri, params, done) {\n    // console.info('[API] get(\"%s\", %s)', uri, JSON.stringify(params));\n    if (arguments.length === 2) {\n      done = params;\n      params = addAPIKey({});\n    } else if (params) {\n      params = addAPIKey(params);\n    }\n    if (params) uri = join([uri, params], '?');\n    var url = API.url ? join([API.url, uri], '/') : uri;\n    console.info('[API] get: \"%s\"', url);\n    return d3.json(url, function(error, data) {\n      if (data && data.errors && data.errors.length) {\n        error = data.errors[0];\n      }\n      return done(error, data);\n    });\n  };\n\n  /**\n   * Generate an endpoint function that hits a fixed URI.\n   *\n   * @example\n   * API.search = API.endpoint('search/');\n   *\n   * @param {String}    uri\n   * @return {Function} a function that calls `picc.API.get(uri)` with the\n   *                    provided parameters and callback.\n   */\n  API.endpoint = function(uri) {\n    return function endpoint(params, done) {\n      return API.get(uri, params, done);\n    };\n  };\n\n  // the search endpoint\n  API.search = API.endpoint(schoolEndpoint);\n\n  /**\n   * A helper function to get data for a single school.\n   *\n   * @param {String|Number} id  the school primary key identifier\n   * @param {Function} callback the callback function, as in\n   *                            `picc.API.get()`, that receives a single\n   *                            school's data as its second parameter on\n   *                            success.\n   */\n  API.getSchool = function(id, done) {\n    var params = {};\n    params[idField] = id;\n    return API.get(schoolEndpoint, params, function(error, res) {\n      var meta = res.metadata || res;\n      if (error || !meta.total) {\n        return done(error\n          ? error.responseText || error || errors.NO_SUCH_SCHOOL\n          : errors.NO_SUCH_SCHOOL);\n      } else if (res.total > 1) {\n        console.warn('More than one school found for ID: \"' + id + '\"');\n      }\n      return done(null, res.results[0]);\n    });\n  };\n\n  /**\n   * Get multiple URIs specified as an object, and call the `callback`\n   * function with a similarly structured object containing data for each\n   * URI.\n   *\n   * @example\n   * picc.API.getAll({\n   *   metadata: 'data.json',\n   *   school: [picc.API.getSchool, 100]\n   * }, function(error, data) {\n   *   console.log('got metadata:', data.metadata);\n   *   console.log('got school:', data.school);\n   * });\n   *\n   * @param {Object}    urls      a map of properties to either URIs or\n   *                              Arrays, in which the first element is the\n   *                              function to call and the rest are arguments.\n   * @param {Function}  callback  the callback function:\n   *                              `callback(error, data)`\n   */\n  API.getAll = function(urls, done) {\n    Object.keys(urls).forEach(function(key) {\n      var url = urls[key];\n      urls[key] = Array.isArray(url)\n        ? function(done) {\n          var method = url.shift();\n          if (typeof method === 'string') {\n            method = API[method];\n          }\n          url.push(done);\n          return method.apply(API, url);\n        }\n        : function(done) {\n          return API.get(url, done);\n        };\n    });\n    // console.log('getAll:', urls);\n    return async.parallel(urls, done);\n  };\n\n  /**\n   * add the API key (if set) to either an object or string of query\n   * parameters, and return the parameters as a query string.\n   *\n   * @param {String|Object} params\n   * @return {String}\n   */\n  function addAPIKey(params) {\n    var param = 'api_key';\n    if (typeof params === 'object') {\n      if (API.key) params[param] = API.key;\n      // collapse arrays into comma-separated strings\n      // per the API\n      collapseArrays(params);\n      params = querystring.stringify(params);\n    } else if (API.key) {\n      params += ['&', param, '=', API.key].join('');\n    }\n    return params;\n  }\n\n  /**\n   * Join an array of strings with a `glue` string and de-dupe repeated glue\n   * strings.\n   *\n   * @param {Array} list\n   * @param {String} glue\n   * @return {String}\n   */\n  function join(list, glue) {\n    for (var i = 0; i < list.length; i++) {\n      var str = String(list[i]);\n      if (str.charAt(0) === glue) {\n        list[i] = str.substr(1);\n      } else if (str.charAt(str.length - 1) === glue) {\n        list[i] = str.substr(0, str.length - 1);\n      }\n    }\n    return list.join(glue);\n  }\n\n  /**\n   * Iterate over the keys of an `object` and replace any that have Array\n   * values with strings joined with `glue`.\n   *\n   * @param {Object} obj\n   * @param {String?} glue\n   * @return {Object} the original object\n   */\n  function collapseArrays(obj, glue) {\n    if (!glue) glue = ',';\n    for (var key in obj) {\n      if (Array.isArray(obj[key])) {\n        obj[key] = obj[key].join(glue);\n      }\n    }\n    return obj;\n  }\n\n  return API;\n})();\n\n// this is our \"n/a\" string that we display for null numeric values\nvar NA = '--';\n\n/**\n * This is our format generator. Its methods are format generators for\n * specific types of values, and they take a key in the data object to\n * format. For instance:\n *\n * @example\n * var formatFoo = format.percent('foo');\n * formatFoo({foo: 0.5}) -> '50%'\n */\npicc.format = (function() {\n  var formatter = function(fmt, _empty) {\n    var round = false;\n    if (typeof fmt === 'string') {\n      round = !!fmt.match(/d$/);\n      fmt = d3.format(fmt);\n    }\n    return function(key, empty) {\n      empty = empty || _empty;\n      if (typeof empty === 'string') {\n        empty = d3.functor(empty);\n      }\n      key = key\n        ? picc.access(key)\n        : function(v) { return v; };\n      return function(d) {\n        var value = key.call(this, d);\n        if (empty && value === '' || isNaN(String(value))) {\n          return empty.call(d);\n        }\n        if (round) value = Math.round(value);\n        return fmt.call(d, value, key);\n      };\n    };\n  };\n\n  var map = function(keys, fallback) {\n    return function(key) {\n      return keys[key] || fallback;\n    };\n  };\n\n  var range = function(ranges) {\n    var len = ranges.length;\n    var i;\n    return function(value) {\n      value = +value;\n      for (i = 0; i < len; i++) {\n        var range = ranges[i];\n        if (value >= range[0] && value < range[1]) {\n          return range[2];\n        }\n      }\n    };\n  };\n\n  return {\n    // format.dollars('x')({x: 1000}) === '$1,000'\n    dollars: formatter('$,d', NA),\n    // format.percent('y')({x: 1000}) === '$1,000'\n    percent: formatter('.0%', NA),\n    number: formatter(',d', NA),\n\n    // format.plural('x', 'foo')({x: 1}) === 'foo'\n    // format.plural('x', 'foo')({x: 2}) === 'foos'\n    plural: function(key, singular, plural) {\n      key = picc.access(key);\n      if (!plural) plural = singular + 's';\n      return function(d) {\n        return key.call(this, d) == 1 ? singular : plural;\n      };\n    },\n\n    // format.map('x', {1: 'a'})({x: 1}) === 'a'\n    map: function(key, values, empty) {\n      return formatter(map(values))\n        .call(this, key, empty);\n    },\n\n    // format.control('control')({control: 1}) === 'Public'\n    // format.control('control')({control: 2}) === 'Private non-profit'\n    control: formatter(map({\n      '1': 'Public',\n      '2': 'Private',\n      '3': 'For-Profit'\n    }, 'control unknown')),\n\n    controlClass: formatter(map({\n      '1': 'icon-public',\n      '2': 'icon-private',\n      '3': 'icon-profit'\n    }, '')),\n\n    // format.preddeg('deg')({deg: 2}) === '2-year'\n    // format.preddeg('deg')({deg: 3}) === '4-year'\n    preddeg: formatter(map({\n      //'1': 'Certificate',\n      '2': '2',\n      '3': '4',\n      //'4': 'Graduate'\n    }, '')),\n\n    empty: function(key) {\n      key = picc.access(key);\n      return function(d) {\n        return !key.call(this, d);\n      };\n    },\n\n    notEmpty: function(key) {\n      key = picc.access(key);\n      return function(d) {\n        return !!key.call(this, d);\n      };\n    },\n\n    sizeCategory: formatter(range([\n      [0, 2000, 'Small'],\n      [2000, 15000, 'Medium'],\n      [15000, Infinity, 'Large']\n    ]), 'size unknown'),\n\n    sizeCategoryClass: formatter(range([\n      [0, 2000, 'icon-small'],\n      [2000, 15000, 'icon-medium'],\n      [15000, Infinity, 'icon-large']\n    ]), ''),\n\n    // format.locale('locale')({locale: 11}) === 'City: Large'\n    locale: formatter(map({\n      // '11': 'City: Large',\n      // '12': 'City: Midsize',\n      // '13': 'City: Small',\n      // '21': 'Suburb: Large',\n      // '22': 'Suburb: Midsize',\n      // '23': 'Suburb: Small',\n      // '31': 'Town: Fringe',\n      // '32': 'Town: Distant',\n      // '33': 'Town: Remote',\n      // '41': 'Rural: Fringe',\n      // '42': 'Rural: Distant',\n      // '43': 'Rural: Remote'\n      '11': 'City',\n      '12': 'City',\n      '13': 'City',\n      '21': 'Suburban',\n      '22': 'Suburban',\n      '23': 'Suburban',\n      '31': 'Town',\n      '32': 'Town',\n      '33': 'Town',\n      '41': 'Rural',\n      '42': 'Rural',\n      '43': 'Rural'\n    }, 'locale unknown')),\n\n    localeClass: formatter(map({\n      '11': 'icon-city',\n      '12': 'icon-city',\n      '13': 'icon-city',\n      '21': 'icon-suburban',\n      '22': 'icon-suburban',\n      '23': 'icon-suburban',\n      '31': 'icon-town',\n      '32': 'icon-town',\n      '33': 'icon-town',\n      '41': 'icon-rural',\n      '42': 'icon-rural',\n      '43': 'icon-rural'\n    }, '')),\n\n    href: function(key) {\n      key = picc.access(key);\n      return function(d) {\n        var url = key.call(this, d);\n        if (!url) return null;\n        else if (String(url).indexOf('http') !== 0) {\n          return 'http://' + url;\n        } else {\n          return url;\n        }\n      };\n    },\n\n  };\n})();\n\n\npicc.fields = {\n  ID:                   'id',\n  NAME:                 'school.name',\n  CITY:                 'school.city',\n  STATE:                'school.state',\n  ZIP_CODE:             'school.zip',\n\n  SCHOOL_URL:           'school.school_url',\n\n  LOCATION:             'location',\n  OWNERSHIP:            'school.ownership',\n  LOCALE:               'school.locale',\n  REGION_ID:            'school.region_id',\n\n  RELIGIOUS:            'school.religious_affiliation',\n  OPERATING:            'school.operating',\n\n  SIZE:                 '2013.student.size',\n  ONLINE_ONLY:          'school.online_only',\n\n  WOMEN_ONLY:           'school.women_only',\n  MEN_ONLY:             'school.men_only',\n  MINORITY_SERVING:     'school.minority_serving',\n\n  PREDOMINANT_DEGREE:   'school.degrees_awarded.predominant',\n  HIGHEST_DEGREE:   'school.degrees_awarded.highest',\n  UNDER_INVESTIGATION:  'school.under_investigation',\n\n  // net price\n  NET_PRICE:            '2013.cost.avg_net_price.overall',\n  NET_PRICE_BY_INCOME:  '2013.cost.net_price',\n\n  // completion rate\n  COMPLETION_RATE:      '2013.completion.rate_suppressed.overall',\n\n  RETENTION_RATE:       '2013.student.retention_rate',\n\n  REPAYMENT_RATE:       '2013.repayment.3_yr_repayment_suppressed.overall',\n\n  AVERAGE_TOTAL_DEBT:   '2013.aid.median_debt_suppressed.completers.overall',\n  MONTHLY_LOAN_PAYMENT: '2013.aid.median_debt_suppressed.completers.monthly_payments',\n\n  AID_PERCENTAGE:       '2013.aid.federal_loan_rate',\n  PELL_PERCENTAGE:      '2013.aid.pell_grant_rate',\n\n  MEDIAN_EARNINGS:      '2011.earnings.10_yrs_after_entry.median',\n\n  EARNINGS_GT_25K:      '2011.earnings.6_yrs_after_entry.percent_greater_than_25000',\n\n  PROGRAM_PERCENTAGE:   '2013.academics.program_percentage',\n  PROGRAM_OFFERED:      '2013.academics.program',\n  DEGREE_OFFERED:       '2013.academics.program_available',\n\n  PART_TIME_SHARE:      '2013.student.part_time_share',\n  FEMALE_SHARE:         '2013.student.demographics.female_share',\n  RACE_ETHNICITY:       '2013.student.demographics.race_ethnicity',\n  AGE_ENTRY:            '2013.student.demographics.age_entry',\n\n  ACT_25TH_PCTILE:      '2013.admissions.act_scores.25th_percentile.cumulative',\n  ACT_75TH_PCTILE:      '2013.admissions.act_scores.75th_percentile.cumulative',\n  ACT_MIDPOINT:         '2013.admissions.act_scores.midpoint.cumulative',\n\n  SAT_CUMULATIVE_AVERAGE:   '2013.admissions.sat_scores.average.overall',\n\n  SAT_READING_25TH_PCTILE:  '2013.admissions.sat_scores.25th_percentile.critical_reading',\n  SAT_READING_75TH_PCTILE:  '2013.admissions.sat_scores.75th_percentile.critical_reading',\n  SAT_READING_MIDPOINT:     '2013.admissions.sat_scores.midpoint.critical_reading',\n\n  SAT_MATH_25TH_PCTILE:     '2013.admissions.sat_scores.25th_percentile.math',\n  SAT_MATH_75TH_PCTILE:     '2013.admissions.sat_scores.75th_percentile.math',\n  SAT_MATH_MIDPOINT:        '2013.admissions.sat_scores.midpoint.math',\n\n  SAT_WRITING_25TH_PCTILE:  '2013.admissions.sat_scores.25th_percentile.writing',\n  SAT_WRITING_75TH_PCTILE:  '2013.admissions.sat_scores.75th_percentile.writing',\n  SAT_WRITING_MIDPOINT:     '2013.admissions.sat_scores.midpoint.writing',\n\n  NET_PRICE_CALC_URL:       'school.price_calculator_url'\n};\n\npicc.access = function(key) {\n  return (typeof key === 'function')\n    ? key\n    : getter(key);\n};\n\nfunction getter(key) {\n  if (typeof key !== 'string') {\n    return function(d) { return d[key]; };\n  }\n  if (key.indexOf('.') > -1) {\n    var bits = key.split('.');\n    var len = bits.length;\n    return function(d) {\n      if (key in d) return d[key];\n      for (var i = 0; i < len; i++) {\n        d = d[bits[i]];\n        if (d === null || d === undefined) return d;\n      }\n      return d;\n    };\n  }\n  return function(d) { return d[key]; };\n}\n\n/**\n * This is a function composer for nested field accessors. It\n * takes an arbitrary number of arugments that may be strings,\n * integers or functions; the latter of which is evaluated to\n * get a *key* into the current nested object. E.g.:\n *\n * @example\n * var f = picc.access.composed('foo', picc.access.yearDesignation);\n * assert.equal({common_degree: '2', {foo: {lt_four_year: 1}}}, 1);\n * assert.equal({common_degree: '3', {foo: {four_year: 1}}}, 1);\n *\n * @argument ... key\n * @return {*}\n */\npicc.access.composed = function(key0, key1, key2) {\n  var keys = [].slice.call(arguments);\n  var len = keys.length;\n  return function nested(d) {\n\n    var _keys = keys.map(function(key) {\n      return (typeof key === 'function')\n        ? key.call(this, d)\n        : key;\n    }, this);\n\n    var _key = _keys.join('.');\n    // console.log('_key:', _key);\n    if (_key in d) return d[_key];\n\n    var value = d;\n    for (var i = 0; i < len; i++) {\n      var key = keys[i];\n      if (typeof key === 'function') {\n        key = key.call(this, d);\n        if (key === null) return key;\n      }\n      value = getter(key)(value);\n      if (value === undefined || value === null) break;\n    }\n    return value;\n  };\n};\n\npicc.access.publicPrivate = function(d) {\n  var ownership = picc.access(picc.fields.OWNERSHIP)(d);\n  switch (+ownership) {\n    case 1: // public\n      return 'public';\n\n    case 2: // private\n    case 3:\n      return 'private';\n  }\n  return null;\n};\n\npicc.access.yearDesignation = function(d) {\n  var degree = picc.access(picc.fields.PREDOMINANT_DEGREE)(d);\n  switch (+degree) {\n    case 2: // 2-year (AKA less than 4-year)\n      return 'lt_four_year';\n    case 3: // 4-year\n      return 'four_year';\n  }\n  return null;\n};\n\npicc.access.nationalStat = function(stat, suffix) {\n  if (suffix) {\n    suffix = picc.access(suffix);\n    return function(d) {\n      var key = suffix.apply(this, arguments);\n      return this.getAttribute([\n        'data', stat, key\n      ].join('-'));\n    };\n  } else {\n    return function() {\n      return this.getAttribute('data-' + stat);\n    };\n  }\n};\n\npicc.access.netPrice = picc.access.composed(\n  picc.fields.NET_PRICE\n);\n\npicc.access.netPriceByIncomeLevel = function(level) {\n  return picc.access.composed(\n    picc.fields.NET_PRICE_BY_INCOME,\n    picc.access.publicPrivate,\n    'by_income_level',\n    level\n  );\n};\n\n\n/*\n// XXX this version of the median earnings accessor stringifies a\n// numeric earnings value so that the old version of tagalong\n// we're using doesn't treat 0 as empty\npicc.access.earningsMedian = function(d) {\n  var value = picc.access(picc.fields.MEDIAN_EARNINGS)(d);\n  return typeof value === 'number'\n    ? String(value)\n    : value;\n};\n*/\n\npicc.access.earningsMedian = picc.access.composed(\n  picc.fields.MEDIAN_EARNINGS\n);\n\npicc.access.earnings25k = picc.access.composed(\n  picc.fields.EARNINGS_GT_25K\n);\n\npicc.access.completionRate = picc.access.composed(\n  picc.fields.COMPLETION_RATE\n);\n\npicc.access.partTimeShare = picc.access.composed(\n  picc.fields.PART_TIME_SHARE\n);\n\n// only use full-time retention rate, branching on year designation\npicc.access.retentionRate = function(d) {\n  var retention = picc.access(picc.fields.RETENTION_RATE)(d);\n  /* jshint ignore:start */\n  return retention.four_year.full_time || retention.lt_four_year.full_time;\n  /* jshint ignore:end */\n};\n\npicc.access.size = picc.access.composed(\n  picc.fields.SIZE\n);\n\npicc.access.location = picc.access(picc.fields.LOCATION);\n\n/**\n * Returns an array of special designation strings for a given school object.\n *\n * @param {Object} school the school data object\n * @return {Array} an array of human-readable strings\n */\npicc.access.specialDesignations = function(d) {\n  var designations = [];\n  var SPECIAL_DESIGNATIONS = picc.SPECIAL_DESIGNATIONS || {};\n\n  if (+picc.access(picc.fields.WOMEN_ONLY)(d)) {\n    designations.push(SPECIAL_DESIGNATIONS.women_only);\n  } else if (+picc.access(picc.fields.MEN_ONLY)(d)) {\n    designations.push(SPECIAL_DESIGNATIONS.men_only);\n  }\n\n  var religious = picc.access(picc.fields.RELIGIOUS)(d);\n  if (religious in picc.RELIGIOUS_AFFILIATIONS_BY_NUMBER) {\n    designations.push(picc.RELIGIOUS_AFFILIATIONS_BY_NUMBER[religious]);\n  }\n\n  var minorityServing = picc.access(picc.fields.MINORITY_SERVING)(d);\n  if (minorityServing) {\n    for (var key in SPECIAL_DESIGNATIONS) {\n      if (+minorityServing[key]) {\n        designations.push(SPECIAL_DESIGNATIONS[key]);\n      }\n    }\n  }\n\n  return designations;\n};\n\n/**\n * Returns an array of program areas for a given school object from the API.\n *\n * @param {Object}  school    the school data object\n * @param {Object?} metadata  the optional API metadata object. If this is\n *                            falsy, we look for metadata in `school.metadata`.\n * @return {Array}  an Array of Objects, each with `program` (the name) and\n *                  `percent` (a decimal number or string representing its\n *                  share of student enrollment) properties.\n */\npicc.access.programAreas = function(d, metadata) {\n  if (!metadata) metadata = d.metadata;\n  if (!metadata || !metadata.dictionary) return [];\n\n  var dictionary = metadata.dictionary;\n  var field = picc.fields.PROGRAM_PERCENTAGE;\n  var programs = picc.access(field)(d);\n  if (!programs) return [];\n  // remove the year prefix\n  field = field.replace(/^\\d+\\./, '');\n  return Object.keys(programs || {})\n    .map(function(key) {\n      var value = programs[key];\n      var dictKey = [field, key].join('.');\n      var name = dictionary[dictKey]\n        ? (dictionary[dictKey].label || key)\n        : key;\n      return {\n        program: name,\n        percent: value\n      };\n    })\n    .filter(function(d) {\n      return +d.percent > 0;\n    });\n};\n\n/**\n * @param {*} value\n * @return {*} `null` if `value === \"NULL\"`, otherwise the value as-is.\n */\npicc.nullify = function(value) {\n  return value === 'NULL' ? null : value;\n};\n\npicc.template = function(template) {\n  template = String(template);\n  return function(data) {\n    return template.replace(/{\\s*(\\w+)\\s*}/g, function(_k, key) {\n      return picc.access(key)(data);\n    });\n  };\n};\n\npicc.template.resolve = function(template, data) {\n  return picc.template(template).call(this, data);\n};\n\n// namespace for school-related stuff\npicc.school = {};\n\n/**\n * Common directives for school templates, for use with tagalong.\n */\npicc.school.directives = (function() {\n  var access = picc.access;\n  var format = picc.format;\n  var percent = format.percent();\n  var fields = picc.fields;\n\n  var href = function(d) {\n    var name = access(fields.NAME)(d);\n    name = name ? name.replace(/\\W+/g, '-') : '(unknown)';\n    return [\n      picc.BASE_URL, '/school/?',\n      d.id, '-', name\n    ].join('');\n  };\n\n  var underInvestigation = {\n    '@aria-hidden': function(d) {\n      var flag = access(fields.UNDER_INVESTIGATION)(d);\n      return +flag !== 1;\n    }\n  };\n\n  var years = format.preddeg(fields.PREDOMINANT_DEGREE);\n\n  return {\n    title: {\n      link: {\n        text: access(fields.NAME),\n        '@href': href\n      }\n    },\n\n    school_link: {\n      '@href':  format.href(fields.SCHOOL_URL),\n      text: function(d) {\n        var url = picc.access(fields.SCHOOL_URL)(d);\n        if (!url) return url;\n        // grab the domain, strip the leading \"www.\"\n        return url.split('/').shift().replace(/^www\\./, '');\n      }\n    },\n\n    share_link: {\n      '@href': function(d) {\n        return picc.template.resolve(\n          this.getAttribute('data-href'),\n          {url: encodeURIComponent(document.location.href)}\n        );\n      }\n    },\n\n    response_link: {\n      '@href': function(d) {\n        var href = format.href(fields.SCHOOL_URL)(d);\n        if (href) {\n          var suffix = '/CollegeScorecard';\n          if (href.substr(-1) === '/') {\n            href += suffix.substr(1);\n          } else {\n            href += suffix;\n          }\n          return href;\n        }\n        return '';\n      }\n    },\n\n    name:           access(fields.NAME),\n    city:           access(fields.CITY),\n    state:          access(fields.STATE),\n\n    under_investigation: underInvestigation,\n\n    // FIXME this is a hack to deal with the issue of tagalong\n    // not applying a directive to multiple elements\n    under_investigation2: underInvestigation,\n\n    size_number:    format.number(fields.SIZE),\n    control: {\n      '@class': format.controlClass(fields.OWNERSHIP),\n      value: format.control(fields.OWNERSHIP)\n    },\n    locale_name: {\n      '@class': format.localeClass(fields.LOCALE),\n      value: format.locale(fields.LOCALE)\n    },\n\n    years: {\n      '@class': function(d) {\n        return years(d) ? 'n-year' : 'certificate';\n      },\n      number: years,\n      label: function(d) {\n        return years(d) ? 'Year' : 'Certificate';\n      }\n    },\n\n    size_category: {\n      '@class': format.sizeCategoryClass(fields.SIZE),\n      value: format.sizeCategory(fields.SIZE)\n    },\n\n    // this is a direct accessor because some designations\n    // (e.g. `women_only`) are at the object root, rather than\n    // nested in `minority_serving`.\n    special_designations: access.specialDesignations,\n\n    average_cost: format.dollars(access.netPrice),\n    average_cost_meter: {\n      // '@max':     access.nationalStat('max', access.publicPrivate),\n      // '@average': access.nationalStat('median', access.publicPrivate),\n      '@value':   access.netPrice,\n      label:      format.dollars(function() { return this.average; })\n    },\n\n    // income level net price stats\n    net_price_income1: format.dollars(access.netPriceByIncomeLevel('0-30000')),\n    net_price_income2: format.dollars(access.netPriceByIncomeLevel('30001-48000')),\n    net_price_income3: format.dollars(access.netPriceByIncomeLevel('48001-75000')),\n    net_price_income4: format.dollars(access.netPriceByIncomeLevel('75001-110000')),\n    net_price_income5: format.dollars(access.netPriceByIncomeLevel('110001-plus')),\n\n    advantage_rate: format.percent(fields.EARNINGS_GT_25K),\n\n    grad_rate: format.percent(access.completionRate),\n    grad_rate_meter: {\n      // '@average': access.nationalStat('median', access.yearDesignation),\n      '@value':   access.completionRate,\n      label:      format.percent(function() { return this.average; })\n    },\n\n    average_salary: format.dollars(access.earningsMedian),\n    average_salary_meter: {\n      '@value': access.earningsMedian,\n      // '@average': access.nationalStat('median', access.yearDesignation),\n      label:    format.dollars(function() { return this.average; })\n    },\n\n    repayment_rate_percent: format.percent(fields.REPAYMENT_RATE),\n    repayment_rate_meter: {\n      '@value': access(fields.REPAYMENT_RATE),\n      // '@average': access.nationalStat('median', access.yearDesignation),\n      label:    format.percent(function() { return this.average; })\n    },\n\n    average_total_debt: format.dollars(fields.AVERAGE_TOTAL_DEBT),\n    average_monthly_loan_payment: format.dollars(fields.MONTHLY_LOAN_PAYMENT),\n\n    federal_aid_percentage: format.percent(fields.AID_PERCENTAGE),\n    pell_grant_percentage: format.percent(fields.PELL_PERCENTAGE),\n\n    earnings_gt_25k: format.percent(access.earnings25k),\n    earnings_gt_25k_meter: {\n      '@value': access.earnings25k,\n      label:    format.percent(function() { return this.average; })\n    },\n\n    retention_rate_value: format.percent(access.retentionRate),\n    retention_rate_meter: {\n      '@value': access.retentionRate,\n      label:    format.percent(function() { return this.average; })\n    },\n\n    full_time_percent: format.number(function(d) {\n      var pt = access.partTimeShare(d);\n      return pt === null ? null : 100 * (1 - pt);\n    }),\n\n    part_time_percent: format.number(function(d) {\n      var pt = access.partTimeShare(d);\n      return pt === null ? null : 100 * pt;\n    }),\n\n    gender_values: function(d) {\n      var female = access(fields.FEMALE_SHARE)(d);\n      if (female === null) return [];\n      female = +female;\n      return [\n        {label: 'Female', value: female, percent: percent(female)},\n        {label: 'Male', value: 1 - female, percent: percent(1 - female)}\n      ];\n    },\n\n    race_ethnicity_values: function(d) {\n      if (!d.metadata) return [];\n      var values = access(fields.RACE_ETHNICITY)(d);\n      if (!values) return [];\n      return Object.keys(values)\n        .map(function(key) {\n          var value = picc.nullify(values[key]);\n          var label = picc.RACE_ETHNICITY_LABELS[key] || key;\n          return {\n            key:      key,\n            label:    label,\n            value:    value,\n            percent:  value >= .005\n              ? percent(value)\n              : '<1%'\n          };\n        })\n        .filter(function(d) {\n          return d.value > 0;\n        });\n    },\n\n    available_programs: function(d) {\n      var areas = access.programAreas(d);\n      return areas\n        .sort(function(a, b) {\n          return d3.ascending(a.program, b.program);\n        });\n    },\n\n    num_available_programs: format.number(function(d) {\n      return access.programAreas(d).length;\n    }),\n\n    popular_programs: function(d) {\n      var areas = access.programAreas(d);\n      if (areas.length) {\n        var total = d3.sum(areas, picc.access('percent'));\n        areas.forEach(function(d) {\n          d.value = +d.percent / total;\n          d.percent = percent(d.value);\n        });\n      }\n      return areas\n        .sort(function(a, b) {\n          return d3.descending(a.value, b.value);\n        })\n        .slice(0, 5);\n    },\n\n    programs_plural: format.plural(function(d) {\n      return access.programAreas(d).length;\n    }, 'Program'),\n\n    age_entry: function(d) {\n      var age = picc.access(fields.AGE_ENTRY)(d);\n      return age ? age : NA;\n    },\n\n    more_link: {\n      '@href': href\n    },\n\n    act_scores_visible: {\n      '@aria-hidden': format.empty(fields.ACT_MIDPOINT),\n    },\n    act_scores_invisible: {\n      '@aria-hidden': format.notEmpty(fields.ACT_MIDPOINT),\n    },\n    act_scores: {\n      '@lower': access(fields.ACT_25TH_PCTILE),\n      '@upper': access(fields.ACT_75TH_PCTILE),\n      // '@middle': access(fields.ACT_MIDPOINT),\n    },\n\n    sat_reading_scores_visible: {\n      '@aria-hidden': format.empty(fields.SAT_READING_MIDPOINT),\n    },\n    sat_reading_scores_invisible: {\n      '@aria-hidden': format.notEmpty(fields.SAT_READING_MIDPOINT),\n    },\n    sat_reading_scores: {\n      '@lower': access(fields.SAT_READING_25TH_PCTILE),\n      '@upper': access(fields.SAT_READING_75TH_PCTILE),\n      // '@middle': access(fields.SAT_READING_MIDPOINT),\n    },\n\n    sat_math_scores_visible: {\n      '@aria-hidden': format.empty(fields.SAT_MATH_MIDPOINT),\n    },\n    sat_math_scores_invisible: {\n      '@aria-hidden': format.notEmpty(fields.SAT_MATH_MIDPOINT),\n    },\n    sat_math_scores: {\n      '@lower': access(fields.SAT_MATH_25TH_PCTILE),\n      '@upper': access(fields.SAT_MATH_75TH_PCTILE),\n      // '@middle': access(fields.SAT_MATH_MIDPOINT),\n    },\n\n    sat_writing_scores_visible: {\n      '@aria-hidden': format.empty(fields.SAT_WRITING_MIDPOINT),\n    },\n    sat_writing_scores_invisible: {\n      '@aria-hidden': format.notEmpty(fields.SAT_WRITING_MIDPOINT),\n    },\n    sat_writing_scores: {\n      '@lower': access(fields.SAT_WRITING_25TH_PCTILE),\n      '@upper': access(fields.SAT_WRITING_75TH_PCTILE),\n      // '@middle': access(fields.SAT_WRITING_MIDPOINT),\n    },\n\n    net_price_calculator: {\n      '@href': format.href(fields.NET_PRICE_CALC_URL)\n    }\n  };\n\n})();\n\n\n// form utilities\npicc.form = {};\n\n/**\n * These are mappings of values for common form fields from\n * URL- (and human-) friendly values to ones that the API\n * recognizes.\n */\npicc.form.mappings = {\n  sort: {\n    advantage:          picc.fields.EARNINGS_GT_25K,\n    salary:             picc.fields.MEDIAN_EARNINGS,\n    name:               picc.fields.NAME,\n    size:               picc.fields.SIZE,\n    avg_net_price:      picc.fields.NET_PRICE,\n    completion_rate:    picc.fields.COMPLETION_RATE,\n  },\n\n  control: {\n    'public': 1,\n    'private': 2,\n    'profit': 3\n  },\n\n  size: {\n    small:  '..1999',\n    medium: '2000..15000',\n    large:  '15001..'\n  },\n\n  degree: {\n    a: '2',\n    b: '3'\n  }\n};\n\n/**\n * Adds a \"submit\" listener to the provided formdb.Form instance (or CSS\n * selector) that intercepts its data, formats it as a querystring, then does\n * a client-side redirect with window.location, effectively removing the\n * query string parameters for empty inputs.\n *\n * @param {String|Object} form  the form CSS selector or `formdb.Form`\n *                              instance.\n * @return {Object} the `formdb.Form` instance.\n */\npicc.form.minifyQueryString = function(form) {\n\n  // allow form to be a CSS selector\n  if (typeof form !== 'object') {\n    form = new formdb.Form(form);\n  }\n\n  form.on('submit', function(data, e) {\n    var url = [\n        form.element.action,\n        querystring.stringify(data)\n      ]\n      .join('?')\n      .replace('?&', '?')\n      .replace(/&{2,}/g, '&')\n      .replace(/&$/, '');\n\n    window.location = url;\n    e.preventDefault();\n    return false;\n  });\n\n  return form;\n};\n\n\n/**\n *\n */\npicc.form.prepareParams = (function() {\n  var fields = picc.fields;\n\n  var alias = {\n    name:                 fields.NAME,\n\n    // slider ranges\n    avg_net_price:        fields.NET_PRICE + '__range',\n    completion_rate:      fields.COMPLETION_RATE + '__range',\n    median_earnings:      fields.MEDIAN_EARNINGS + '__range',\n    monthly_payments:     fields.MONTHLY_LOAN_PAYMENT + '__range',\n\n    religious:            fields.RELIGIOUS,\n\n    // special designations: women/men only, minority groups\n    serving: function(query, value, key) {\n      var field = [fields.MINORITY_SERVING, value].join('.');\n      switch (value) {\n        case 'men_only':\n          field = fields.MEN_ONLY;\n          break;\n        case 'women_only':\n          field = fields.WOMEN_ONLY;\n          break;\n      }\n      query[field] = 1;\n      delete query[key];\n    },\n\n    state:                fields.STATE,\n\n    zip: function(query, value, key) {\n      // if there is no distance query, use the fully-qualified zip code\n      // field to match schools in that zip\n      if (!query.distance) {\n        query[fields.ZIP_CODE] = value;\n        delete query[key];\n      }\n      // (the default will submit `zip=x&distance=y`,\n      // which is what the API expects)\n    },\n\n    control: function(query, value, key) {\n      value = mapControl(value);\n      picc.data.rangify(query, fields.OWNERSHIP, value);\n      delete query[key];\n    },\n\n    region: function(query, value, key) {\n      picc.data.rangify(query, fields.REGION_ID, value);\n      delete query[key];\n    },\n\n    sort: function(query, value, key) {\n      var bits = String(value).split(':');\n      value = bits[0];\n      bits[0] = picc.form.mappings.sort[value];\n      if (!bits[0]) {\n        console.warn('unmapped sort value:', value);\n        bits[0] = value;\n      }\n      query[key] = bits.join(':');\n    },\n\n    major: function(query, value, key) {\n      var subfield = 'degree';\n      // XXX query.degree *may* have been mapped with mapDegree(),\n      // so we switch on either the input values or the output values\n      switch (query.degree) {\n        case 'a':\n        case '2':\n          subfield = 'assoc';\n          break;\n        case 'b':\n        case '3':\n          subfield = 'bachelors';\n          break;\n      }\n      var k = [fields.PROGRAM_OFFERED, subfield, value].join('.');\n      query[k + '__range'] = '1..';\n      delete query[key];\n    },\n\n    size: function(query, value, key) {\n      value = mapSize(value);\n      query[picc.fields.SIZE + '__range'] = Array.isArray(value)\n        ? value.join(',')\n        : value;\n      delete query[key];\n    },\n\n    degree: function(query, value, key) {\n      if (value === 'a') {\n        query[picc.fields.DEGREE_OFFERED + '.assoc'] = true;\n      } else if (value === 'b') {\n        query[picc.fields.DEGREE_OFFERED + '.bachelors'] = true;\n      }\n      delete query[key];\n    },\n\n    // XXX: this is only used for testing\n    under_investigation:  picc.fields.UNDER_INVESTIGATION,\n  };\n\n  // map a size or array of sizes to API-friendly range values\n  function mapSize(value) {\n    if (Array.isArray(value)) {\n      return value.map(mapSize);\n    }\n    return picc.form.mappings.size[value];\n  }\n\n  // map a degree string ('', 'a' or 'b') or array of strings to an\n  // API-friendly \"predominant degree\" range value\n  function mapDegree(value) {\n    if (Array.isArray(value)) {\n      return value.map(mapDegree);\n    }\n    return picc.form.mappings.degree[value];\n  }\n\n  function mapControl(value) {\n    if (Array.isArray(value)) {\n      return value.map(mapControl);\n    }\n    return picc.form.mappings.control[value];\n  }\n\n  // returns true if a value is an empty string, null, undefined, or an array\n  // with an empty 0 index value\n  function empty(value) {\n    return value === ''\n        || value === null\n        || value === undefined\n        || (Array.isArray(value) && empty(value[0]));\n  }\n\n  return function prepareParams(params) {\n\n    var query = picc.data.extend({}, params);\n\n    // only get open schools\n    query[fields.OPERATING] = 1;\n\n    // ignore distance if no zip is provided\n    if (query.distance && !query.zip) {\n      console.warn('distance provided without zip; ignoring', query);\n      delete query.distance;\n    }\n\n    // by default, filter out schools for which school.size is null\n    // with a numeric range query\n    if (!query.size) {\n      query[fields.SIZE + '__range'] = '0..';\n    }\n\n    /*\n    // if \"online\" is truthy, then we should *include* online schools,\n    // which means not filtering on that field\n    if (query.online) {\n    } else {\n      // otherwise (if query.online is falsy), filter by fields.ONLINE_ONLY=0\n      query[fields.ONLINE_ONLY] = 0;\n    }\n    delete query.online;\n    */\n\n    if (!query.degree) {\n      query[fields.DEGREE_OFFERED + '.assoc_or_bachelors'] = true;\n    }\n\n    for (var key in query) {\n      var v = query[key];\n\n      // delete empty keys\n      if (empty(v)) {\n        delete query[key];\n        continue;\n      }\n\n      var k = alias[key];\n      switch (typeof k) {\n        case 'function':\n          k(query, v, key);\n          break;\n\n        case 'string':\n          query[k] = v;\n          delete query[key];\n          break;\n      }\n    }\n\n    for (key in query) {\n      if (query[key] === null || query[key] === undefined) {\n        delete query[key];\n      }\n    }\n\n    // set the predominant degree to range '1..3' because ED expert guidance\n    query[picc.fields.PREDOMINANT_DEGREE + '__range'] = '1..3';\n\n    // set the highest degree to range '2..4' to exclude certificate only schools\n    query[picc.fields.HIGHEST_DEGREE + '__range'] = '2..4';\n\n    return query;\n  };\n\n})();\n\n\n// UI tools\npicc.ui = {};\n\n/**\n * Expand all of the accordions on the page (or only those matching the\n * provided selector) according to an `expanded` value or function.\n *\n * @param {String?} selector  an optional CSS selector to find accordions.\n *                            The default is `\"aria-accordion\"`.\n * @param {Boolean|Function} expanded a value or function that should return\n *                                    `true` for expanded accordions, and\n *                                    `false` otherwise.\n */\npicc.ui.expandAccordions = function(selector, expanded) {\n  if (arguments.length === 1) {\n    expanded = selector;\n    selector = null;\n  }\n  if (!selector) {\n    selector = 'aria-accordion';\n  }\n  expanded = d3.functor(expanded);\n  return d3.selectAll(selector)\n    .filter(function() {\n      return !!expanded.apply(this, arguments);\n    })\n    .property('expanded', true);\n};\n\n/**\n * Calls the `callback` function immediately if `document.readyState ===\n * 'complete'`, otherwise calls it when the window dispatches a `load` event.\n *\n * @param {Function} callback\n * @return {Boolean} `true` if called immediately, `false` otherwise.\n */\npicc.ready = function(callback) {\n  if (document.readyState === 'complete') {\n    callback();\n    return true;\n  } else {\n    window.addEventListener('load', callback);\n    return false;\n  }\n};\n\n/**\n * A function debouncer. This returns a function that will call `fn` after\n * `delay` milliseconds, and will squash previous calls to avoid race\n * conditions. In this example, the `update` function will only be called\n * once, 100ms later:\n *\n * @example\n * var deferredUpdate = picc.debounce(update, 100);\n * deferredUpdate();\n * deferredUpdate();\n *\n * @param {Function} fn   the function to call\n * @param {Number} delay  the call delay in milliseconds\n * @return {Function}     the wrapped function, which returns a\n *                        `setTimeout()` identifier for canceling.\n */\npicc.debounce = function(fn, delay) {\n  var timeout;\n  return function() {\n    var context = this;\n    var args = arguments;\n    clearTimeout(timeout);\n    return timeout = setTimeout(function() {\n      fn.apply(context, args);\n    }, delay);\n  };\n};\n\n/**\n * This is an event delegation helper that allows us to listen for events on\n * a parent element and call the handler iff (if and only if) the qualify\n * function returns true for the event's target element.\n *\n * The advantage of this approach is that we don't have to add listeners to\n * specific elements, which means that we don't have to add and remove\n * listeners whenever templated elements are added and removed from the DOM.\n *\n * We use this to implement tooltips by listening for mouseenter/mouseleave\n * and focus/blur events on the body and only calling the event handler if\n * the target element has an aria-describedy attribute that begins with\n * \"tip-\".\n *\n * @example\n * picc.delegate(document.body, function(target) {\n *   return target.hasAttribute('data-alert');\n * }, 'click', function(e) {\n *   alert(e.target.getAttribute('data-alert'));\n * });\n *\n * @argument {Element} root       the top-most element at which events should\n *                                be captured\n * @argument {Function} qualify   this function should return `true` for a\n *                                given element if the handler is to be called\n * @argument {*} event            the event or events to listen for, which\n *                                can be specified as a string (single event),\n *                                an Array (multiple events), or an Object\n *                                mapping event types to listeners.\n * @return {Object|Function}      the delegated event listener(s), which you\n *                                can pass to `root.removeEventListener()`.\n *                                The structure matches that of the `event`\n *                                parameter.\n */\npicc.delegate = function(root, qualify, event, listener) { if\n  (Array.isArray(event)) {\n    return event.map(function(e) {\n      return picc.delegate(root, qualify, e, listener);\n    });\n  }\n\n  if (typeof event === 'object') {\n    var listeners = {};\n    for (var e in event) {\n      listeners[e] = picc.delegate(root, qualify, e, event[e]);\n    }\n    return listeners;\n  }\n\n  var _listener = function(e) {\n    if (qualify.call(e.target, e)) {\n      listener.call(e.target, e);\n    }\n  };\n  root.addEventListener(event, _listener, true);\n  return listener;\n};\n\n// data tools\npicc.data = {};\n\npicc.data.extend = function(obj, a, b) {\n  for (var i = 1, len = arguments.length; i < len; i++) {\n    var arg = arguments[i];\n    if (typeof arg === 'object') {\n      for (var key in arg) obj[key] = arg[key];\n    }\n  }\n  return obj;\n};\n\npicc.data.rangify = function(obj, key, values) {\n  if (Array.isArray(values)) {\n    switch (values.length) {\n      case 0:\n        values = '';\n        break;\n      case 1:\n        values = values[0];\n        break;\n    }\n  }\n\n  if (!Array.isArray(values)) {\n    values = String(values);\n    if (values.indexOf('..') > -1) {\n      obj[key + '__range'] = values;\n    } else if (values) {\n      obj[key] = values;\n    }\n    return obj;\n  }\n\n  values = values.map(Number)\n    .sort(d3.ascending);\n\n  var range = [values.shift()];\n  var ranges = [range];\n  while (values.length) {\n    var value = values.shift();\n    var previous = range[range.length - 1];\n    if (value === previous + 1) {\n      range.push(value);\n    } else {\n      ranges.push(range = [value]);\n    }\n  }\n\n  obj[key + '__range'] = ranges.map(function(range, i) {\n    var min = range.shift();\n    var max = range.length ? range.pop() : min;\n    if (min === max) {\n      switch (i) {\n        case 0:\n          return '..' + min;\n        case ranges.length - 1:\n          return max + '..';\n      }\n    }\n    return [min, max].join('..');\n  }).join(',');\n\n  return obj;\n};\n\npicc.data.selectKeys = function(obj, keys) {\n  var copy = {};\n  keys.forEach(function(key) {\n    if (key in obj) {\n      copy[key] = obj[key];\n    } else {\n      console.warn('no such key in source object:', key, obj);\n    }\n  });\n  return copy;\n};\n\n/**\n * Tooltip helper functions.\n */\npicc.tooltip = {\n\n  /**\n   * This is an hover/focus event listener that will attach the corresponding\n   * tooltip to this element's tooltip-target.\n   */\n  show: function showTooltip(e) {\n    clearTimeout(this.__tooltipShowTimeout);\n\n    var tooltip = this.tooltip;\n    if (!tooltip) {\n      tooltip = document.getElementById(this.getAttribute('aria-describedby'));\n      if (!tooltip) {\n        return console.warn('no tooltip found for:', this);\n      }\n      this.tooltip = tooltip;\n    }\n\n    var parent = this;\n    var ref = this.querySelector('.tooltip-target') || this;\n    var show = function() {\n      // console.log('show tooltip:', this, tooltip);\n      tooltip.setAttribute('aria-hidden', false);\n      var click;\n      // d3 makes this a lot simpler with exclusive listeners\n      var win = d3.select(window)\n        .on('click.tooltip', click = function(e) {\n          win.on('click.tooltip', null);\n          if (parent.contains(tooltip)) {\n            picc.tooltip.hide.call(parent, e);\n          } else {\n            console.warn('ignoring click on unowned tooltip:', parent, tooltip);\n          }\n        }, true);\n      picc.tooltip.constrain(tooltip, ref);\n    };\n\n    if (e.type === 'click') {\n      show();\n    } else {\n      this.__tooltipShowTimeout = setTimeout(show, 200);\n    }\n  },\n\n  /**\n   * This is an leave/blur event listener that will hide the attached\n   * tooltip, but leave it in place for debugging.\n   */\n  hide: function hideTooltip() {\n    clearTimeout(this.__tooltipShowTimeout);\n    if (!this.tooltip) return;\n    this.tooltip.setAttribute('aria-hidden', true);\n    if (this.tooltip.originalParent) {\n      this.tooltip.originalParent.appendChild(this.tooltip);\n    }\n    this.tooltip = null;\n  },\n\n  toggle: function toggleTooltip(e) {\n    if (this.tooltip && this.tooltip.getAttribute('aria-hidden') !== 'false') {\n      picc.tooltip.hide.call(this, e);\n    } else {\n      picc.tooltip.show.call(this, e);\n    }\n  },\n\n  /**\n   * This helper function positions the tooltip relative to its target\n   * parent by measuring the size of both and their position relative to the\n   * viewport (`window.innerWidth` and `window.innerHeight`) so that the\n   * tooltip's content (`.tooltip-content`) can be shifted left, right, up or\n   * down accordingly.\n   */\n  constrain: function(tooltip, parent) {\n    // remove the tooltip so we can accurately calculate\n    // the outer element's size\n    if (parent === tooltip.parentNode) {\n      parent.removeChild(tooltip);\n    } else {\n      tooltip.originalParent = tooltip.parentNode;\n    }\n\n    var content = tooltip.querySelector('.tooltip-content') || tooltip;\n    content.style.removeProperty('left');\n\n    var outer = parent.getBoundingClientRect();\n    parent.appendChild(tooltip);\n\n    var rect = content.getBoundingClientRect();\n\n    var margin = 10;\n    var offsetWidth = (rect.width - outer.width) / 2;\n    var halfWidth = rect.width / 2;\n    var bump = -halfWidth;\n\n    var left = outer.left - offsetWidth;\n    var leftEdge = margin / 2;\n    var right = outer.right + offsetWidth;\n    var rightEdge = window.innerWidth - margin * 2;\n\n    if (right > rightEdge) {\n      bump -= right - rightEdge;\n    } else if (left < leftEdge) {\n      bump += leftEdge - left;\n    }\n\n    if (bump) {\n      content.style.left = Math.round(bump) + 'px';\n    } else {\n      content.style.removeProperty('left');\n    }\n\n    var bottom = outer.bottom + rect.height;\n    var above = bottom > window.innerHeight;\n    tooltip.classList.toggle('tooltip_above', above);\n    tooltip.classList.toggle('tooltip_below', !above);\n  }\n};\n\n/**\n * page-specific functions\n */\npicc.pages = {\n  index: require('./index'),\n  search: require('./search'),\n  school: require('./school')\n};\n\n\n// only do this stuff in the browser\nif (typeof document !== 'undefined') {\n\n  /**\n   * add event listeners for the tooltips by listening for mouseenter,\n   * mouseleave, focus and blur events on elements that have an\n   * aria-describedby attribute that begins with \"tip-\".\n   */\n  picc.ready(function() {\n    var described = 'aria-describedby';\n    picc.delegate(\n      document.body,\n      // if the element matches '[aria-describedby^=\"tip-\"]'\n      function() {\n        return this.hasAttribute(described)\n            && this.getAttribute(described).match(/^tip-/);\n      },\n      // XXX this is a *very* rudimentary way to detect whether the browser\n      // supports touch events.\n      document.body.ontouchstart\n        // with touch enabled, only show on focus/blur and click/tap\n        ? {\n          focus:      picc.tooltip.show,\n          blur:       picc.tooltip.hide,\n          click:      picc.tooltip.toggle\n        }\n        // otherwise, show on enter/leave and focus/blur\n        : {\n          mouseenter: picc.tooltip.show,\n          mouseleave: picc.tooltip.hide,\n          focus:      picc.tooltip.show,\n          blur:       picc.tooltip.hide,\n        }\n    );\n  });\n\n  // set the \"dragging\" class when the mouse is down\n  d3.select(document)\n    .on('mousedown', function(e) {\n      clearTimeout(this.__dragTimeout);\n      var body = this.body;\n      this.__dragTimeout = setTimeout(function() {\n        // console.info('+ drag');\n        body.classList.add('dragging');\n      }, 100);\n    })\n    .on('mouseup', function(e) {\n      clearTimeout(this.__dragTimeout);\n      // console.info('- drag');\n      this.body.classList.remove('dragging');\n    })\n    .on('click', function(e) {\n      clearTimeout(this.__dragTimeout);\n      // console.info('- drag');\n      this.body.classList.remove('dragging');\n    });\n}\n\nmodule.exports = picc;\n","var formdb = require('formdb');\n\nmodule.exports = function index() {\n\n  var form = new formdb.Form('#search-form');\n  picc.form.minifyQueryString(form);\n\n  picc.ready(function() {\n    if (location.hash.length > 1) {\n      var id = location.hash.substr(1);\n      picc.ui.expandAccordions(function() {\n        return this.id && this.id === id;\n      });\n      location.hash = '';\n      location.hash = '#' + id;\n    }\n  });\n\n};\n","// tagalong!\nvar tagalong = require('tagalong');\nvar formdb = require('formdb');\nvar querystring = require('querystring');\nvar d3 = require('./d3');\n\nmodule.exports = function search() {\n\n  var resultsRoot = document.querySelector('.search-results');\n  var paginator = resultsRoot.querySelector('.pagination');\n  var bottomPaginator = resultsRoot.querySelector('.pagination_bottom');\n\n  var form = new formdb.Form('#search-form');\n  var query = querystring.parse(location.search.substr(1));\n  // console.info('initial query:', query);\n\n  // the current outbound request\n  var req;\n\n  var previousParams = query || {};\n  var poppingState = false;\n  var ready = false;\n  var alreadyLoaded = false;\n\n  // are we in IE? hopefully not.\n  var ie = typeof document.documentMode === 'number';\n\n  // \"incremental\" updates will only hide the list of schools, and\n  // not any of the other elements (results total, sort, pages)\n  var incremental = false;\n\n  // if this flag is set to false, the search form will not resubmit\n  var submit = true;\n\n  // the maximum # of page links to show\n  var MAX_PAGES = 6;\n\n  var change = picc.debounce(onChange, 100);\n\n  // only render these directives, for performance (and IE11, *cough*)\n  var directives = picc.data.selectKeys(picc.school.directives, [\n    'title',\n    'school_link',\n    'name',\n    'city',\n    'state',\n    'under_investigation',\n    'size_number',\n    'average_cost',\n    'average_cost_meter',\n    'grad_rate',\n    'grad_rate_meter',\n    'average_salary',\n    'average_salary_meter',\n    'more_link'\n  ]);\n\n  var win = d3.select(window);\n\n  // get a reference to all of the sliders\n  var sliders = d3.selectAll('picc-slider');\n\n  // close other toggles when one opens\n  var toggles = d3.selectAll('.toggle-accordion')\n    .on('open', function() {\n      var opened = this;\n      toggles.each(function() {\n        if (this !== opened) this.close();\n      });\n\n      var event = 'click.toggle';\n      win.on(event, function() {\n        if (!opened.contains(d3.event.target)) {\n          win.on(event, null);\n          opened.close();\n        }\n      });\n    });\n\n  // close all toggles on escape\n  win.on('keyup.toggle', function() {\n    if (d3.event.keyCode === 27) {\n      toggles.property('expanded', false);\n    }\n  });\n\n  // expand (child) accordions that contain elements with values set\n  picc.ui.expandAccordions('.toggle-accordion aria-accordion', function() {\n    var inputs = this.querySelectorAll('[name]');\n    return [].some.call(inputs, function(input) {\n      return query[input.name];\n    });\n  });\n\n  picc.ready(function() {\n    ready = true;\n\n    // console.warn('setting form data:', query);\n    form.setData(query);\n\n    // for each of the sliders\n    sliders\n      // update them once first, so they don't fire a change event\n      .each(updateSlider)\n      .on('change', picc.debounce(function() {\n        // when the slider changes, update the input with a range value.\n        var input = this.querySelector('input');\n        if (input) {\n          if (this.lower > this.min || this.upper < this.max) {\n            var lower = this.lower > this.min ? this.lower : '';\n            var upper = this.upper < this.max ? this.upper : '';\n            // console.log('%d > %d || %d < %d', this.lower, this.min, this.upper, this.max);\n            input.value = [lower, upper].join('..');\n          } else {\n            // console.log('slider range @ limits:', this);\n            input.value = '';\n          }\n          change();\n        }\n      }, 200));\n\n    change();\n  });\n\n  form.on('change', change);\n\n  // sort is an \"incremental\" update\n  form.on('change:sort', function() {\n    // console.log('change sort!');\n    incremental = true;\n  });\n\n  // update the distance field's disabled flag when zip changes\n  form.on('change:zip', updateDistanceDisabled);\n\n  form.on('change:_drawer', function(value, e) {\n    submit = false;\n  });\n\n  form.on('submit', function(data, e) {\n    toggles.property('expanded', false);\n    scrollIntoView();\n\n    change();\n    e.preventDefault();\n    return false;\n  });\n\n  // update the form on popstate\n  window.addEventListener('popstate', function(e) {\n    if (!e.state) return;\n\n    // copy the unset keys (as `null`) from the previous state to clear any\n    // elements that aren't represented in the new state.\n    var state = copyUnsetKeys(previousParams, e.state);\n    // console.info('pop state:', e.state, '->', state);\n\n    // update all of the form elements\n    form.setData(state);\n\n    // update the slider values, too\n    sliders.each(updateSlider);\n\n    poppingState = true;\n    onChange();\n    poppingState = false;\n  });\n\n  function onChange() {\n    // XXX somehow, Firefox fires a change event before picc.ready() does its\n    // callback. This guards against any browser that does this from\n    // overwriting the query with default form data.\n    if (!ready) {\n      console.warn('onChange() before ready!');\n      return;\n    }\n\n    // XXX the submit flag is set to false when the drawer toggles.\n    if (!submit) {\n      // console.warn('not submitting this time!');\n      submit = true;\n      return;\n    }\n\n    // always update the distance disabled state\n    updateDistanceDisabled();\n\n    var params = form.getData();\n    // console.info('form data:', params);\n\n    // unset parameters that are \"empty\" arrays (with a single, falsy value)\n    for (var k in params) {\n      if (Array.isArray(params[k]) && !params[k][0]) {\n        // console.warn('ignoring empty array parameter:', k, params[k]);\n        delete params[k];\n      }\n    }\n\n    // don't submit the _drawer parameter\n    delete params._drawer;\n\n    if (diffExcept(previousParams, params, ['page'])) {\n      // console.warn('non-page change:', previousParams, '->', params);\n      delete params.page;\n    }\n\n    var query = picc.form.prepareParams(params);\n\n    // only query the fields that we care about\n    query.fields = [\n      // we need the id to link it\n      picc.fields.ID,\n      // basic display fields\n      picc.fields.NAME,\n      picc.fields.CITY,\n      picc.fields.STATE,\n      picc.fields.SIZE,\n      // to get \"public\" or \"private\"\n      picc.fields.OWNERSHIP,\n      // to get the \"four_year\" or \"lt_four_year\" bit\n      picc.fields.PREDOMINANT_DEGREE,\n      // get all of the net price values\n      picc.fields.NET_PRICE,\n      // completion rate\n      picc.fields.COMPLETION_RATE,\n      // this has no sub-fields\n      picc.fields.MEDIAN_EARNINGS,\n      // not sure if we need this, but let's get it anyway\n      picc.fields.EARNINGS_GT_25K,\n      // under investigation flag\n      picc.fields.UNDER_INVESTIGATION\n    ].join(',');\n\n    var qs = querystring.stringify(params);\n    qs = '?' + qs.replace(/^&+/, '')\n      .replace(/&{2,}/g, '&')\n      .replace(/%3A/g, ':');\n\n    if (poppingState) {\n      // console.info('popping state');\n      // history.replaceState(params, 'search', qs);\n    } else if (alreadyLoaded && diff(previousParams, params)) {\n      // console.info('push state:', qs, previousParams, '->', params);\n      // update the URL\n      history.pushState(params, 'search', qs);\n    } else {\n      // console.info('replace state:', qs);\n      history.replaceState(params, 'search', qs);\n    }\n\n    d3.select('a.results-share')\n      .attr('href', function() {\n        return picc.template.resolve(\n          this.getAttribute('data-href'),\n          {url: encodeURIComponent(document.location.href)}\n        );\n      });\n\n    if (req) req.abort();\n\n    resultsRoot.classList.toggle('js-incremental', incremental);\n\n    if (incremental) {\n      // incremental\n    } else {\n      resultsRoot.classList.add('js-loading');\n      resultsRoot.classList.remove('js-loaded');\n      resultsRoot.classList.remove('js-error');\n    }\n\n    paginator.classList.toggle('show-loading', incremental);\n\n    console.time && console.time('[load]');\n\n    req = picc.API.search(query, function(error, data) {\n      resultsRoot.classList.remove('js-loading');\n      resultsRoot.classList.remove('js-incremental');\n\n      paginator.classList.remove('show-loading');\n      bottomPaginator.classList.remove('show-loading');\n\n      previousParams = params;\n      incremental = false;\n\n      console.timeEnd && console.timeEnd('[load]');\n\n      if (error) {\n        resultsRoot.classList.add('js-error');\n        return showError(error);\n      }\n\n      resultsRoot.classList.add('js-loaded');\n\n      var format = picc.format;\n\n      console.log('loaded schools:', data);\n\n      console.time && console.time('[render]');\n\n      var meta = data.metadata || data;\n      // console.log('meta:', meta);\n      var total = meta.total;\n\n      // only update the heading\n      var heading = resultsRoot.querySelector('.results-main-alert');\n      tagalong(heading, meta, {\n        results_word: format.plural('total', 'Result'),\n        results_total: format.number('total', '0')\n      });\n\n      var page = +params.page || 0;\n      var perPage = meta.per_page;\n\n      var pages = getPages(total, perPage, page);\n\n      tagalong(paginator, {\n        pages: pages\n      }, {\n        pages: {\n          '@data-index': function(d) {\n            return String(d.index);\n          },\n          '@class': function(d) {\n            return d.index === page\n              ? 'pagination-page_selected'\n              : d.arrow ? 'pagination-arrow' : null;\n          },\n          link: {\n            text: 'page',\n            '@data-page': function(d) {\n              return String(d.index);\n            },\n            '@href': function(d) {\n              return d.index === page\n                ? null\n                : d.index === false\n                  ? null\n                  : '?' + querystring.stringify(picc.data.extend({}, params, {page: d.index}));\n            }\n          }\n        }\n      });\n\n      // duplicate the pagination structure below the search results\n      bottomPaginator.innerHTML = paginator.innerHTML;\n\n      var pageLinks = d3.select(resultsRoot)\n        .selectAll('a.select-page')\n          .on('click', function() {\n            d3.event.preventDefault();\n\n            var _page = this.getAttribute('data-page');\n            if (_page === 'false') return;\n\n            pageLinks.each(function() {\n              var p = this.getAttribute('data-page');\n              var selected = p == _page;\n              this.parentNode.classList\n                .toggle('pagination-page_selected', selected);\n              // console.log('selected?', p, page, selected, '->', this.parentNode);\n            });\n\n            form.set('page', _page);\n            incremental = true;\n            change();\n          });\n\n      var resultsList = resultsRoot.querySelector('.schools-list');\n\n      /*\n       * XXX this avoids a nasty hard crash in IE11, which seems to have some\n       * problems with tagalong's data joining algorithm (and/or, you know,\n       * it's just broken).\n       *\n       * Removing the children of the results list after it's already been\n       * rendered (iff `alreadyLoaded` is true) guarantees that tagalong has\n       * stashed a reference to the template node.\n       *\n       * Note: we _don't_ do this in other browsers because it has performance\n       * implications. Rendering will be much faster when the existing nodes\n       * are reused and modified in place, rather than being cloned anew each\n       * time.\n       */\n      if (ie && alreadyLoaded) {\n        removeAllChildren(resultsList);\n      }\n\n      tagalong(resultsList, data.results, directives);\n\n      alreadyLoaded = true;\n\n      console.timeEnd && console.timeEnd('[render]');\n    });\n  }\n\n  function getPages(total, perPage, page) {\n\n    var numPages = Math.ceil(total / perPage);\n    var previous = false;\n    var next = false;\n\n    if (numPages > MAX_PAGES) {\n      var end = Math.min(page + MAX_PAGES, numPages);\n      var start = end - MAX_PAGES;\n      // console.log('pages: %d -> %d', start, end);\n      pages = d3.range(start, start + MAX_PAGES);\n      previous = start > 0;\n      next = end < numPages;\n    } else {\n      pages = d3.range(0, numPages);\n    }\n\n    // console.log('pages:', numPages, '->', pages);\n\n    pages = pages.map(function(page) {\n      return {\n        page: page + 1,\n        index: page\n      };\n    });\n\n    if (previous) {\n      var first = pages[0];\n      pages.unshift({\n        index: first.index - 1,\n        page: '<',\n        arrow: true\n      });\n      if (first.index > 1) {\n        pages.unshift({\n          index: 0,\n          page: '<<',\n          arrow: true\n        });\n      }\n    }\n    if (next) {\n      var last = pages[pages.length - 1];\n      pages.push({\n        index: last.index + 1,\n        page: '>',\n        arrow: true\n      });\n      if (last.index < numPages - 1) {\n        pages.push({\n          index: numPages - 1,\n          page: '>>',\n          arrow: true\n        });\n      }\n    }\n\n    return pages;\n  }\n\n  function showError(error) {\n    console.error('error:', error);\n    var message = resultsRoot.querySelector('.error-message');\n    error = error.responseText || error;\n    message.textContent = String(error) || 'There was an unexpected API error.';\n  }\n\n  function diffExcept(a, b, keys) {\n    a = picc.data.extend({}, a);\n    b = picc.data.extend({}, b);\n    keys.forEach(function(key) {\n      delete a[key];\n      delete b[key];\n    });\n    // console.log('diff except:', a, b, keys);\n    return diff(a, b);\n  }\n\n  function diff(a, b) {\n    if ((typeof a) !== (typeof b)) {\n      // console.log('diff types:', typeof a, typeof b);\n      return true;\n    } else if (typeof a === 'object') {\n      for (k in a) if (diff(a[k], b[k])) return true;\n      for (k in b) if (diff(a[k], b[k])) return true;\n      return false;\n    }\n    return a != b;\n  }\n\n  function copyUnsetKeys(from, into) {\n    var copy = picc.data.extend({}, into);\n    for (var key in from) {\n      if (!copy.hasOwnProperty(key)) {\n        copy[key] = null;\n      }\n    }\n    return copy;\n  }\n\n\n  function updateSlider() {\n    // get the value of its hidden input (set by formdb),\n    // and parse it as a range\n    var input = this.querySelector('input');\n    if (input) {\n      var value = input.value.split('..').map(Number);\n      if (value.length === 2) {\n        this.lower = value[0] || this.min;\n        this.upper = value[1] || this.max;\n      } else {\n        // console.warn('bad slider input value:', value);\n      }\n    }\n  }\n\n  function updateDistanceDisabled() {\n    var zip = form.get('zip');\n    var dist = form.getInputsByName('distance')[0];\n    if (!dist) return;\n    dist.disabled = !zip;\n  }\n\n  function scrollIntoView() {\n    try {\n      form.element.scrollIntoView();\n    } catch (error) {\n      console.warn('unable to scroll results into view:', error);\n    }\n  }\n\n  function removeAllChildren(node) {\n    while (node.lastChild) {\n      node.removeChild(node.lastChild);\n    }\n  }\n\n};\n","var tagalong = require('tagalong');\nvar d3 = require('./d3');\n\nmodule.exports = function school() {\n\n  var loadable = d3.select('.loadable');\n\n  var id = getSchoolId();\n  if (!id) {\n    loadable.classed('js-error', true);\n    return showError(picc.errors.NO_SCHOOL_ID);\n  }\n\n  d3.select('#referrer-link')\n    .attr('href', document.referrer || null);\n\n  loadable.classed('js-loading', true);\n\n  picc.API.getAll({\n    metadata: 'data.json',\n    school: [picc.API.getSchool, id]\n  }, function onSchoolLoad(error, data) {\n    loadable.classed('js-loading', false);\n\n    // console.log('data:', data);\n    if (error) {\n      loadable.classed('js-error', true);\n      return showError(error);\n    }\n\n    loadable.classed('js-loaded', true);\n\n    var root = document.querySelector('#school');\n    var school = data.school;\n\n    var name = picc.access(picc.fields.NAME)(school);\n    document.title = name;\n\n    school.metadata = data.metadata;\n    console.log('got school:', school);\n    root.classList.remove('hidden');\n\n    var averageLabels = {\n      'above': 'Above average',\n      'below': 'Lower than average',\n      'about': 'About average'\n    };\n\n    // update the above/below average icons whenever the\n    // corresponding meters update\n    d3.selectAll('i.average-arrow[data-meter]')\n      .each(function() {\n        var icon = d3.select(this);\n        var meter = d3.select('#' + this.getAttribute('data-meter'))\n          .on('update', function updateMeterAverage() {\n            var match = this.className.match(/\\b(\\w+)_average\\b/);\n            var state = match ? match[1] : 'na';\n            icon\n              .classed('above_average fa-arrow-up', state === 'above')\n              .classed('below_average fa-arrow-down', state === 'below')\n              .classed('about_average fa-check', state === 'about');\n\n            var text = averageLabels[state];\n            icon.attr('title', text);\n            label\n              .classed('above_average', state === 'above')\n              .classed('below_average', state === 'below')\n              .classed('about_average', state === 'about')\n              .text(text);\n          });\n        var label = d3.select(this.parentNode)\n          .select('.average-label');\n      });\n\n    // this is necessary because tagalong only binds to\n    // the first instance for each data or directive key\n    var sections = root.querySelectorAll('.section-card_container-school');\n\n    // common school template directives\n    var directives = picc.school.directives;\n\n    [root]\n      .concat([].slice.call(sections))\n      .forEach(function(node) {\n        // console.log('binding to:', node);\n        tagalong(node, school, directives);\n      });\n\n    // render the bar charts\n    // FIXME this should be possible in tagalong!\n    var bars = d3.selectAll('ol.bars')\n      .selectAll('li')\n        .datum(function() {\n          return +this.querySelector('.value').textContent;\n        })\n        .sort(d3.descending)\n        .each(function() {\n          var label = this.querySelector('.label');\n          if (label) {\n            var klass = label.textContent\n              .toLowerCase()\n              .replace(/\\W+/g, '-');\n            this.classList.add('bar-' + klass);\n          }\n        });\n\n    bars.select('.value')\n      .remove();\n\n    var scale = d3.scale.linear()\n      .domain([0, 1])\n      .range(['1%', '100%']);\n\n    bars.select('.bar')\n      .style('width', function(d) {\n        return d > .005\n          ? scale(d)\n          : d ? '1px' : 0;\n      });\n\n    createMap(school, root.querySelector('.school-map'));\n  });\n\n  /**\n   * This `hashchange` callback function expands and collapses all of the\n   * accordions when the hash changes to match one of their ids. It returns the\n   * last expanded accordion.\n   */\n  function hashChange() {\n    var id = location.hash.substr(1);\n    var found = false;\n    picc.ui.expandAccordions(function() {\n      return this.id && this.id === id;\n    })\n    .each(function() {\n      found = this;\n    });\n    return found;\n  }\n\n  // listen for hashchange events\n  window.addEventListener('hashchange', hashChange);\n\n  // expand the accordions once and, if one is expanded, reset the hash to\n  // scroll to that element\n  var section = hashChange();\n  if (section) {\n    location.hash = '';\n    location.hash = '#' + section.id;\n  }\n\n  // get the school ID from the URL\n  function getSchoolId() {\n    if (!location.search) return null;\n    var match = location.search.match(/^\\?(\\d+)(\\b|-)/);\n    return match ? match[1] : null;\n  }\n\n  // show an error message\n  function showError(error) {\n    var container = document.querySelector('#error');\n    var target = container.querySelector('.error-message') || container;\n    error = error.responseText || error;\n    target.textContent = error;\n    return target;\n  }\n\n  /**\n   * Create a Leaflet map from a school's location. If there is no location, or\n   * if the location's latitude or longitude are zero, then no map is created.\n   *\n   * @param {Object}          school   the school data object\n   * @return {L.map|Boolean}  an L.map instance if successful, otherwise `false`\n   */\n  function createMap(school, container) {\n    if (!container) {\n      console.error('got null container in createMap(); bailing');\n      return false;\n    }\n\n    var location = picc.access.location(school);\n\n    if (!location || !+location.lat || !+location.lon) {\n      console.warn('missing or invalid location:', location, '; hiding the map');\n      container.classList.add('hidden');\n      return false;\n    }\n\n    var center = L.latLng(location.lat, location.lon);\n\n    var map = L.map(container, {\n        zoomControl:        false,\n        panControl:         false,\n        attributionControl: false,\n        dragging:           false,\n        scrollWheelZoom:    false,\n        touchZoom:          false,\n        doubleClickZoom:    false,\n        boxZoom:            false\n      })\n      .setView(center, 10);\n\n    L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png')\n      .addTo(map);\n\n    L.control.attribution({\n        position: 'bottomleft',\n        prefix: false\n      })\n      .addAttribution([\n        'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, under ',\n        '<a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a>.',\n        '<br>Data by <a href=\"http://openstreetmap.org\">OpenStreetMap</a>, ',\n        'under <a href=\"http://www.openstreetmap.org/copyright\">ODbL</a>.'\n      ].join(''))\n      .addTo(map);\n\n    var marker = L.circle(center, 1200, {\n        color: 'black',\n        opacity: 1,\n        strokeWidth: 1,\n        fillColor: 'white',\n        fillOpacity: 1\n      })\n      .addTo(map);\n\n    marker.bindPopup(school.school.name);\n    return map;\n  }\n\n};\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.d3 = factory();\n}(this, function () { 'use strict';\n\n    var __scale = {\n        get category10 () { return category10; },\n        get category20 () { return category20; },\n        get category20b () { return category20b; },\n        get category20c () { return category20c; },\n        get identity () { return __identity; },\n        get linear () { return _linear; },\n        get log () { return log; },\n        get ordinal () { return ordinal; },\n        get pow () { return pow; },\n        get quantile () { return _quantile; },\n        get quantize () { return quantize; },\n        get sqrt () { return sqrt; },\n        get threshold () { return threshold; },\n        get time () { return time; },\n        get utcTime () { return utcTime; }\n    };\n\n    function _dsv(delimiter) {\n      var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n]\"),\n          delimiterCode = delimiter.charCodeAt(0);\n\n      function parse(text, f) {\n        var o;\n        return parseRows(text, function(row, i) {\n          if (o) return o(row, i - 1);\n          var a = new Function(\"d\", \"return {\" + row.map(function(name, i) {\n            return JSON.stringify(name) + \": d[\" + i + \"]\";\n          }).join(\",\") + \"}\");\n          o = f ? function(row, i) { return f(a(row), i); } : a;\n        });\n      }\n\n      function parseRows(text, f) {\n        var EOL = {}, // sentinel value for end-of-line\n            EOF = {}, // sentinel value for end-of-file\n            rows = [], // output rows\n            N = text.length,\n            I = 0, // current character index\n            n = 0, // the current line number\n            t, // the current token\n            eol; // is the current token followed by EOL?\n\n        function token() {\n          if (I >= N) return EOF; // special case: end of file\n          if (eol) return eol = false, EOL; // special case: end of line\n\n          // special case: quotes\n          var j = I;\n          if (text.charCodeAt(j) === 34) {\n            var i = j;\n            while (i++ < N) {\n              if (text.charCodeAt(i) === 34) {\n                if (text.charCodeAt(i + 1) !== 34) break;\n                ++i;\n              }\n            }\n            I = i + 2;\n            var c = text.charCodeAt(i + 1);\n            if (c === 13) {\n              eol = true;\n              if (text.charCodeAt(i + 2) === 10) ++I;\n            } else if (c === 10) {\n              eol = true;\n            }\n            return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n          }\n\n          // common case: find next delimiter or newline\n          while (I < N) {\n            var c = text.charCodeAt(I++), k = 1;\n            if (c === 10) eol = true; // \\n\n            else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n            else if (c !== delimiterCode) continue;\n            return text.slice(j, I - k);\n          }\n\n          // special case: last token before EOF\n          return text.slice(j);\n        }\n\n        while ((t = token()) !== EOF) {\n          var a = [];\n          while (t !== EOL && t !== EOF) {\n            a.push(t);\n            t = token();\n          }\n          if (f && (a = f(a, n++)) == null) continue;\n          rows.push(a);\n        }\n\n        return rows;\n      }\n\n      function format(rows) {\n        if (Array.isArray(rows[0])) return formatRows(rows); // deprecated; use formatRows\n        var fieldSet = Object.create(null), fields = [];\n\n        // Compute unique fields in order of discovery.\n        rows.forEach(function(row) {\n          for (var field in row) {\n            if (!((field += \"\") in fieldSet)) {\n              fields.push(fieldSet[field] = field);\n            }\n          }\n        });\n\n        return [fields.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n          return fields.map(function(field) {\n            return formatValue(row[field]);\n          }).join(delimiter);\n        })).join(\"\\n\");\n      }\n\n      function formatRows(rows) {\n        return rows.map(formatRow).join(\"\\n\");\n      }\n\n      function formatRow(row) {\n        return row.map(formatValue).join(delimiter);\n      }\n\n      function formatValue(text) {\n        return reFormat.test(text) ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\" : text;\n      }\n\n      return {\n        parse: parse,\n        parseRows: parseRows,\n        format: format,\n        formatRows: formatRows\n      };\n    }\n\n    var csv = _dsv(\",\");\n    var tsv = _dsv(\"\\t\");\n\n    function dispatch() {\n      return new Dispatch(arguments);\n    }\n\n    function Dispatch(types) {\n      var i = -1,\n          n = types.length,\n          callbacksByType = {},\n          callbackByName = {},\n          type,\n          that = this;\n\n      that.on = function(type, callback) {\n        type = parseType(type);\n\n        // Return the current callback, if any.\n        if (arguments.length < 2) {\n          return (callback = callbackByName[type.name]) && callback.value;\n        }\n\n        // If a type was specified\n        if (type.type) {\n          var callbacks = callbacksByType[type.type],\n              callback0 = callbackByName[type.name],\n              i;\n\n          // Remove the current callback, if any, using copy-on-remove.\n          if (callback0) {\n            callback0.value = null;\n            i = callbacks.indexOf(callback0);\n            callbacksByType[type.type] = callbacks = callbacks.slice(0, i).concat(callbacks.slice(i + 1));\n            delete callbackByName[type.name];\n          }\n\n          // Add the new callback, if any.\n          if (callback) {\n            callback = {value: callback};\n            callbackByName[type.name] = callback;\n            callbacks.push(callback);\n          }\n        }\n\n        // Otherwise, if a null callback was specified, remove all callbacks with the given name.\n        else if (callback == null) {\n          for (var otherType in callbacksByType) {\n            if (callback = callbackByName[otherType + type.name]) {\n              callback.value = null;\n              var callbacks = callbacksByType[otherType], i = callbacks.indexOf(callback);\n              callbacksByType[otherType] = callbacks.slice(0, i).concat(callbacks.slice(i + 1));\n              delete callbackByName[callback.name];\n            }\n          }\n        }\n\n        return that;\n      };\n\n      while (++i < n) {\n        type = types[i] + \"\";\n        if (!type || (type in that)) throw new Error(\"illegal or duplicate type: \" + type);\n        callbacksByType[type] = [];\n        that[type] = applier(type);\n      }\n\n      function parseType(type) {\n        var i = (type += \"\").indexOf(\".\"), name = type;\n        if (i >= 0) type = type.slice(0, i); else name += \".\";\n        if (type && !callbacksByType.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n        return {type: type, name: name};\n      }\n\n      function applier(type) {\n        return function() {\n          var callbacks = callbacksByType[type], // Defensive reference; copy-on-remove.\n              callback,\n              callbackValue,\n              i = -1,\n              n = callbacks.length;\n\n          while (++i < n) {\n            if (callbackValue = (callback = callbacks[i]).value) {\n              callbackValue.apply(this, arguments);\n            }\n          }\n\n          return that;\n        };\n      }\n    }\n\n    dispatch.prototype = Dispatch.prototype;\n\n    function xhr(url, callback) {\n      var xhr,\n          event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n          mimeType,\n          headers = new Map,\n          request = new XMLHttpRequest,\n          response,\n          responseType;\n\n      // If IE does not support CORS, use XDomainRequest.\n      if (typeof XDomainRequest !== \"undefined\"\n          && !(\"withCredentials\" in request)\n          && /^(http(s)?:)?\\/\\//.test(url)) request = new XDomainRequest;\n\n      \"onload\" in request\n          ? request.onload = request.onerror = respond\n          : request.onreadystatechange = function() { request.readyState > 3 && respond(); };\n\n      function respond() {\n        var status = request.status, result;\n        if (!status && hasResponse(request)\n            || status >= 200 && status < 300\n            || status === 304) {\n          if (response) {\n            try {\n              result = response.call(xhr, request);\n            } catch (e) {\n              event.error.call(xhr, e);\n              return;\n            }\n          } else {\n            result = request;\n          }\n          event.load.call(xhr, result);\n        } else {\n          event.error.call(xhr, request);\n        }\n      }\n\n      request.onprogress = function(e) {\n        event.progress.call(xhr, e);\n      };\n\n      xhr = {\n        header: function(name, value) {\n          name = (name + \"\").toLowerCase();\n          if (arguments.length < 2) return headers.get(name);\n          if (value == null) headers.delete(name);\n          else headers.set(name, value + \"\");\n          return xhr;\n        },\n\n        // If mimeType is non-null and no Accept header is set, a default is used.\n        mimeType: function(value) {\n          if (!arguments.length) return mimeType;\n          mimeType = value == null ? null : value + \"\";\n          return xhr;\n        },\n\n        // Specifies what type the response value should take;\n        // for instance, arraybuffer, blob, document, or text.\n        responseType: function(value) {\n          if (!arguments.length) return responseType;\n          responseType = value;\n          return xhr;\n        },\n\n        // Specify how to convert the response content to a specific type;\n        // changes the callback value on \"load\" events.\n        response: function(value) {\n          response = value;\n          return xhr;\n        },\n\n        // Alias for send(\"GET\", ).\n        get: function(data, callback) {\n          return xhr.send(\"GET\", data, callback);\n        },\n\n        // Alias for send(\"POST\", ).\n        post: function(data, callback) {\n          return xhr.send(\"POST\", data, callback);\n        },\n\n        // If callback is non-null, it will be used for error and load events.\n        send: function(method, data, callback) {\n          if (!callback && typeof data === \"function\") callback = data, data = null;\n          if (callback && callback.length === 1) callback = fixCallback(callback);\n          request.open(method, url, true);\n          if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n          if (request.setRequestHeader) headers.forEach(function(value, name) { request.setRequestHeader(name, value); });\n          if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType);\n          if (responseType != null) request.responseType = responseType;\n          if (callback) xhr.on(\"error\", callback).on(\"load\", function(request) { callback(null, request); });\n          event.beforesend.call(xhr, request);\n          request.send(data == null ? null : data);\n          return xhr;\n        },\n\n        abort: function() {\n          request.abort();\n          return xhr;\n        },\n\n        on: function() {\n          var value = event.on.apply(event, arguments);\n          return value === event ? xhr : value;\n        }\n      };\n\n      return callback\n          ? xhr.get(callback)\n          : xhr;\n    }function fixCallback(callback) {\n      return function(error, request) {\n        callback(error == null ? request : null);\n      };\n    }\n\n    function hasResponse(request) {\n      var type = request.responseType;\n      return type && type !== \"text\"\n          ? request.response // null on error\n          : request.responseText; // \"\" on error\n    }\n\n    function xhrDsv(defaultMimeType, dsv) {\n      return function(url, row, callback) {\n        if (arguments.length < 3) callback = row, row = null;\n        var r = xhr(url).mimeType(defaultMimeType);\n        r.row = function(_) { return arguments.length ? r.response(responseOf(dsv, row = _)) : row; };\n        r.row(row);\n        return callback ? r.get(callback) : r;\n      };\n    }function responseOf(dsv, row) {\n      return function(request) {\n        return dsv.parse(request.responseText, row);\n      };\n    }\n\n    xhrDsv(\"text/tab-separated-values\", tsv);\n\n    xhrDsv(\"text/csv\", csv);\n\n    function xhrType(defaultMimeType, response) {\n      return function(url, callback) {\n        var r = xhr(url).mimeType(defaultMimeType).response(response);\n        return callback ? r.get(callback) : r;\n      };\n    }\n\n    var json = xhrType(\"application/json\", function(request) {\n      return JSON.parse(request.responseText);\n    });\n\n    function sum(array, f) {\n      var s = 0,\n          n = array.length,\n          a,\n          i = -1;\n\n      if (arguments.length === 1) {\n        while (++i < n) if (!isNaN(a = +array[i])) s += a; // Note: zero and null are equivalent.\n      }\n\n      else {\n        while (++i < n) if (!isNaN(a = +f.call(array, array[i], i))) s += a;\n      }\n\n      return s;\n    }\n\n    function _range(start, stop, step) {\n      if ((n = arguments.length) < 3) {\n        step = 1;\n        if (n < 2) {\n          stop = start;\n          start = 0;\n        }\n      }\n\n      var i = -1,\n          n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n          k = _scale(Math.abs(step)),\n          range = new Array(n);\n\n      start *= k;\n      step *= k;\n      while (++i < n) {\n        range[i] = (start + i * step) / k;\n      }\n\n      return range;\n    }function _scale(x) {\n      var k = 1;\n      while (x * k % 1) k *= 10;\n      return k;\n    }\n\n    // R-7 per <http://en.wikipedia.org/wiki/Quantile>\n    function quantile(values, p) {\n      var H = (values.length - 1) * p + 1,\n          h = Math.floor(H),\n          v = +values[h - 1],\n          e = H - h;\n      return e ? v + e * (values[h] - v) : v;\n    }\n\n    function _ascending(a, b) {\n      return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n    }\n\n    function descending(a, b) {\n      return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n    }\n\n    function bisector(compare) {\n      if (compare.length === 1) compare = ascendingComparator(compare);\n      return {\n        left: function(a, x, lo, hi) {\n          if (arguments.length < 3) lo = 0;\n          if (arguments.length < 4) hi = a.length;\n          while (lo < hi) {\n            var mid = lo + hi >>> 1;\n            if (compare(a[mid], x) < 0) lo = mid + 1;\n            else hi = mid;\n          }\n          return lo;\n        },\n        right: function(a, x, lo, hi) {\n          if (arguments.length < 3) lo = 0;\n          if (arguments.length < 4) hi = a.length;\n          while (lo < hi) {\n            var mid = lo + hi >>> 1;\n            if (compare(a[mid], x) > 0) hi = mid;\n            else lo = mid + 1;\n          }\n          return lo;\n        }\n      };\n    }function ascendingComparator(f) {\n      return function(d, x) {\n        return _ascending(f(d), x);\n      };\n    }\n\n    var ascendingBisect = bisector(_ascending);\n    var bisectRight = ascendingBisect.right;\n\n    var enUs = {\n      decimal: \".\",\n      thousands: \",\",\n      grouping: [3],\n      currency: [\"$\", \"\"]\n    };\n\n    // Computes the decimal coefficient and exponent of the specified number x with\n    // significant digits p, where x is positive and p is in [1, 21] or undefined.\n    // For example, formatDecimal(1.23) returns [\"123\", 0].\n    function formatDecimal(x, p) {\n      if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n      var i, coefficient = x.slice(0, i);\n\n      // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n      // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n      return [\n        coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n        +x.slice(i + 1)\n      ];\n    }\n\n    function _exponent(x) {\n      return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n    }\n\n    var prefixExponent;\n\n    function formatPrefixAuto(x, p) {\n      var d = formatDecimal(x, p);\n      if (!d) return x + \"\";\n      var coefficient = d[0],\n          exponent = d[1],\n          i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n          n = coefficient.length;\n      return i === n ? coefficient\n          : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n          : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n          : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, p + i - 1)[0]; // less than 1y!\n    }\n\n    function formatRounded(x, p) {\n      var d = formatDecimal(x, p);\n      if (!d) return x + \"\";\n      var coefficient = d[0],\n          exponent = d[1];\n      return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n          : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n          : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n    }\n\n    function formatDefault(x, p) {\n      x = x.toPrecision(p);\n\n      out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n        switch (x[i]) {\n          case \".\": i0 = i1 = i; break;\n          case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n          case \"e\": break out;\n          default: if (i0 > 0) i0 = 0; break;\n        }\n      }\n\n      return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n    }\n\n    var formatTypes = {\n      \"\": formatDefault,\n      \"%\": function(x, p) { return (x * 100).toFixed(p); },\n      \"b\": function(x) { return Math.round(x).toString(2); },\n      \"c\": function(x) { return x + \"\"; },\n      \"d\": function(x) { return Math.round(x).toString(10); },\n      \"e\": function(x, p) { return x.toExponential(p); },\n      \"f\": function(x, p) { return x.toFixed(p); },\n      \"g\": function(x, p) { return x.toPrecision(p); },\n      \"o\": function(x) { return Math.round(x).toString(8); },\n      \"p\": function(x, p) { return formatRounded(x * 100, p); },\n      \"r\": formatRounded,\n      \"s\": formatPrefixAuto,\n      \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n      \"x\": function(x) { return Math.round(x).toString(16); }\n    };\n\n    // [[fill]align][sign][symbol][0][width][,][.precision][type]\n    var re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\n    function formatSpecifier(specifier) {\n      return new FormatSpecifier(specifier);\n    }function FormatSpecifier(specifier) {\n      if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n      var match,\n          fill = match[1] || \" \",\n          align = match[2] || \">\",\n          sign = match[3] || \"-\",\n          symbol = match[4] || \"\",\n          zero = !!match[5],\n          width = match[6] && +match[6],\n          comma = !!match[7],\n          precision = match[8] && +match[8].slice(1),\n          type = match[9] || \"\";\n\n      // The \"n\" type is an alias for \",g\".\n      if (type === \"n\") comma = true, type = \"g\";\n\n      // Map invalid types to the default format.\n      else if (!formatTypes[type]) type = \"\";\n\n      // If zero fill is specified, padding goes after sign and before digits.\n      if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n      this.fill = fill;\n      this.align = align;\n      this.sign = sign;\n      this.symbol = symbol;\n      this.zero = zero;\n      this.width = width;\n      this.comma = comma;\n      this.precision = precision;\n      this.type = type;\n    }\n\n    FormatSpecifier.prototype.toString = function() {\n      return this.fill\n          + this.align\n          + this.sign\n          + this.symbol\n          + (this.zero ? \"0\" : \"\")\n          + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n          + (this.comma ? \",\" : \"\")\n          + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n          + this.type;\n    };\n\n    function formatGroup(grouping, thousands) {\n      return function(value, width) {\n        var i = value.length,\n            t = [],\n            j = 0,\n            g = grouping[0],\n            length = 0;\n\n        while (i > 0 && g > 0) {\n          if (length + g + 1 > width) g = Math.max(1, width - length);\n          t.push(value.substring(i -= g, i + g));\n          if ((length += g + 1) > width) break;\n          g = grouping[j = (j + 1) % grouping.length];\n        }\n\n        return t.reverse().join(thousands);\n      };\n    }\n\n    var prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\n    function _identity(x) {\n      return x;\n    }\n\n    function _locale(locale) {\n      var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : _identity,\n          currency = locale.currency,\n          decimal = locale.decimal;\n\n      function format(specifier) {\n        specifier = formatSpecifier(specifier);\n\n        var fill = specifier.fill,\n            align = specifier.align,\n            sign = specifier.sign,\n            symbol = specifier.symbol,\n            zero = specifier.zero,\n            width = specifier.width,\n            comma = specifier.comma,\n            precision = specifier.precision,\n            type = specifier.type;\n\n        // Compute the prefix and suffix.\n        // For SI-prefix, the suffix is lazily computed.\n        var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n            suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n        // What format function should we use?\n        // Is this an integer type?\n        // Can this type generate exponential notation?\n        var formatType = formatTypes[type],\n            maybeSuffix = !type || /[defgprs%]/.test(type);\n\n        // Set the default precision if not specified,\n        // or clamp the specified precision to the supported range.\n        // For significant precision, it must be in [1, 21].\n        // For fixed precision, it must be in [0, 20].\n        precision = precision == null ? (type ? 6 : 12)\n            : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n            : Math.max(0, Math.min(20, precision));\n\n        return function(value) {\n          var valuePrefix = prefix,\n              valueSuffix = suffix;\n\n          if (type === \"c\") {\n            valueSuffix = formatType(value) + valueSuffix;\n            value = \"\";\n          } else {\n            value = +value;\n\n            // Convert negative to positive, and compute the prefix.\n            // Note that -0 is not less than 0, but 1 / -0 is!\n            var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n            // Perform the initial formatting.\n            value = formatType(value, precision);\n\n            // Compute the prefix and suffix.\n            valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n            valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n            // Break the formatted value into the integer value part that can be\n            // grouped, and fractional or exponential suffix part that is not.\n            if (maybeSuffix) {\n              var i = -1, n = value.length, c;\n              while (++i < n) {\n                if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                  valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                  value = value.slice(0, i);\n                  break;\n                }\n              }\n            }\n          }\n\n          // If the fill character is not \"0\", grouping is applied before padding.\n          if (comma && !zero) value = group(value, Infinity);\n\n          // Compute the padding.\n          var length = valuePrefix.length + value.length + valueSuffix.length,\n              padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n          // If the fill character is \"0\", grouping is applied after padding.\n          if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n          // Reconstruct the final output based on the desired alignment.\n          switch (align) {\n            case \"<\": return valuePrefix + value + valueSuffix + padding;\n            case \"=\": return valuePrefix + padding + value + valueSuffix;\n            case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          }\n          return padding + valuePrefix + value + valueSuffix;\n        };\n      }\n\n      function formatPrefix(specifier, value) {\n        var f = format((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n            e = Math.max(-8, Math.min(8, Math.floor(_exponent(value) / 3))) * 3,\n            k = Math.pow(10, -e),\n            prefix = prefixes[8 + e / 3];\n        return function(value) {\n          return f(k * value) + prefix;\n        };\n      }\n\n      return {\n        format: format,\n        formatPrefix: formatPrefix\n      };\n    }\n\n    function precisionRound(step, max) {\n      return Math.max(0, _exponent(Math.abs(max)) - _exponent(Math.abs(step))) + 1;\n    }\n\n    function precisionPrefix(step, value) {\n      return Math.max(0, Math.max(-8, Math.min(8, Math.floor(_exponent(value) / 3))) * 3 - _exponent(Math.abs(step)));\n    }\n\n    function precisionFixed(step) {\n      return Math.max(0, -_exponent(Math.abs(step)));\n    }\n\n    var _defaultLocale = _locale(enUs);\n    var ___format = _defaultLocale.format;\n    var formatPrefix = _defaultLocale.formatPrefix;\n\n    var _enUs = {\n      dateTime: \"%a %b %e %X %Y\",\n      date: \"%m/%d/%Y\",\n      time: \"%H:%M:%S\",\n      periods: [\"AM\", \"PM\"],\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n    };\n\n    var _t0 = new Date;\n    var _t1 = new Date;\n    function newInterval(floori, offseti, count) {\n\n      function interval(date) {\n        return floori(date = new Date(+date)), date;\n      }\n\n      interval.floor = interval;\n\n      interval.round = function(date) {\n        var d0 = new Date(+date),\n            d1 = new Date(date - 1);\n        floori(d0), floori(d1), offseti(d1, 1);\n        return date - d0 < d1 - date ? d0 : d1;\n      };\n\n      interval.ceil = function(date) {\n        return floori(date = new Date(date - 1)), offseti(date, 1), date;\n      };\n\n      interval.offset = function(date, step) {\n        return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n      };\n\n      interval.range = function(start, stop, step) {\n        var range = [];\n        start = new Date(start - 1);\n        stop = new Date(+stop);\n        step = step == null ? 1 : Math.floor(step);\n        if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n        offseti(start, 1), floori(start);\n        if (start < stop) range.push(new Date(+start));\n        while (offseti(start, step), floori(start), start < stop) range.push(new Date(+start));\n        return range;\n      };\n\n      interval.filter = function(test) {\n        return newInterval(function(date) {\n          while (floori(date), !test(date)) date.setTime(date - 1);\n        }, function(date, step) {\n          while (--step >= 0) while (offseti(date, 1), !test(date));\n        });\n      };\n\n      if (count) interval.count = function(start, end) {\n        _t0.setTime(+start), _t1.setTime(+end);\n        floori(_t0), floori(_t1);\n        return Math.floor(count(_t0, _t1));\n      };\n\n      return interval;\n    }\n\n    var second = newInterval(function(date) {\n      date.setMilliseconds(0);\n    }, function(date, step) {\n      date.setTime(+date + step * 1e3);\n    }, function(start, end) {\n      return (end - start) / 1e3;\n    });\n\n    var minute = newInterval(function(date) {\n      date.setSeconds(0, 0);\n    }, function(date, step) {\n      date.setTime(+date + step * 6e4);\n    }, function(start, end) {\n      return (end - start) / 6e4;\n    });\n\n    var hour = newInterval(function(date) {\n      date.setMinutes(0, 0, 0);\n    }, function(date, step) {\n      date.setTime(+date + step * 36e5);\n    }, function(start, end) {\n      return (end - start) / 36e5;\n    });\n\n    var day = newInterval(function(date) {\n      date.setHours(0, 0, 0, 0);\n    }, function(date, step) {\n      date.setDate(date.getDate() + step);\n    }, function(start, end) {\n      return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * 6e4) / 864e5;\n    });\n\n    function weekday(i) {\n      return newInterval(function(date) {\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n      }, function(date, step) {\n        date.setDate(date.getDate() + step * 7);\n      }, function(start, end) {\n        return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * 6e4) / 6048e5;\n      });\n    }\n\n    var sunday = weekday(0);\n    var monday = weekday(1);\n\n    var month = newInterval(function(date) {\n      date.setHours(0, 0, 0, 0);\n      date.setDate(1);\n    }, function(date, step) {\n      date.setMonth(date.getMonth() + step);\n    }, function(start, end) {\n      return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n    });\n\n    var year = newInterval(function(date) {\n      date.setHours(0, 0, 0, 0);\n      date.setMonth(0, 1);\n    }, function(date, step) {\n      date.setFullYear(date.getFullYear() + step);\n    }, function(start, end) {\n      return end.getFullYear() - start.getFullYear();\n    });\n\n    var utcSecond = newInterval(function(date) {\n      date.setUTCMilliseconds(0);\n    }, function(date, step) {\n      date.setTime(+date + step * 1e3);\n    }, function(start, end) {\n      return (end - start) / 1e3;\n    });\n\n    var utcMinute = newInterval(function(date) {\n      date.setUTCSeconds(0, 0);\n    }, function(date, step) {\n      date.setTime(+date + step * 6e4);\n    }, function(start, end) {\n      return (end - start) / 6e4;\n    });\n\n    var utcHour = newInterval(function(date) {\n      date.setUTCMinutes(0, 0, 0);\n    }, function(date, step) {\n      date.setTime(+date + step * 36e5);\n    }, function(start, end) {\n      return (end - start) / 36e5;\n    });\n\n    var utcDay = newInterval(function(date) {\n      date.setUTCHours(0, 0, 0, 0);\n    }, function(date, step) {\n      date.setUTCDate(date.getUTCDate() + step);\n    }, function(start, end) {\n      return (end - start) / 864e5;\n    });\n\n    function utcWeekday(i) {\n      return newInterval(function(date) {\n        date.setUTCHours(0, 0, 0, 0);\n        date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n      }, function(date, step) {\n        date.setUTCDate(date.getUTCDate() + step * 7);\n      }, function(start, end) {\n        return (end - start) / 6048e5;\n      });\n    }\n\n    var utcSunday = utcWeekday(0);\n    var utcMonday = utcWeekday(1);\n\n    var utcMonth = newInterval(function(date) {\n      date.setUTCHours(0, 0, 0, 0);\n      date.setUTCDate(1);\n    }, function(date, step) {\n      date.setUTCMonth(date.getUTCMonth() + step);\n    }, function(start, end) {\n      return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n    });\n\n    var utcYear = newInterval(function(date) {\n      date.setUTCHours(0, 0, 0, 0);\n      date.setUTCMonth(0, 1);\n    }, function(date, step) {\n      date.setUTCFullYear(date.getUTCFullYear() + step);\n    }, function(start, end) {\n      return end.getUTCFullYear() - start.getUTCFullYear();\n    });\n\n    function localDate(d) {\n      if (0 <= d.y && d.y < 100) {\n        var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n        date.setFullYear(d.y);\n        return date;\n      }\n      return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n    }\n\n    function utcDate(d) {\n      if (0 <= d.y && d.y < 100) {\n        var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n        date.setUTCFullYear(d.y);\n        return date;\n      }\n      return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n    }\n\n    function newYear(y) {\n      return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n    }\n\n    function __locale(locale) {\n      var locale_dateTime = locale.dateTime,\n          locale_date = locale.date,\n          locale_time = locale.time,\n          locale_periods = locale.periods,\n          locale_weekdays = locale.days,\n          locale_shortWeekdays = locale.shortDays,\n          locale_months = locale.months,\n          locale_shortMonths = locale.shortMonths;\n\n      var periodLookup = formatLookup(locale_periods),\n          weekdayRe = formatRe(locale_weekdays),\n          weekdayLookup = formatLookup(locale_weekdays),\n          shortWeekdayRe = formatRe(locale_shortWeekdays),\n          shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n          monthRe = formatRe(locale_months),\n          monthLookup = formatLookup(locale_months),\n          shortMonthRe = formatRe(locale_shortMonths),\n          shortMonthLookup = formatLookup(locale_shortMonths);\n\n      var formats = {\n        \"a\": formatShortWeekday,\n        \"A\": formatWeekday,\n        \"b\": formatShortMonth,\n        \"B\": formatMonth,\n        \"c\": null,\n        \"d\": formatDayOfMonth,\n        \"e\": formatDayOfMonth,\n        \"H\": formatHour24,\n        \"I\": formatHour12,\n        \"j\": formatDayOfYear,\n        \"L\": formatMilliseconds,\n        \"m\": formatMonthNumber,\n        \"M\": formatMinutes,\n        \"p\": formatPeriod,\n        \"S\": formatSeconds,\n        \"U\": formatWeekNumberSunday,\n        \"w\": formatWeekdayNumber,\n        \"W\": formatWeekNumberMonday,\n        \"x\": null,\n        \"X\": null,\n        \"y\": _formatYear,\n        \"Y\": formatFullYear,\n        \"Z\": formatZone,\n        \"%\": formatLiteralPercent\n      };\n\n      var utcFormats = {\n        \"a\": formatUTCShortWeekday,\n        \"A\": formatUTCWeekday,\n        \"b\": formatUTCShortMonth,\n        \"B\": formatUTCMonth,\n        \"c\": null,\n        \"d\": formatUTCDayOfMonth,\n        \"e\": formatUTCDayOfMonth,\n        \"H\": formatUTCHour24,\n        \"I\": formatUTCHour12,\n        \"j\": formatUTCDayOfYear,\n        \"L\": formatUTCMilliseconds,\n        \"m\": formatUTCMonthNumber,\n        \"M\": formatUTCMinutes,\n        \"p\": formatUTCPeriod,\n        \"S\": formatUTCSeconds,\n        \"U\": formatUTCWeekNumberSunday,\n        \"w\": formatUTCWeekdayNumber,\n        \"W\": formatUTCWeekNumberMonday,\n        \"x\": null,\n        \"X\": null,\n        \"y\": _formatUTCYear,\n        \"Y\": formatUTCFullYear,\n        \"Z\": formatUTCZone,\n        \"%\": formatLiteralPercent\n      };\n\n      var parses = {\n        \"a\": parseShortWeekday,\n        \"A\": parseWeekday,\n        \"b\": parseShortMonth,\n        \"B\": parseMonth,\n        \"c\": parseLocaleDateTime,\n        \"d\": parseDayOfMonth,\n        \"e\": parseDayOfMonth,\n        \"H\": parseHour24,\n        \"I\": parseHour24,\n        \"j\": parseDayOfYear,\n        \"L\": parseMilliseconds,\n        \"m\": parseMonthNumber,\n        \"M\": parseMinutes,\n        \"p\": parsePeriod,\n        \"S\": parseSeconds,\n        \"U\": parseWeekNumberSunday,\n        \"w\": parseWeekdayNumber,\n        \"W\": parseWeekNumberMonday,\n        \"x\": parseLocaleDate,\n        \"X\": parseLocaleTime,\n        \"y\": parseYear,\n        \"Y\": parseFullYear,\n        \"Z\": parseZone,\n        \"%\": parseLiteralPercent\n      };\n\n      // These recursive directive definitions must be deferred.\n      formats.x = newFormat(locale_date, formats);\n      formats.X = newFormat(locale_time, formats);\n      formats.c = newFormat(locale_dateTime, formats);\n      utcFormats.x = newFormat(locale_date, utcFormats);\n      utcFormats.X = newFormat(locale_time, utcFormats);\n      utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n      function newFormat(specifier, formats) {\n        return function(date) {\n          var string = [],\n              i = -1,\n              j = 0,\n              n = specifier.length,\n              c,\n              pad,\n              format;\n\n          while (++i < n) {\n            if (specifier.charCodeAt(i) === 37) {\n              string.push(specifier.slice(j, i));\n              if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n              if (format = formats[c]) c = format(date, pad == null ? (c === \"e\" ? \" \" : \"0\") : pad);\n              string.push(c);\n              j = i + 1;\n            }\n          }\n\n          string.push(specifier.slice(j, i));\n          return string.join(\"\");\n        };\n      }\n\n      function newParse(specifier, newDate) {\n        return function(string) {\n          var d = newYear(1900),\n              i = parseSpecifier(d, specifier, string, 0);\n          if (i != string.length) return null;\n\n          // The am-pm flag is 0 for AM, and 1 for PM.\n          if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n          // If a time zone is specified, all fields are interpreted as UTC and then\n          // offset according to the specified time zone.\n          if (\"Z\" in d) {\n            if (\"w\" in d && (\"W\" in d || \"U\" in d)) {\n              var day = utcDate(newYear(d.y)).getUTCDay();\n              if (\"W\" in d) d.U = d.W, d.w = (d.w + 6) % 7, --day;\n              d.m = 0;\n              d.d = d.w + d.U * 7 - (day + 6) % 7;\n            }\n            d.H += d.Z / 100 | 0;\n            d.M += d.Z % 100;\n            return utcDate(d);\n          }\n\n          // Otherwise, all fields are in local time.\n          if (\"w\" in d && (\"W\" in d || \"U\" in d)) {\n            var day = newDate(newYear(d.y)).getDay();\n            if (\"W\" in d) d.U = d.W, d.w = (d.w + 6) % 7, --day;\n            d.m = 0;\n            d.d = d.w + d.U * 7 - (day + 6) % 7;\n          }\n          return newDate(d);\n        };\n      }\n\n      function parseSpecifier(d, specifier, string, j) {\n        var i = 0,\n            n = specifier.length,\n            m = string.length,\n            c,\n            parse;\n\n        while (i < n) {\n          if (j >= m) return -1;\n          c = specifier.charCodeAt(i++);\n          if (c === 37) {\n            c = specifier.charAt(i++);\n            parse = parses[c in pads ? specifier.charAt(i++) : c];\n            if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n          } else if (c != string.charCodeAt(j++)) {\n            return -1;\n          }\n        }\n\n        return j;\n      }\n\n      function parseShortWeekday(d, string, i) {\n        var n = shortWeekdayRe.exec(string.slice(i));\n        return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n      }\n\n      function parseWeekday(d, string, i) {\n        var n = weekdayRe.exec(string.slice(i));\n        return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n      }\n\n      function parseShortMonth(d, string, i) {\n        var n = shortMonthRe.exec(string.slice(i));\n        return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n      }\n\n      function parseMonth(d, string, i) {\n        var n = monthRe.exec(string.slice(i));\n        return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n      }\n\n      function parseLocaleDateTime(d, string, i) {\n        return parseSpecifier(d, locale_dateTime, string, i);\n      }\n\n      function parseLocaleDate(d, string, i) {\n        return parseSpecifier(d, locale_date, string, i);\n      }\n\n      function parseLocaleTime(d, string, i) {\n        return parseSpecifier(d, locale_time, string, i);\n      }\n\n      function parsePeriod(d, string, i) {\n        var n = periodLookup.get(string.slice(i, i += 2).toLowerCase());\n        return n == null ? -1 : (d.p = n, i);\n      }\n\n      function formatShortWeekday(d) {\n        return locale_shortWeekdays[d.getDay()];\n      }\n\n      function formatWeekday(d) {\n        return locale_weekdays[d.getDay()];\n      }\n\n      function formatShortMonth(d) {\n        return locale_shortMonths[d.getMonth()];\n      }\n\n      function formatMonth(d) {\n        return locale_months[d.getMonth()];\n      }\n\n      function formatPeriod(d) {\n        return locale_periods[+(d.getHours() >= 12)];\n      }\n\n      function formatUTCShortWeekday(d) {\n        return locale_shortWeekdays[d.getUTCDay()];\n      }\n\n      function formatUTCWeekday(d) {\n        return locale_weekdays[d.getUTCDay()];\n      }\n\n      function formatUTCShortMonth(d) {\n        return locale_shortMonths[d.getUTCMonth()];\n      }\n\n      function formatUTCMonth(d) {\n        return locale_months[d.getUTCMonth()];\n      }\n\n      function formatUTCPeriod(d) {\n        return locale_periods[+(d.getUTCHours() >= 12)];\n      }\n\n      return {\n        format: function(specifier) {\n          var f = newFormat(specifier += \"\", formats);\n          f.parse = newParse(specifier, localDate);\n          f.toString = function() { return specifier; };\n          return f;\n        },\n        utcFormat: function(specifier) {\n          var f = newFormat(specifier += \"\", utcFormats);\n          f.parse = newParse(specifier, utcDate);\n          f.toString = function() { return specifier; };\n          return f;\n        }\n      };\n    }var pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"};\n    var numberRe = /^\\s*\\d+/;\n    var percentRe = /^%/;\n    var _requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n    function pad(value, fill, width) {\n      var sign = value < 0 ? \"-\" : \"\",\n          string = (sign ? -value : value) + \"\",\n          length = string.length;\n      return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n    }\n\n    function requote(s) {\n      return s.replace(_requoteRe, \"\\\\$&\");\n    }\n\n    function formatRe(names) {\n      return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n    }\n\n    function formatLookup(names) {\n      var map = new Map, i = -1, n = names.length;\n      while (++i < n) map.set(names[i].toLowerCase(), i);\n      return map;\n    }\n\n    function parseWeekdayNumber(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 1));\n      return n ? (d.w = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseWeekNumberSunday(d, string, i) {\n      var n = numberRe.exec(string.slice(i));\n      return n ? (d.U = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseWeekNumberMonday(d, string, i) {\n      var n = numberRe.exec(string.slice(i));\n      return n ? (d.W = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseFullYear(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 4));\n      return n ? (d.y = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseYear(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 2));\n      return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n    }\n\n    function parseZone(d, string, i) {\n      return /^[+-]\\d{4}$/.test(string = string.slice(i, i + 5))\n          ? (d.Z = -string, i + 5) // sign differs from getTimezoneOffset!\n          : -1;\n    }\n\n    function parseMonthNumber(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 2));\n      return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n    }\n\n    function parseDayOfMonth(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 2));\n      return n ? (d.d = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseDayOfYear(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 3));\n      return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseHour24(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 2));\n      return n ? (d.H = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseMinutes(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 2));\n      return n ? (d.M = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseSeconds(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 2));\n      return n ? (d.S = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseMilliseconds(d, string, i) {\n      var n = numberRe.exec(string.slice(i, i + 3));\n      return n ? (d.L = +n[0], i + n[0].length) : -1;\n    }\n\n    function parseLiteralPercent(d, string, i) {\n      var n = percentRe.exec(string.slice(i, i + 1));\n      return n ? i + n[0].length : -1;\n    }\n\n    function formatDayOfMonth(d, p) {\n      return pad(d.getDate(), p, 2);\n    }\n\n    function formatHour24(d, p) {\n      return pad(d.getHours(), p, 2);\n    }\n\n    function formatHour12(d, p) {\n      return pad(d.getHours() % 12 || 12, p, 2);\n    }\n\n    function formatDayOfYear(d, p) {\n      return pad(1 + day.count(year(d), d), p, 3);\n    }\n\n    function formatMilliseconds(d, p) {\n      return pad(d.getMilliseconds(), p, 3);\n    }\n\n    function formatMonthNumber(d, p) {\n      return pad(d.getMonth() + 1, p, 2);\n    }\n\n    function formatMinutes(d, p) {\n      return pad(d.getMinutes(), p, 2);\n    }\n\n    function formatSeconds(d, p) {\n      return pad(d.getSeconds(), p, 2);\n    }\n\n    function formatWeekNumberSunday(d, p) {\n      return pad(sunday.count(year(d), d), p, 2);\n    }\n\n    function formatWeekdayNumber(d) {\n      return d.getDay();\n    }\n\n    function formatWeekNumberMonday(d, p) {\n      return pad(monday.count(year(d), d), p, 2);\n    }\n\n    function _formatYear(d, p) {\n      return pad(d.getFullYear() % 100, p, 2);\n    }\n\n    function formatFullYear(d, p) {\n      return pad(d.getFullYear() % 10000, p, 4);\n    }\n\n    function formatZone(d) {\n      var z = d.getTimezoneOffset();\n      return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n          + pad(z / 60 | 0, \"0\", 2)\n          + pad(z % 60, \"0\", 2);\n    }\n\n    function formatUTCDayOfMonth(d, p) {\n      return pad(d.getUTCDate(), p, 2);\n    }\n\n    function formatUTCHour24(d, p) {\n      return pad(d.getUTCHours(), p, 2);\n    }\n\n    function formatUTCHour12(d, p) {\n      return pad(d.getUTCHours() % 12 || 12, p, 2);\n    }\n\n    function formatUTCDayOfYear(d, p) {\n      return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n    }\n\n    function formatUTCMilliseconds(d, p) {\n      return pad(d.getUTCMilliseconds(), p, 3);\n    }\n\n    function formatUTCMonthNumber(d, p) {\n      return pad(d.getUTCMonth() + 1, p, 2);\n    }\n\n    function formatUTCMinutes(d, p) {\n      return pad(d.getUTCMinutes(), p, 2);\n    }\n\n    function formatUTCSeconds(d, p) {\n      return pad(d.getUTCSeconds(), p, 2);\n    }\n\n    function formatUTCWeekNumberSunday(d, p) {\n      return pad(utcSunday.count(utcYear(d), d), p, 2);\n    }\n\n    function formatUTCWeekdayNumber(d) {\n      return d.getUTCDay();\n    }\n\n    function formatUTCWeekNumberMonday(d, p) {\n      return pad(utcMonday.count(utcYear(d), d), p, 2);\n    }\n\n    function _formatUTCYear(d, p) {\n      return pad(d.getUTCFullYear() % 100, p, 2);\n    }\n\n    function formatUTCFullYear(d, p) {\n      return pad(d.getUTCFullYear() % 10000, p, 4);\n    }\n\n    function formatUTCZone() {\n      return \"+0000\";\n    }\n\n    function formatLiteralPercent() {\n      return \"%\";\n    }\n\n    var defaultLocale = __locale(_enUs);\n    var __format = defaultLocale.format;\n    var utcFormat = defaultLocale.utcFormat;\n\n    function interpolateNumber(a, b) {\n      return a = +a, b -= a, function(t) {\n        return a + b * t;\n      };\n    }\n\n    function interpolate(a, b) {\n      var i = interpolators.length, f;\n      while (--i >= 0 && !(f = interpolators[i](a, b)));\n      return f;\n    }\n\n    function interpolateObject(a, b) {\n      var i = {},\n          c = {},\n          k;\n\n      for (k in a) {\n        if (k in b) {\n          i[k] = interpolate(a[k], b[k]);\n        } else {\n          c[k] = a[k];\n        }\n      }\n\n      for (k in b) {\n        if (!(k in a)) {\n          c[k] = b[k];\n        }\n      }\n\n      return function(t) {\n        for (k in i) c[k] = i[k](t);\n        return c;\n      };\n    }\n\n    // TODO sparse arrays?\n    function interpolateArray(a, b) {\n      var x = [],\n          c = [],\n          na = a.length,\n          nb = b.length,\n          n0 = Math.min(a.length, b.length),\n          i;\n\n      for (i = 0; i < n0; ++i) x.push(interpolate(a[i], b[i]));\n      for (; i < na; ++i) c[i] = a[i];\n      for (; i < nb; ++i) c[i] = b[i];\n\n      return function(t) {\n        for (i = 0; i < n0; ++i) c[i] = x[i](t);\n        return c;\n      };\n    }\n\n    function Color() {}var reHex3 = /^#([0-9a-f]{3})$/;\n    var reHex6 = /^#([0-9a-f]{6})$/;\n    var reRgbInteger = /^rgb\\(\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+)\\s*,\\s*([-+]?\\d+)\\s*\\)$/;\n    var reRgbPercent = /^rgb\\(\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    var reHslPercent = /^hsl\\(\\s*([-+]?\\d+(?:\\.\\d+)?)\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*,\\s*([-+]?\\d+(?:\\.\\d+)?)%\\s*\\)$/;\n    color.prototype = Color.prototype = {\n      displayable: function() {\n        return this.rgb().displayable();\n      },\n      toString: function() {\n        return this.rgb() + \"\";\n      }\n    };\n\n    function color(format) {\n      var m;\n      format = (format + \"\").trim().toLowerCase();\n      return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf))) // #f00\n          : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n          : (m = reRgbInteger.exec(format)) ? rgb(m[1], m[2], m[3]) // rgb(255,0,0)\n          : (m = reRgbPercent.exec(format)) ? rgb(m[1] * 2.55, m[2] * 2.55, m[3] * 2.55) // rgb(100%,0%,0%)\n          : (m = reHslPercent.exec(format)) ? hsl(m[1], m[2] * .01, m[3] * .01) // hsl(120,50%,50%)\n          : named.has(format) ? rgbn(named.get(format))\n          : null;\n    }function rgbn(n) {\n      return rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff);\n    }\n\n    var named = (new Map)\n        .set(\"aliceblue\", 0xf0f8ff)\n        .set(\"antiquewhite\", 0xfaebd7)\n        .set(\"aqua\", 0x00ffff)\n        .set(\"aquamarine\", 0x7fffd4)\n        .set(\"azure\", 0xf0ffff)\n        .set(\"beige\", 0xf5f5dc)\n        .set(\"bisque\", 0xffe4c4)\n        .set(\"black\", 0x000000)\n        .set(\"blanchedalmond\", 0xffebcd)\n        .set(\"blue\", 0x0000ff)\n        .set(\"blueviolet\", 0x8a2be2)\n        .set(\"brown\", 0xa52a2a)\n        .set(\"burlywood\", 0xdeb887)\n        .set(\"cadetblue\", 0x5f9ea0)\n        .set(\"chartreuse\", 0x7fff00)\n        .set(\"chocolate\", 0xd2691e)\n        .set(\"coral\", 0xff7f50)\n        .set(\"cornflowerblue\", 0x6495ed)\n        .set(\"cornsilk\", 0xfff8dc)\n        .set(\"crimson\", 0xdc143c)\n        .set(\"cyan\", 0x00ffff)\n        .set(\"darkblue\", 0x00008b)\n        .set(\"darkcyan\", 0x008b8b)\n        .set(\"darkgoldenrod\", 0xb8860b)\n        .set(\"darkgray\", 0xa9a9a9)\n        .set(\"darkgreen\", 0x006400)\n        .set(\"darkgrey\", 0xa9a9a9)\n        .set(\"darkkhaki\", 0xbdb76b)\n        .set(\"darkmagenta\", 0x8b008b)\n        .set(\"darkolivegreen\", 0x556b2f)\n        .set(\"darkorange\", 0xff8c00)\n        .set(\"darkorchid\", 0x9932cc)\n        .set(\"darkred\", 0x8b0000)\n        .set(\"darksalmon\", 0xe9967a)\n        .set(\"darkseagreen\", 0x8fbc8f)\n        .set(\"darkslateblue\", 0x483d8b)\n        .set(\"darkslategray\", 0x2f4f4f)\n        .set(\"darkslategrey\", 0x2f4f4f)\n        .set(\"darkturquoise\", 0x00ced1)\n        .set(\"darkviolet\", 0x9400d3)\n        .set(\"deeppink\", 0xff1493)\n        .set(\"deepskyblue\", 0x00bfff)\n        .set(\"dimgray\", 0x696969)\n        .set(\"dimgrey\", 0x696969)\n        .set(\"dodgerblue\", 0x1e90ff)\n        .set(\"firebrick\", 0xb22222)\n        .set(\"floralwhite\", 0xfffaf0)\n        .set(\"forestgreen\", 0x228b22)\n        .set(\"fuchsia\", 0xff00ff)\n        .set(\"gainsboro\", 0xdcdcdc)\n        .set(\"ghostwhite\", 0xf8f8ff)\n        .set(\"gold\", 0xffd700)\n        .set(\"goldenrod\", 0xdaa520)\n        .set(\"gray\", 0x808080)\n        .set(\"green\", 0x008000)\n        .set(\"greenyellow\", 0xadff2f)\n        .set(\"grey\", 0x808080)\n        .set(\"honeydew\", 0xf0fff0)\n        .set(\"hotpink\", 0xff69b4)\n        .set(\"indianred\", 0xcd5c5c)\n        .set(\"indigo\", 0x4b0082)\n        .set(\"ivory\", 0xfffff0)\n        .set(\"khaki\", 0xf0e68c)\n        .set(\"lavender\", 0xe6e6fa)\n        .set(\"lavenderblush\", 0xfff0f5)\n        .set(\"lawngreen\", 0x7cfc00)\n        .set(\"lemonchiffon\", 0xfffacd)\n        .set(\"lightblue\", 0xadd8e6)\n        .set(\"lightcoral\", 0xf08080)\n        .set(\"lightcyan\", 0xe0ffff)\n        .set(\"lightgoldenrodyellow\", 0xfafad2)\n        .set(\"lightgray\", 0xd3d3d3)\n        .set(\"lightgreen\", 0x90ee90)\n        .set(\"lightgrey\", 0xd3d3d3)\n        .set(\"lightpink\", 0xffb6c1)\n        .set(\"lightsalmon\", 0xffa07a)\n        .set(\"lightseagreen\", 0x20b2aa)\n        .set(\"lightskyblue\", 0x87cefa)\n        .set(\"lightslategray\", 0x778899)\n        .set(\"lightslategrey\", 0x778899)\n        .set(\"lightsteelblue\", 0xb0c4de)\n        .set(\"lightyellow\", 0xffffe0)\n        .set(\"lime\", 0x00ff00)\n        .set(\"limegreen\", 0x32cd32)\n        .set(\"linen\", 0xfaf0e6)\n        .set(\"magenta\", 0xff00ff)\n        .set(\"maroon\", 0x800000)\n        .set(\"mediumaquamarine\", 0x66cdaa)\n        .set(\"mediumblue\", 0x0000cd)\n        .set(\"mediumorchid\", 0xba55d3)\n        .set(\"mediumpurple\", 0x9370db)\n        .set(\"mediumseagreen\", 0x3cb371)\n        .set(\"mediumslateblue\", 0x7b68ee)\n        .set(\"mediumspringgreen\", 0x00fa9a)\n        .set(\"mediumturquoise\", 0x48d1cc)\n        .set(\"mediumvioletred\", 0xc71585)\n        .set(\"midnightblue\", 0x191970)\n        .set(\"mintcream\", 0xf5fffa)\n        .set(\"mistyrose\", 0xffe4e1)\n        .set(\"moccasin\", 0xffe4b5)\n        .set(\"navajowhite\", 0xffdead)\n        .set(\"navy\", 0x000080)\n        .set(\"oldlace\", 0xfdf5e6)\n        .set(\"olive\", 0x808000)\n        .set(\"olivedrab\", 0x6b8e23)\n        .set(\"orange\", 0xffa500)\n        .set(\"orangered\", 0xff4500)\n        .set(\"orchid\", 0xda70d6)\n        .set(\"palegoldenrod\", 0xeee8aa)\n        .set(\"palegreen\", 0x98fb98)\n        .set(\"paleturquoise\", 0xafeeee)\n        .set(\"palevioletred\", 0xdb7093)\n        .set(\"papayawhip\", 0xffefd5)\n        .set(\"peachpuff\", 0xffdab9)\n        .set(\"peru\", 0xcd853f)\n        .set(\"pink\", 0xffc0cb)\n        .set(\"plum\", 0xdda0dd)\n        .set(\"powderblue\", 0xb0e0e6)\n        .set(\"purple\", 0x800080)\n        .set(\"rebeccapurple\", 0x663399)\n        .set(\"red\", 0xff0000)\n        .set(\"rosybrown\", 0xbc8f8f)\n        .set(\"royalblue\", 0x4169e1)\n        .set(\"saddlebrown\", 0x8b4513)\n        .set(\"salmon\", 0xfa8072)\n        .set(\"sandybrown\", 0xf4a460)\n        .set(\"seagreen\", 0x2e8b57)\n        .set(\"seashell\", 0xfff5ee)\n        .set(\"sienna\", 0xa0522d)\n        .set(\"silver\", 0xc0c0c0)\n        .set(\"skyblue\", 0x87ceeb)\n        .set(\"slateblue\", 0x6a5acd)\n        .set(\"slategray\", 0x708090)\n        .set(\"slategrey\", 0x708090)\n        .set(\"snow\", 0xfffafa)\n        .set(\"springgreen\", 0x00ff7f)\n        .set(\"steelblue\", 0x4682b4)\n        .set(\"tan\", 0xd2b48c)\n        .set(\"teal\", 0x008080)\n        .set(\"thistle\", 0xd8bfd8)\n        .set(\"tomato\", 0xff6347)\n        .set(\"turquoise\", 0x40e0d0)\n        .set(\"violet\", 0xee82ee)\n        .set(\"wheat\", 0xf5deb3)\n        .set(\"white\", 0xffffff)\n        .set(\"whitesmoke\", 0xf5f5f5)\n        .set(\"yellow\", 0xffff00)\n        .set(\"yellowgreen\", 0x9acd32);\n\n    var darker = .7;\n    var brighter = 1 / darker;\n\n    function rgb(r, g, b) {\n      if (arguments.length === 1) {\n        if (!(r instanceof Color)) r = color(r);\n        if (r) {\n          r = r.rgb();\n          b = r.b;\n          g = r.g;\n          r = r.r;\n        } else {\n          r = g = b = NaN;\n        }\n      }\n      return new Rgb(r, g, b);\n    }function Rgb(r, g, b) {\n      this.r = +r;\n      this.g = +g;\n      this.b = +b;\n    }var ____prototype = rgb.prototype = Rgb.prototype = new Color;\n\n    ____prototype.brighter = function(k) {\n      k = k == null ? brighter : Math.pow(brighter, k);\n      return new Rgb(this.r * k, this.g * k, this.b * k);\n    };\n\n    ____prototype.darker = function(k) {\n      k = k == null ? darker : Math.pow(darker, k);\n      return new Rgb(this.r * k, this.g * k, this.b * k);\n    };\n\n    ____prototype.rgb = function() {\n      return this;\n    };\n\n    ____prototype.displayable = function() {\n      return (0 <= this.r && this.r <= 255)\n          && (0 <= this.g && this.g <= 255)\n          && (0 <= this.b && this.b <= 255);\n    };\n\n    ____prototype.toString = function() {\n      return _format(this.r, this.g, this.b);\n    };\n\n    function _format(r, g, b) {\n      return \"#\"\n          + (isNaN(r) ? \"00\" : (r = Math.round(r)) < 16 ? \"0\" + Math.max(0, r).toString(16) : Math.min(255, r).toString(16))\n          + (isNaN(g) ? \"00\" : (g = Math.round(g)) < 16 ? \"0\" + Math.max(0, g).toString(16) : Math.min(255, g).toString(16))\n          + (isNaN(b) ? \"00\" : (b = Math.round(b)) < 16 ? \"0\" + Math.max(0, b).toString(16) : Math.min(255, b).toString(16));\n    }\n\n    function hsl(h, s, l) {\n      if (arguments.length === 1) {\n        if (h instanceof Hsl) {\n          l = h.l;\n          s = h.s;\n          h = h.h;\n        } else {\n          if (!(h instanceof Color)) h = color(h);\n          if (h) {\n            if (h instanceof Hsl) return h;\n            h = h.rgb();\n            var r = h.r / 255,\n                g = h.g / 255,\n                b = h.b / 255,\n                min = Math.min(r, g, b),\n                max = Math.max(r, g, b),\n                range = max - min;\n            l = (max + min) / 2;\n            if (range) {\n              s = l < .5 ? range / (max + min) : range / (2 - max - min);\n              if (r === max) h = (g - b) / range + (g < b) * 6;\n              else if (g === max) h = (b - r) / range + 2;\n              else h = (r - g) / range + 4;\n              h *= 60;\n            } else {\n              h = NaN;\n              s = l > 0 && l < 1 ? 0 : h;\n            }\n          } else {\n            h = s = l = NaN;\n          }\n        }\n      }\n      return new Hsl(h, s, l);\n    }function Hsl(h, s, l) {\n      this.h = +h;\n      this.s = +s;\n      this.l = +l;\n    }var ___prototype = hsl.prototype = Hsl.prototype = new Color;\n\n    ___prototype.brighter = function(k) {\n      k = k == null ? brighter : Math.pow(brighter, k);\n      return new Hsl(this.h, this.s, this.l * k);\n    };\n\n    ___prototype.darker = function(k) {\n      k = k == null ? darker : Math.pow(darker, k);\n      return new Hsl(this.h, this.s, this.l * k);\n    };\n\n    ___prototype.rgb = function() {\n      var h = this.h % 360 + (this.h < 0) * 360,\n          s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n          l = this.l,\n          m2 = l + (l < .5 ? l : 1 - l) * s,\n          m1 = 2 * l - m2;\n      return new Rgb(\n        hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n        hsl2rgb(h, m1, m2),\n        hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2)\n      );\n    };\n\n    ___prototype.displayable = function() {\n      return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n          && (0 <= this.l && this.l <= 1);\n    };\n\n    /* From FvD 13.37, CSS Color Module Level 3 */\n    function hsl2rgb(h, m1, m2) {\n      return (h < 60 ? m1 + (m2 - m1) * h / 60\n          : h < 180 ? m2\n          : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n          : m1) * 255;\n    }\n\n    var deg2rad = Math.PI / 180;\n    var _rad2deg = 180 / Math.PI;\n\n    var A = -0.14861;\n    var B = +1.78277;\n    var C = -0.29227;\n    var D = -0.90649;\n    var E = +1.97294;\n    var ED = E * D;\n    var EB = E * B;\n    var BC_DA = B * C - D * A;\n    function cubehelix(h, s, l) {\n      if (arguments.length === 1) {\n        if (h instanceof Cubehelix) {\n          l = h.l;\n          s = h.s;\n          h = h.h;\n        } else {\n          if (!(h instanceof Rgb)) h = rgb(h);\n          var r = h.r / 255, g = h.g / 255, b = h.b / 255;\n          l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB);\n          var bl = b - l, k = (E * (g - l) - C * bl) / D;\n          s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)); // NaN if l=0 or l=1\n          h = s ? Math.atan2(k, bl) * _rad2deg - 120 : NaN;\n          if (h < 0) h += 360;\n        }\n      }\n      return new Cubehelix(h, s, l);\n    }function Cubehelix(h, s, l) {\n      this.h = +h;\n      this.s = +s;\n      this.l = +l;\n    }var prototype = cubehelix.prototype = Cubehelix.prototype = new Color;\n\n    prototype.brighter = function(k) {\n      k = k == null ? brighter : Math.pow(brighter, k);\n      return new Cubehelix(this.h, this.s, this.l * k);\n    };\n\n    prototype.darker = function(k) {\n      k = k == null ? darker : Math.pow(darker, k);\n      return new Cubehelix(this.h, this.s, this.l * k);\n    };\n\n    prototype.rgb = function() {\n      var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n          l = +this.l,\n          a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n          cosh = Math.cos(h),\n          sinh = Math.sin(h);\n      return new Rgb(\n        255 * (l + a * (A * cosh + B * sinh)),\n        255 * (l + a * (C * cosh + D * sinh)),\n        255 * (l + a * (E * cosh))\n      );\n    };\n\n    function interpolateRgb(a, b) {\n      a = rgb(a);\n      b = rgb(b);\n      var ar = a.r,\n          ag = a.g,\n          ab = a.b,\n          br = b.r - ar,\n          bg = b.g - ag,\n          bb = b.b - ab;\n      return function(t) {\n        return _format(Math.round(ar + br * t), Math.round(ag + bg * t), Math.round(ab + bb * t));\n      };\n    }\n\n    var reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\n    var reB = new RegExp(reA.source, \"g\");\n    function interpolate0(b) {\n      return function() {\n        return b;\n      };\n    }\n\n    function interpolate1(b) {\n      return function(t) {\n        return b(t) + \"\";\n      };\n    }\n\n    function interpolateString(a, b) {\n      var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n          am, // current match in a\n          bm, // current match in b\n          bs, // string preceding current number in b, if any\n          i = -1, // index in s\n          s = [], // string constants and placeholders\n          q = []; // number interpolators\n\n      // Coerce inputs to strings.\n      a = a + \"\", b = b + \"\";\n\n      // Interpolate pairs of numbers in a & b.\n      while ((am = reA.exec(a))\n          && (bm = reB.exec(b))) {\n        if ((bs = bm.index) > bi) { // a string precedes the next number in b\n          bs = b.slice(bi, bs);\n          if (s[i]) s[i] += bs; // coalesce with previous string\n          else s[++i] = bs;\n        }\n        if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n          if (s[i]) s[i] += bm; // coalesce with previous string\n          else s[++i] = bm;\n        } else { // interpolate non-matching numbers\n          s[++i] = null;\n          q.push({i: i, x: interpolateNumber(am, bm)});\n        }\n        bi = reB.lastIndex;\n      }\n\n      // Add remains of b.\n      if (bi < b.length) {\n        bs = b.slice(bi);\n        if (s[i]) s[i] += bs; // coalesce with previous string\n        else s[++i] = bs;\n      }\n\n      // Special optimization for only a single match.\n      // Otherwise, interpolate each of the numbers and rejoin the string.\n      return s.length < 2 ? (q[0]\n          ? interpolate1(q[0].x)\n          : interpolate0(b))\n          : (b = q.length, function(t) {\n              for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n              return s.join(\"\");\n            });\n    }\n\n    var interpolators = [\n      function(a, b) {\n        var t = typeof b, c;\n        return (t === \"string\" ? ((c = color(b)) ? (b = c, interpolateRgb) : interpolateString)\n            : b instanceof color ? interpolateRgb\n            : Array.isArray(b) ? interpolateArray\n            : t === \"object\" && isNaN(b) ? interpolateObject\n            : interpolateNumber)(a, b);\n      }\n    ];\n\n    function interpolateRound(a, b) {\n      return a = +a, b -= a, function(t) {\n        return Math.round(a + b * t);\n      };\n    }\n\n    var e10 = Math.sqrt(50);\n    var e5 = Math.sqrt(10);\n    var e2 = Math.sqrt(2);\n    function tickRange(domain, count) {\n      if (count == null) count = 10;\n\n      var start = domain[0],\n          stop = domain[domain.length - 1];\n\n      if (stop < start) error = stop, stop = start, start = error;\n\n      var span = stop - start,\n          step = Math.pow(10, Math.floor(Math.log(span / count) / Math.LN10)),\n          error = span / count / step;\n\n      // Filter ticks to get closer to the desired count.\n      if (error >= e10) step *= 10;\n      else if (error >= e5) step *= 5;\n      else if (error >= e2) step *= 2;\n\n      // Round start and stop values to step interval.\n      return [\n        Math.ceil(start / step) * step,\n        Math.floor(stop / step) * step + step / 2, // inclusive\n        step\n      ];\n    }function ticks(domain, count) {\n      return _range.apply(null, tickRange(domain, count));\n    }\n\n    function nice(domain, step) {\n      domain = domain.slice();\n      if (!step) return domain;\n\n      var i0 = 0,\n          i1 = domain.length - 1,\n          x0 = domain[i0],\n          x1 = domain[i1],\n          t;\n\n      if (x1 < x0) {\n        t = i0, i0 = i1, i1 = t;\n        t = x0, x0 = x1, x1 = t;\n      }\n\n      domain[i0] = Math.floor(x0 / step) * step;\n      domain[i1] = Math.ceil(x1 / step) * step;\n      return domain;\n    }\n\n    function __tickFormat(domain, count, specifier) {\n      var range = tickRange(domain, count);\n      if (specifier == null) {\n        specifier = \",.\" + precisionFixed(range[2]) + \"f\";\n      } else {\n        switch (specifier = formatSpecifier(specifier), specifier.type) {\n          case \"s\": {\n            var value = Math.max(Math.abs(range[0]), Math.abs(range[1]));\n            if (specifier.precision == null) specifier.precision = precisionPrefix(range[2], value);\n            return formatPrefix(specifier, value);\n          }\n          case \"\":\n          case \"e\":\n          case \"g\":\n          case \"p\":\n          case \"r\": {\n            if (specifier.precision == null) specifier.precision = precisionRound(range[2], Math.max(Math.abs(range[0]), Math.abs(range[1]))) - (specifier.type === \"e\");\n            break;\n          }\n          case \"f\":\n          case \"%\": {\n            if (specifier.precision == null) specifier.precision = precisionFixed(range[2]) - (specifier.type === \"%\") * 2;\n            break;\n          }\n        }\n      }\n      return ___format(specifier);\n    }\n\n    function uninterpolateClamp(a, b) {\n      b = (b -= a = +a) || 1 / b;\n      return function(x) {\n        return Math.max(0, Math.min(1, (x - a) / b));\n      };\n    }\n\n    function uninterpolateNumber(a, b) {\n      b = (b -= a = +a) || 1 / b;\n      return function(x) {\n        return (x - a) / b;\n      };\n    }\n\n    function bilinear(domain, range, uninterpolate, interpolate) {\n      var u = uninterpolate(domain[0], domain[1]),\n          i = interpolate(range[0], range[1]);\n      return function(x) {\n        return i(u(x));\n      };\n    }\n\n    function polylinear(domain, range, uninterpolate, interpolate) {\n      var k = Math.min(domain.length, range.length) - 1,\n          u = new Array(k),\n          i = new Array(k),\n          j = -1;\n\n      // Handle descending domains.\n      if (domain[k] < domain[0]) {\n        domain = domain.slice().reverse();\n        range = range.slice().reverse();\n      }\n\n      while (++j < k) {\n        u[j] = uninterpolate(domain[j], domain[j + 1]);\n        i[j] = interpolate(range[j], range[j + 1]);\n      }\n\n      return function(x) {\n        var j = bisectRight(domain, x, 1, k) - 1;\n        return i[j](u[j](x));\n      };\n    }\n\n    function newLinear(domain, range, interpolate, clamp) {\n      var output,\n          input;\n\n      function rescale() {\n        var linear = Math.min(domain.length, range.length) > 2 ? polylinear : bilinear,\n            uninterpolate = clamp ? uninterpolateClamp : uninterpolateNumber;\n        output = linear(domain, range, uninterpolate, interpolate);\n        input = linear(range, domain, uninterpolate, interpolateNumber);\n        return scale;\n      }\n\n      function scale(x) {\n        return output(x);\n      }\n\n      scale.invert = function(y) {\n        return input(y);\n      };\n\n      scale.domain = function(x) {\n        if (!arguments.length) return domain.slice();\n        domain = x.map(Number);\n        return rescale();\n      };\n\n      scale.range = function(x) {\n        if (!arguments.length) return range.slice();\n        range = x.slice();\n        return rescale();\n      };\n\n      scale.rangeRound = function(x) {\n        return scale.range(x).interpolate(interpolateRound);\n      };\n\n      scale.clamp = function(x) {\n        if (!arguments.length) return clamp;\n        clamp = !!x;\n        return rescale();\n      };\n\n      scale.interpolate = function(x) {\n        if (!arguments.length) return interpolate;\n        interpolate = x;\n        return rescale();\n      };\n\n      scale.ticks = function(count) {\n        return ticks(domain, count);\n      };\n\n      scale.tickFormat = function(count, specifier) {\n        return __tickFormat(domain, count, specifier);\n      };\n\n      scale.nice = function(count) {\n        domain = nice(domain, tickRange(domain, count)[2]);\n        return rescale();\n      };\n\n      scale.copy = function() {\n        return newLinear(domain, range, interpolate, clamp);\n      };\n\n      return rescale();\n    }\n\n    function rebind(scale, linear) {\n      scale.range = function() {\n        var x = linear.range.apply(linear, arguments);\n        return x === linear ? scale : x;\n      };\n\n      scale.rangeRound = function() {\n        var x = linear.rangeRound.apply(linear, arguments);\n        return x === linear ? scale : x;\n      };\n\n      scale.clamp = function() {\n        var x = linear.clamp.apply(linear, arguments);\n        return x === linear ? scale : x;\n      };\n\n      scale.interpolate = function() {\n        var x = linear.interpolate.apply(linear, arguments);\n        return x === linear ? scale : x;\n      };\n\n      return scale;\n    }function _linear() {\n      return newLinear([0, 1], [0, 1], interpolate, false);\n    }\n\n    function _newDate(t) {\n      return new Date(t);\n    }\n\n    function newTime(linear, timeInterval, tickFormat, format) {\n\n      function scale(x) {\n        return linear(x);\n      }\n\n      scale.invert = function(x) {\n        return _newDate(linear.invert(x));\n      };\n\n      scale.domain = function(x) {\n        if (!arguments.length) return linear.domain().map(_newDate);\n        linear.domain(x);\n        return scale;\n      };\n\n      function tickInterval(interval, start, stop, step) {\n        if (interval == null) interval = 10;\n\n        // If a desired tick count is specified, pick a reasonable tick interval\n        // based on the extent of the domain and a rough estimate of tick size.\n        // If a named interval such as \"seconds\" was specified, convert to the\n        // corresponding time interval and optionally filter using the step.\n        // Otherwise, assume interval is already a time interval and use it.\n        switch (typeof interval) {\n          case \"number\": interval = chooseTickInterval(start, stop, interval), step = interval[1], interval = interval[0]; break;\n          case \"string\": step = step == null ? 1 : Math.floor(step); break;\n          default: return interval;\n        }\n\n        return isFinite(step) && step > 0 ? timeInterval(interval, step) : null;\n      }\n\n      scale.ticks = function(interval, step) {\n        var domain = linear.domain(),\n            t0 = domain[0],\n            t1 = domain[domain.length - 1],\n            t;\n\n        if (t1 < t0) t = t0, t0 = t1, t1 = t;\n\n        return (interval = tickInterval(interval, t0, t1, step))\n            ? interval.range(t0, t1 + 1) // inclusive stop\n            : [];\n      };\n\n      scale.tickFormat = function(specifier) {\n        return specifier == null ? tickFormat : format(specifier);\n      };\n\n      scale.nice = function(interval, step) {\n        var domain = linear.domain(),\n            i0 = 0,\n            i1 = domain.length - 1,\n            t0 = domain[i0],\n            t1 = domain[i1],\n            t;\n\n        if (t1 < t0) {\n          t = i0, i0 = i1, i1 = t;\n          t = t0, t0 = t1, t1 = t;\n        }\n\n        if (interval = tickInterval(interval, t0, t1, step)) {\n          domain[i0] = +interval.floor(t0);\n          domain[i1] = +interval.ceil(t1);\n          linear.domain(domain);\n        }\n\n        return scale;\n      };\n\n      scale.copy = function() {\n        return newTime(linear.copy(), timeInterval, tickFormat, format);\n      };\n\n      return rebind(scale, linear);\n    }var millisecondsPerSecond = 1000;\n    var millisecondsPerMinute = millisecondsPerSecond * 60;\n    var millisecondsPerHour = millisecondsPerMinute * 60;\n    var millisecondsPerDay = millisecondsPerHour * 24;\n    var millisecondsPerWeek = millisecondsPerDay * 7;\n    var millisecondsPerMonth = millisecondsPerDay * 30;\n    var millisecondsPerYear = millisecondsPerDay * 365;\n    var tickIntervals = [\n      [\"seconds\",  1,      millisecondsPerSecond],\n      [\"seconds\",  5,  5 * millisecondsPerSecond],\n      [\"seconds\", 15, 15 * millisecondsPerSecond],\n      [\"seconds\", 30, 30 * millisecondsPerSecond],\n      [\"minutes\",  1,      millisecondsPerMinute],\n      [\"minutes\",  5,  5 * millisecondsPerMinute],\n      [\"minutes\", 15, 15 * millisecondsPerMinute],\n      [\"minutes\", 30, 30 * millisecondsPerMinute],\n      [  \"hours\",  1,      millisecondsPerHour  ],\n      [  \"hours\",  3,  3 * millisecondsPerHour  ],\n      [  \"hours\",  6,  6 * millisecondsPerHour  ],\n      [  \"hours\", 12, 12 * millisecondsPerHour  ],\n      [   \"days\",  1,      millisecondsPerDay   ],\n      [   \"days\",  2,  2 * millisecondsPerDay   ],\n      [  \"weeks\",  1,      millisecondsPerWeek  ],\n      [ \"months\",  1,      millisecondsPerMonth ],\n      [ \"months\",  3,  3 * millisecondsPerMonth ],\n      [  \"years\",  1,      millisecondsPerYear  ]\n    ];\n\n    var bisectTickIntervals = bisector(function(method) {\n      return method[2];\n    }).right;\n\n    function chooseTickInterval(start, stop, count) {\n      var target = Math.abs(stop - start) / count,\n          i = bisectTickIntervals(tickIntervals, target);\n      return i === tickIntervals.length ? [\"years\", tickRange([start / millisecondsPerYear, stop / millisecondsPerYear], count)[2]]\n          : i ? tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i]\n          : [\"milliseconds\", tickRange([start, stop], count)[2]];\n    }\n\n    var formatMillisecond = __format(\".%L\");\n    var formatSecond = __format(\":%S\");\n    var formatMinute = __format(\"%I:%M\");\n    var formatHour = __format(\"%I %p\");\n    var formatDay = __format(\"%a %d\");\n    var formatWeek = __format(\"%b %d\");\n    var formatMonth = __format(\"%B\");\n    var formatYear = __format(\"%Y\");\n    function _tickFormat(date) {\n      return (second(date) < date ? formatMillisecond\n          : minute(date) < date ? formatSecond\n          : hour(date) < date ? formatMinute\n          : day(date) < date ? formatHour\n          : month(date) < date ? (sunday(date) < date ? formatDay : formatWeek)\n          : year(date) < date ? formatMonth\n          : formatYear)(date);\n    }\n\n    function millisecond(step) {\n      return {\n        range: function(start, stop) { return _range(Math.ceil(start / step) * step, stop, step).map(_newDate); },\n        floor: function(date) { return _newDate(Math.floor(date / step) * step); },\n        ceil: function(date) { return _newDate(Math.ceil(date / step) * step); }\n      };\n    }function _timeInterval(interval, step) {\n      switch (interval) {\n        case \"milliseconds\": return millisecond(step);\n        case \"seconds\": return step > 1 ? second.filter(function(d) { return d.getSeconds() % step === 0; }) : second;\n        case \"minutes\": return step > 1 ? minute.filter(function(d) { return d.getMinutes() % step === 0; }) : minute;\n        case \"hours\": return step > 1 ? hour.filter(function(d) { return d.getHours() % step === 0; }) : hour;\n        case \"days\": return step > 1 ? day.filter(function(d) { return (d.getDate() - 1) % step === 0; }) : day;\n        case \"weeks\": return step > 1 ? sunday.filter(function(d) { return sunday.count(0, d) % step === 0; }) : sunday;\n        case \"months\": return step > 1 ? month.filter(function(d) { return d.getMonth() % step === 0; }) : month;\n        case \"years\": return step > 1 ? year.filter(function(d) { return d.getFullYear() % step === 0; }) : year;\n      }\n    }\n\n    function time() {\n      return newTime(_linear(), _timeInterval, _tickFormat, __format).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n    }\n\n    var formatUTCMillisecond = utcFormat(\".%L\");\n    var formatUTCSecond = utcFormat(\":%S\");\n    var formatUTCMinute = utcFormat(\"%I:%M\");\n    var formatUTCHour = utcFormat(\"%I %p\");\n    var formatUTCDay = utcFormat(\"%a %d\");\n    var formatUTCWeek = utcFormat(\"%b %d\");\n    var formatUTCMonth = utcFormat(\"%B\");\n    var formatUTCYear = utcFormat(\"%Y\");\n    function tickFormat(date) {\n      return (utcSecond(date) < date ? formatUTCMillisecond\n          : utcMinute(date) < date ? formatUTCSecond\n          : utcHour(date) < date ? formatUTCMinute\n          : utcDay(date) < date ? formatUTCHour\n          : utcMonth(date) < date ? (utcSunday(date) < date ? formatUTCDay : formatUTCWeek)\n          : utcYear(date) < date ? formatUTCMonth\n          : formatUTCYear)(date);\n    }\n\n    function timeInterval(interval, step) {\n      switch (interval) {\n        case \"milliseconds\": return millisecond(step);\n        case \"seconds\": return step > 1 ? utcSecond.filter(function(d) { return d.getUTCSeconds() % step === 0; }) : utcSecond;\n        case \"minutes\": return step > 1 ? utcMinute.filter(function(d) { return d.getUTCMinutes() % step === 0; }) : utcMinute;\n        case \"hours\": return step > 1 ? utcHour.filter(function(d) { return d.getUTCHours() % step === 0; }) : utcHour;\n        case \"days\": return step > 1 ? utcDay.filter(function(d) { return (d.getUTCDate() - 1) % step === 0; }) : utcDay;\n        case \"weeks\": return step > 1 ? utcSunday.filter(function(d) { return utcSunday.count(0, d) % step === 0; }) : utcSunday;\n        case \"months\": return step > 1 ? utcMonth.filter(function(d) { return d.getUTCMonth() % step === 0; }) : utcMonth;\n        case \"years\": return step > 1 ? utcYear.filter(function(d) { return d.getUTCFullYear() % step === 0; }) : utcYear;\n      }\n    }\n\n    function utcTime() {\n      return newTime(_linear(), timeInterval, tickFormat, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n    }\n\n    function newThreshold(domain, range, n) {\n\n      function scale(x) {\n        if (x <= x) return range[bisectRight(domain, x, 0, n)];\n      }\n\n      scale.domain = function(x) {\n        if (!arguments.length) return domain.slice();\n        domain = x.slice(), n = Math.min(domain.length, range.length - 1);\n        return scale;\n      };\n\n      scale.range = function(x) {\n        if (!arguments.length) return range.slice();\n        range = x.slice(), n = Math.min(domain.length, range.length - 1);\n        return scale;\n      };\n\n      scale.invertExtent = function(y) {\n        return y = range.indexOf(y), [domain[y - 1], domain[y]];\n      };\n\n      scale.copy = function() {\n        return newThreshold(domain, range);\n      };\n\n      return scale;\n    }function threshold() {\n      return newThreshold([.5], [0, 1], 1);\n    }\n\n    function newPow(linear, exponent, domain) {\n\n      function powp(x) {\n        return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n      }\n\n      function powb(x) {\n        return x < 0 ? -Math.pow(-x, 1 / exponent) : Math.pow(x, 1 / exponent);\n      }\n\n      function scale(x) {\n        return linear(powp(x));\n      }\n\n      scale.invert = function(x) {\n        return powb(linear.invert(x));\n      };\n\n      scale.exponent = function(x) {\n        if (!arguments.length) return exponent;\n        exponent = +x;\n        return scale.domain(domain);\n      };\n\n      scale.domain = function(x) {\n        if (!arguments.length) return domain.slice();\n        domain = x.map(Number);\n        linear.domain(domain.map(powp));\n        return scale;\n      };\n\n      scale.ticks = function(count) {\n        return ticks(domain, count);\n      };\n\n      scale.tickFormat = function(count, specifier) {\n        return __tickFormat(domain, count, specifier);\n      };\n\n      scale.nice = function(count) {\n        return scale.domain(nice(domain, tickRange(domain, count)[2]));\n      };\n\n      scale.copy = function() {\n        return newPow(linear.copy(), exponent, domain);\n      };\n\n      return rebind(scale, linear);\n    }\n\n    function sqrt() {\n      return newPow(_linear(), .5, [0, 1]);\n    }function pow() {\n      return newPow(_linear(), 1, [0, 1]);\n    }\n\n    function newQuantize(x0, x1, range) {\n      var kx, i;\n\n      function scale(x) {\n        return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];\n      }\n\n      function rescale() {\n        kx = range.length / (x1 - x0);\n        i = range.length - 1;\n        return scale;\n      }\n\n      scale.domain = function(x) {\n        if (!arguments.length) return [x0, x1];\n        x0 = +x[0];\n        x1 = +x[x.length - 1];\n        return rescale();\n      };\n\n      scale.range = function(x) {\n        if (!arguments.length) return range.slice();\n        range = x.slice();\n        return rescale();\n      };\n\n      scale.invertExtent = function(y) {\n        y = range.indexOf(y);\n        y = y < 0 ? NaN : y / kx + x0;\n        return [y, y + 1 / kx];\n      };\n\n      scale.copy = function() {\n        return newQuantize(x0, x1, range); // copy on write\n      };\n\n      return rescale();\n    }\n\n    function quantize() {\n      return newQuantize(0, 1, [0, 1]);\n    }\n\n    function newQuantile(domain, range) {\n      var thresholds;\n\n      function rescale() {\n        var k = 0,\n            q = range.length;\n        thresholds = [];\n        while (++k < q) thresholds[k - 1] = quantile(domain, k / q);\n        return scale;\n      }\n\n      function scale(x) {\n        if (!isNaN(x = +x)) return range[bisectRight(thresholds, x)];\n      }\n\n      scale.domain = function(x) {\n        if (!arguments.length) return domain;\n        domain = [];\n        for (var i = 0, n = x.length, v; i < n; ++i) if (v = x[i], v != null && !isNaN(v = +v)) domain.push(v);\n        domain.sort(_ascending);\n        return rescale();\n      };\n\n      scale.range = function(x) {\n        if (!arguments.length) return range.slice();\n        range = x.slice();\n        return rescale();\n      };\n\n      scale.quantiles = function() {\n        return thresholds;\n      };\n\n      scale.invertExtent = function(y) {\n        y = range.indexOf(y);\n        return y < 0 ? [NaN, NaN] : [\n          y > 0 ? thresholds[y - 1] : domain[0],\n          y < thresholds.length ? thresholds[y] : domain[domain.length - 1]\n        ];\n      };\n\n      scale.copy = function() {\n        return newQuantile(domain, range); // copy on write!\n      };\n\n      return rescale();\n    }\n\n    function _quantile() {\n      return newQuantile([], []);\n    }\n\n    function steps(length, start, step) {\n      var steps = new Array(length), i = -1;\n      while (++i < length) steps[i] = start + step * i;\n      return steps;\n    }\n\n    function newOrdinal(domain, ranger) {\n      var index,\n          range,\n          rangeBand;\n\n      function scale(x) {\n        var k = x + \"\", i = index.get(k);\n        if (!i) {\n          if (ranger.t !== \"range\") return;\n          index.set(k, i = domain.push(x));\n        }\n        return range[(i - 1) % range.length];\n      }\n\n      scale.domain = function(x) {\n        if (!arguments.length) return domain.slice();\n        domain = [];\n        index = new Map;\n        var i = -1, n = x.length, xi, xk;\n        while (++i < n) if (!index.has(xk = (xi = x[i]) + \"\")) index.set(xk, domain.push(xi));\n        return scale[ranger.t].apply(scale, ranger.a);\n      };\n\n      scale.range = function(x) {\n        if (!arguments.length) return range.slice();\n        range = x.slice();\n        rangeBand = 0;\n        ranger = {t: \"range\", a: arguments};\n        return scale;\n      };\n\n      scale.rangePoints = function(x, padding) {\n        padding = arguments.length < 2 ? 0 : +padding;\n        var start = +x[0],\n            stop = +x[1],\n            step = domain.length < 2 ? (start = (start + stop) / 2, 0) : (stop - start) / (domain.length - 1 + padding);\n        range = steps(domain.length, start + step * padding / 2, step);\n        rangeBand = 0;\n        ranger = {t: \"rangePoints\", a: arguments};\n        return scale;\n      };\n\n      scale.rangeRoundPoints = function(x, padding) {\n        padding = arguments.length < 2 ? 0 : +padding;\n        var start = +x[0],\n            stop = +x[1],\n            step = domain.length < 2 ? (start = stop = Math.round((start + stop) / 2), 0) : (stop - start) / (domain.length - 1 + padding) | 0; // bitwise floor for symmetry\n        range = steps(domain.length, start + Math.round(step * padding / 2 + (stop - start - (domain.length - 1 + padding) * step) / 2), step);\n        rangeBand = 0;\n        ranger = {t: \"rangeRoundPoints\", a: arguments};\n        return scale;\n      };\n\n      scale.rangeBands = function(x, padding, outerPadding) {\n        padding = arguments.length < 2 ? 0 : +padding;\n        outerPadding = arguments.length < 3 ? padding : +outerPadding;\n        var reverse = +x[1] < +x[0],\n            start = +x[reverse - 0],\n            stop = +x[1 - reverse],\n            step = (stop - start) / (domain.length - padding + 2 * outerPadding);\n        range = steps(domain.length, start + step * outerPadding, step);\n        if (reverse) range.reverse();\n        rangeBand = step * (1 - padding);\n        ranger = {t: \"rangeBands\", a: arguments};\n        return scale;\n      };\n\n      scale.rangeRoundBands = function(x, padding, outerPadding) {\n        padding = arguments.length < 2 ? 0 : +padding;\n        outerPadding = arguments.length < 3 ? padding : +outerPadding;\n        var reverse = +x[1] < +x[0],\n            start = +x[reverse - 0],\n            stop = +x[1 - reverse],\n            step = Math.floor((stop - start) / (domain.length - padding + 2 * outerPadding));\n        range = steps(domain.length, start + Math.round((stop - start - (domain.length - padding) * step) / 2), step);\n        if (reverse) range.reverse();\n        rangeBand = Math.round(step * (1 - padding));\n        ranger = {t: \"rangeRoundBands\", a: arguments};\n        return scale;\n      };\n\n      scale.rangeBand = function() {\n        return rangeBand;\n      };\n\n      scale.rangeExtent = function() {\n        var t = ranger.a[0], start = t[0], stop = t[t.length - 1];\n        if (stop < start) t = stop, stop = start, start = t;\n        return [start, stop];\n      };\n\n      scale.copy = function() {\n        return newOrdinal(domain, ranger);\n      };\n\n      return scale.domain(domain);\n    }\n\n    function ordinal() {\n      return newOrdinal([], {t: \"range\", a: [[]]});\n    }\n\n    var tickFormat10 = ___format(\".0e\");\n    var tickFormatOther = ___format(\",\");\n    function newLog(linear, base, domain) {\n\n      function log(x) {\n        return (domain[0] < 0 ? -Math.log(x > 0 ? 0 : -x) : Math.log(x < 0 ? 0 : x)) / Math.log(base);\n      }\n\n      function pow(x) {\n        return domain[0] < 0 ? -Math.pow(base, -x) : Math.pow(base, x);\n      }\n\n      function scale(x) {\n        return linear(log(x));\n      }\n\n      scale.invert = function(x) {\n        return pow(linear.invert(x));\n      };\n\n      scale.base = function(x) {\n        if (!arguments.length) return base;\n        base = +x;\n        return scale.domain(domain);\n      };\n\n      scale.domain = function(x) {\n        if (!arguments.length) return domain.slice();\n        domain = x.map(Number);\n        linear.domain(domain.map(log));\n        return scale;\n      };\n\n      scale.nice = function() {\n        var x = nice(linear.domain(), 1);\n        linear.domain(x);\n        domain = x.map(pow);\n        return scale;\n      };\n\n      scale.ticks = function() {\n        var u = domain[0],\n            v = domain[domain.length - 1];\n        if (v < u) i = u, u = v, v = i;\n        var i = Math.floor(log(u)),\n            j = Math.ceil(log(v)),\n            k,\n            t,\n            n = base % 1 ? 2 : base,\n            ticks = [];\n\n        if (isFinite(j - i)) {\n          if (u > 0) {\n            for (--j, k = 1; k < n; ++k) if ((t = pow(i) * k) < u) continue; else ticks.push(t);\n            while (++i < j) for (k = 1; k < n; ++k) ticks.push(pow(i) * k);\n            for (k = 1; k < n; ++k) if ((t = pow(i) * k) > v) break; else ticks.push(t);\n          } else {\n            for (++i, k = n - 1; k >= 1; --k) if ((t = pow(i) * k) < u) continue; else ticks.push(t);\n            while (++i < j) for (k = n - 1; k >= 1; --k) ticks.push(pow(i) * k);\n            for (k = n - 1; k >= 1; --k) if ((t = pow(i) * k) > v) break; else ticks.push(t);\n          }\n        }\n\n        return ticks;\n      };\n\n      scale.tickFormat = function(count, specifier) {\n        if (specifier == null) specifier = base === 10 ? tickFormat10 : tickFormatOther;\n        else if (typeof specifier !== \"function\") specifier = ___format(specifier);\n        if (count == null) return specifier;\n        var k = Math.min(base, scale.ticks().length / count),\n            f = domain[0] > 0 ? (e = 1e-12, Math.ceil) : (e = -1e-12, Math.floor),\n            e;\n        return function(d) {\n          return pow(f(log(d) + e)) / d >= k ? specifier(d) : \"\";\n        };\n      };\n\n      scale.copy = function() {\n        return newLog(linear.copy(), base, domain);\n      };\n\n      return rebind(scale, linear);\n    }\n\n    function log() {\n      return newLog(_linear(), 10, [1, 10]);\n    }\n\n    function newIdentity(domain) {\n\n      function scale(x) {\n        return +x;\n      }\n\n      scale.invert = scale;\n\n      scale.domain = scale.range = function(x) {\n        if (!arguments.length) return domain.slice();\n        domain = x.map(Number);\n        return scale;\n      };\n\n      scale.ticks = function(count) {\n        return ticks(domain, count);\n      };\n\n      scale.tickFormat = function(count, specifier) {\n        return __tickFormat(domain, count, specifier);\n      };\n\n      scale.copy = function() {\n        return newIdentity(domain);\n      };\n\n      return scale;\n    }\n\n    function __identity() {\n      return newIdentity([0, 1]);\n    }\n\n    function category20c() {\n      return ordinal().range([\n        \"#3182bd\", \"#6baed6\", \"#9ecae1\", \"#c6dbef\",\n        \"#e6550d\", \"#fd8d3c\", \"#fdae6b\", \"#fdd0a2\",\n        \"#31a354\", \"#74c476\", \"#a1d99b\", \"#c7e9c0\",\n        \"#756bb1\", \"#9e9ac8\", \"#bcbddc\", \"#dadaeb\",\n        \"#636363\", \"#969696\", \"#bdbdbd\", \"#d9d9d9\"\n      ]);\n    }\n\n    function category20b() {\n      return ordinal().range([\n        \"#393b79\", \"#5254a3\", \"#6b6ecf\", \"#9c9ede\",\n        \"#637939\", \"#8ca252\", \"#b5cf6b\", \"#cedb9c\",\n        \"#8c6d31\", \"#bd9e39\", \"#e7ba52\", \"#e7cb94\",\n        \"#843c39\", \"#ad494a\", \"#d6616b\", \"#e7969c\",\n        \"#7b4173\", \"#a55194\", \"#ce6dbd\", \"#de9ed6\"\n      ]);\n    }\n\n    function category20() {\n      return ordinal().range([\n        \"#1f77b4\", \"#aec7e8\",\n        \"#ff7f0e\", \"#ffbb78\",\n        \"#2ca02c\", \"#98df8a\",\n        \"#d62728\", \"#ff9896\",\n        \"#9467bd\", \"#c5b0d5\",\n        \"#8c564b\", \"#c49c94\",\n        \"#e377c2\", \"#f7b6d2\",\n        \"#7f7f7f\", \"#c7c7c7\",\n        \"#bcbd22\", \"#dbdb8d\",\n        \"#17becf\", \"#9edae5\"\n      ]);\n    }\n\n    function category10() {\n      return ordinal().range([\n        \"#1f77b4\",\n        \"#ff7f0e\",\n        \"#2ca02c\",\n        \"#d62728\",\n        \"#9467bd\",\n        \"#8c564b\",\n        \"#e377c2\",\n        \"#7f7f7f\",\n        \"#bcbd22\",\n        \"#17becf\"\n      ]);\n    }\n\n    function _defaultView(node) {\n      return node\n          && ((node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n              || (node.document && node) // node is a Window\n              || node.defaultView); // node is a Document\n    }\n\n    function selection_dispatch(type, params) {\n\n      function dispatchConstant() {\n        return dispatchEvent(this, type, params);\n      }\n\n      function dispatchFunction() {\n        return dispatchEvent(this, type, params.apply(this, arguments));\n      }\n\n      return this.each(typeof params === \"function\" ? dispatchFunction : dispatchConstant);\n    }function dispatchEvent(node, type, params) {\n      var window = _defaultView(node),\n          event = window.CustomEvent;\n\n      if (event) {\n        event = new event(type, params);\n      } else {\n        event = window.document.createEvent(\"Event\");\n        if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n        else event.initEvent(type, false, false);\n      }\n\n      node.dispatchEvent(event);\n    }\n\n    var requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\n    function _requote(string) {\n      return string.replace(requoteRe, \"\\\\$&\");\n    }\n\n    var filterEvents = new Map;\n\n    var _event = null;\n\n    if (typeof document !== \"undefined\") {\n      var _element = document.documentElement;\n      if (!(\"onmouseenter\" in _element)) {\n        filterEvents.set(\"mouseenter\", \"mouseover\").set(\"mouseleave\", \"mouseout\");\n      }\n    }\n\n    function selection_event(type, listener, capture) {\n      var n = arguments.length,\n          key = \"__on\" + type,\n          filter,\n          root = this._root;\n\n      if (n < 2) return (n = this.node()[key]) && n._listener;\n\n      if (n < 3) capture = false;\n      if ((n = type.indexOf(\".\")) > 0) type = type.slice(0, n);\n      if (filter = filterEvents.has(type)) type = filterEvents.get(type);\n\n      function add() {\n        var ancestor = root, i = arguments.length >> 1, ancestors = new Array(i);\n        while (--i >= 0) ancestor = ancestor[arguments[(i << 1) + 1]], ancestors[i] = i ? ancestor._parent : ancestor;\n        var l = listenerOf(listener, ancestors, arguments);\n        if (filter) l = filterListenerOf(l);\n        remove.call(this);\n        this.addEventListener(type, this[key] = l, l._capture = capture);\n        l._listener = listener;\n      }\n\n      function remove() {\n        var l = this[key];\n        if (l) {\n          this.removeEventListener(type, l, l._capture);\n          delete this[key];\n        }\n      }\n\n      function removeAll() {\n        var re = new RegExp(\"^__on([^.]+)\" + _requote(type) + \"$\"), match;\n        for (var name in this) {\n          if (match = name.match(re)) {\n            var l = this[name];\n            this.removeEventListener(match[1], l, l._capture);\n            delete this[name];\n          }\n        }\n      }\n\n      return this.each(listener\n          ? (n ? add : noop) // Attempt to add untyped listener is ignored.\n          : (n ? remove : removeAll));\n    }function listenerOf(listener, ancestors, args) {\n      return function(event1) {\n        var i = ancestors.length, event0 = _event; // Events can be reentrant (e.g., focus).\n        while (--i >= 0) args[i << 1] = ancestors[i].__data__;\n        _event = event1;\n        try {\n          listener.apply(ancestors[0], args);\n        } finally {\n          _event = event0;\n        }\n      };\n    }\n\n    function filterListenerOf(listener) {\n      return function(event) {\n        var related = event.relatedTarget;\n        if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n          listener(event);\n        }\n      };\n    }\n\n    function noop() {}\n\n    function selection_datum(value) {\n      return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n    }\n\n    function selection_remove() {\n      return this.each(function() {\n        var parent = this.parentNode;\n        if (parent) parent.removeChild(this);\n      });\n    }\n\n    function selectorOf(selector) {\n      return function() {\n        return this.querySelector(selector);\n      };\n    }\n\n    var namespaces = (new Map)\n        .set(\"svg\", \"http://www.w3.org/2000/svg\")\n        .set(\"xhtml\", \"http://www.w3.org/1999/xhtml\")\n        .set(\"xlink\", \"http://www.w3.org/1999/xlink\")\n        .set(\"xml\", \"http://www.w3.org/XML/1998/namespace\")\n        .set(\"xmlns\", \"http://www.w3.org/2000/xmlns/\");\n\n    function namespace(name) {\n      var i = name.indexOf(\":\"), prefix = name;\n      if (i >= 0) prefix = name.slice(0, i), name = name.slice(i + 1);\n      return namespaces.has(prefix) ? {space: namespaces.get(prefix), local: name} : name;\n    }\n\n    function selection_append(creator, selector) {\n      if (typeof creator !== \"function\") creator = creatorOf(creator);\n\n      function append() {\n        return this.appendChild(creator.apply(this, arguments));\n      }\n\n      function insert() {\n        return this.insertBefore(creator.apply(this, arguments), selector.apply(this, arguments) || null);\n      }\n\n      return this.select(arguments.length < 2\n          ? append\n          : (typeof selector !== \"function\" && (selector = selectorOf(selector)), insert));\n    }function creatorOf(name) {\n      name = namespace(name);\n\n      function creator() {\n        var document = this.ownerDocument,\n            uri = this.namespaceURI;\n        return uri\n            ? document.createElementNS(uri, name)\n            : document.createElement(name);\n      }\n\n      function creatorNS() {\n        return this.ownerDocument.createElementNS(name.space, name.local);\n      }\n\n      return name.local ? creatorNS : creator;\n    }\n\n    function selection_html(value) {\n      if (!arguments.length) return this.node().innerHTML;\n\n      function setConstant() {\n        this.innerHTML = value;\n      }\n\n      function setFunction() {\n        var v = value.apply(this, arguments);\n        this.innerHTML = v == null ? \"\" : v;\n      }\n\n      if (value == null) value = \"\";\n\n      return this.each(typeof value === \"function\" ? setFunction : setConstant);\n    }\n\n    function selection_text(value) {\n      if (!arguments.length) return this.node().textContent;\n\n      function setConstant() {\n        this.textContent = value;\n      }\n\n      function setFunction() {\n        var v = value.apply(this, arguments);\n        this.textContent = v == null ? \"\" : v;\n      }\n\n      if (value == null) value = \"\";\n\n      return this.each(typeof value === \"function\" ? setFunction : setConstant);\n    }\n\n    function selection_class(name, value) {\n      name = (name + \"\").trim().split(/^|\\s+/);\n      var n = name.length;\n\n      if (arguments.length < 2) {\n        var node = this.node(), i = -1;\n        if (value = node.classList) { // SVG elements may not support DOMTokenList!\n          while (++i < n) if (!value.contains(name[i])) return false;\n        } else {\n          value = node.getAttribute(\"class\");\n          while (++i < n) if (!classedRe(name[i]).test(value)) return false;\n        }\n        return true;\n      }\n\n      name = name.map(classerOf);\n\n      function setConstant() {\n        var i = -1;\n        while (++i < n) name[i](this, value);\n      }\n\n      function setFunction() {\n        var i = -1, x = value.apply(this, arguments);\n        while (++i < n) name[i](this, x);\n      }\n\n      return this.each(typeof value === \"function\" ? setFunction : setConstant);\n    }function classerOf(name) {\n      var re;\n      return function(node, value) {\n        if (c = node.classList) return value ? c.add(name) : c.remove(name);\n        if (!re) re = classedRe(name);\n        var c = node.getAttribute(\"class\") || \"\";\n        if (value) {\n          re.lastIndex = 0;\n          if (!re.test(c)) node.setAttribute(\"class\", collapse(c + \" \" + name));\n        } else {\n          node.setAttribute(\"class\", collapse(c.replace(re, \" \")));\n        }\n      };\n    }\n\n    function collapse(string) {\n      return string.trim().replace(/\\s+/g, \" \");\n    }\n\n    function classedRe(name) {\n      return new RegExp(\"(?:^|\\\\s+)\" + _requote(name) + \"(?:\\\\s+|$)\", \"g\");\n    }\n\n    function selection_property(name, value) {\n      if (arguments.length < 2) return this.node()[name];\n\n      function remove() {\n        delete this[name];\n      }\n\n      function setConstant() {\n        this[name] = value;\n      }\n\n      function setFunction() {\n        var x = value.apply(this, arguments);\n        if (x == null) delete this[name];\n        else this[name] = x;\n      }\n\n      return this.each(value == null ? remove : typeof value === \"function\" ? setFunction : setConstant);\n    }\n\n    function selection_style(name, value, priority) {\n      var n = arguments.length;\n\n      if (n < 2) return _defaultView(n = this.node()).getComputedStyle(n, null).getPropertyValue(name);\n\n      if (n < 3) priority = \"\";\n\n      function remove() {\n        this.style.removeProperty(name);\n      }\n\n      function setConstant() {\n        this.style.setProperty(name, value, priority);\n      }\n\n      function setFunction() {\n        var x = value.apply(this, arguments);\n        if (x == null) this.style.removeProperty(name);\n        else this.style.setProperty(name, x, priority);\n      }\n\n      return this.each(value == null ? remove : typeof value === \"function\" ? setFunction : setConstant);\n    }\n\n    function selection_attr(name, value) {\n      name = namespace(name);\n\n      if (arguments.length < 2) {\n        var node = this.node();\n        return name.local\n            ? node.getAttributeNS(name.space, name.local)\n            : node.getAttribute(name);\n      }\n\n      function remove() {\n        this.removeAttribute(name);\n      }\n\n      function removeNS() {\n        this.removeAttributeNS(name.space, name.local);\n      }\n\n      function setConstant() {\n        this.setAttribute(name, value);\n      }\n\n      function setConstantNS() {\n        this.setAttributeNS(name.space, name.local, value);\n      }\n\n      function setFunction() {\n        var x = value.apply(this, arguments);\n        if (x == null) this.removeAttribute(name);\n        else this.setAttribute(name, x);\n      }\n\n      function setFunctionNS() {\n        var x = value.apply(this, arguments);\n        if (x == null) this.removeAttributeNS(name.space, name.local);\n        else this.setAttributeNS(name.space, name.local, x);\n      }\n\n      return this.each(value == null\n          ? (name.local ? removeNS : remove)\n          : (typeof value === \"function\"\n              ? (name.local ? setFunctionNS : setFunction)\n              : (name.local ? setConstantNS : setConstant)));\n    }\n\n    function selection_each(callback) {\n      var depth = this._depth,\n          stack = new Array(depth);\n\n      function visit(nodes, depth) {\n        var i = -1,\n            n = nodes.length,\n            node;\n\n        if (--depth) {\n          var stack0 = depth * 2,\n              stack1 = stack0 + 1;\n          while (++i < n) {\n            if (node = nodes[i]) {\n              stack[stack0] = node._parent.__data__, stack[stack1] = i;\n              visit(node, depth);\n            }\n          }\n        }\n\n        else {\n          while (++i < n) {\n            if (node = nodes[i]) {\n              stack[0] = node.__data__, stack[1] = i;\n              callback.apply(node, stack);\n            }\n          }\n        }\n      }\n\n      visit(this._root, depth);\n      return this;\n    }\n\n    function selection_empty() {\n      return !this.node();\n    }\n\n    function selection_size() {\n      var size = 0;\n      this.each(function() { ++size; });\n      return size;\n    }\n\n    function selection_node() {\n      return firstNode(this._root, this._depth);\n    }function firstNode(nodes, depth) {\n      var i = -1,\n          n = nodes.length,\n          node;\n\n      if (--depth) {\n        while (++i < n) {\n          if (node = nodes[i]) {\n            if (node = firstNode(node, depth)) {\n              return node;\n            }\n          }\n        }\n      }\n\n      else {\n        while (++i < n) {\n          if (node = nodes[i]) {\n            return node;\n          }\n        }\n      }\n    }\n\n    function selection_nodes() {\n      var nodes = new Array(this.size()), i = -1;\n      this.each(function() { nodes[++i] = this; });\n      return nodes;\n    }\n\n    function selection_call() {\n      var callback = arguments[0];\n      callback.apply(arguments[0] = this, arguments);\n      return this;\n    }\n\n    // The leaf groups of the selection hierarchy are initially NodeList,\n    // and then lazily converted to arrays when mutation is required.\n    function arrayify(selection) {\n      return selection._root = arrayifyNode(selection._root, selection._depth);\n    }function arrayifyNode(nodes, depth) {\n      var i = -1,\n          n = nodes.length,\n          node;\n\n      if (--depth) {\n        while (++i < n) {\n          if (node = nodes[i]) {\n            nodes[i] = arrayifyNode(node, depth);\n          }\n        }\n      }\n\n      else if (!Array.isArray(nodes)) {\n        var array = new Array(n);\n        while (++i < n) array[i] = nodes[i];\n        array._parent = nodes._parent;\n        nodes = array;\n      }\n\n      return nodes;\n    }\n\n    function selection_sort(comparator) {\n      if (!comparator) comparator = ascending;\n\n      function compare(a, b) {\n        return a && b ? comparator(a.__data__, b.__data__) : !a - !b;\n      }\n\n      function visit(nodes, depth) {\n        if (--depth) {\n          var i = -1,\n              n = nodes.length,\n              node;\n          while (++i < n) {\n            if (node = nodes[i]) {\n              visit(node, depth);\n            }\n          }\n        }\n\n        else {\n          nodes.sort(compare);\n        }\n      }\n\n      visit(arrayify(this), this._depth);\n      return this.order();\n    }function ascending(a, b) {\n      return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n    }\n\n    function selection_order() {\n      orderNode(this._root, this._depth);\n      return this;\n    }function orderNode(nodes, depth) {\n      var i = nodes.length,\n          node,\n          next;\n\n      if (--depth) {\n        while (--i >= 0) {\n          if (node = nodes[i]) {\n            orderNode(node, depth);\n          }\n        }\n      }\n\n      else {\n        next = nodes[--i];\n        while (--i >= 0) {\n          if (node = nodes[i]) {\n            if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n            next = node;\n          }\n        }\n      }\n    }\n\n    function emptyOf(selection) {\n      return new Selection(emptyNode(arrayify(selection), selection._depth), selection._depth);\n    }function emptyNode(nodes, depth) {\n      var i = -1,\n          n = nodes.length,\n          node,\n          empty = new Array(n);\n\n      if (--depth) {\n        while (++i < n) {\n          if (node = nodes[i]) {\n            empty[i] = emptyNode(node, depth);\n          }\n        }\n      }\n\n      empty._parent = nodes._parent;\n      return empty;\n    }\n\n    // Lazily constructs the exit selection for this (update) selection.\n    // Until this selection is joined to data, the exit selection will be empty.\n    function selection_exit() {\n      return this._exit || (this._exit = emptyOf(this));\n    }\n\n    // Lazily constructs the enter selection for this (update) selection.\n    // Until this selection is joined to data, the enter selection will be empty.\n    function selection_enter() {\n      if (!this._enter) {\n        this._enter = emptyOf(this);\n        this._enter._update = this;\n      }\n      return this._enter;\n    }\n\n    // The value may either be an array or a function that returns an array.\n    // An optional key function may be specified to control how data is bound;\n    // if no key function is specified, data is bound to nodes by index.\n    // Or, if no arguments are specified, this method returns all bound data.\n    function selection_data(value, key) {\n      if (!value) {\n        var data = new Array(this.size()), i = -1;\n        this.each(function(d) { data[++i] = d; });\n        return data;\n      }\n\n      var depth = this._depth - 1,\n          stack = new Array(depth * 2),\n          bind = key ? bindKey : bindIndex;\n\n      if (typeof value !== \"function\") value = valueOf_(value);\n      visit(this._root, this.enter()._root, this.exit()._root, depth);\n\n      function visit(update, enter, exit, depth) {\n        var i = -1,\n            n,\n            node;\n\n        if (depth--) {\n          var stack0 = depth * 2,\n              stack1 = stack0 + 1;\n\n          n = update.length;\n\n          while (++i < n) {\n            if (node = update[i]) {\n              stack[stack0] = node._parent.__data__, stack[stack1] = i;\n              visit(node, enter[i], exit[i], depth);\n            }\n          }\n        }\n\n        else {\n          var j = 0,\n              before;\n\n          bind(update, enter, exit, value.apply(update._parent, stack));\n          n = update.length;\n\n          // Now connect the enter nodes to their following update node, such that\n          // appendChild can insert the materialized enter node before this node,\n          // rather than at the end of the parent node.\n          while (++i < n) {\n            if (before = enter[i]) {\n              if (i >= j) j = i + 1;\n              while (!(node = update[j]) && ++j < n);\n              before._next = node || null;\n            }\n          }\n        }\n      }\n\n      function bindIndex(update, enter, exit, data) {\n        var i = 0,\n            node,\n            nodeLength = update.length,\n            dataLength = data.length,\n            minLength = Math.min(nodeLength, dataLength);\n\n        // Clear the enter and exit arrays, and then initialize to the new length.\n        enter.length = 0, enter.length = dataLength;\n        exit.length = 0, exit.length = nodeLength;\n\n        for (; i < minLength; ++i) {\n          if (node = update[i]) {\n            node.__data__ = data[i];\n          } else {\n            enter[i] = new EnterNode(update._parent, data[i]);\n          }\n        }\n\n        // Note: we dont need to delete update[i] here because this loop only\n        // runs when the data length is greater than the node length.\n        for (; i < dataLength; ++i) {\n          enter[i] = new EnterNode(update._parent, data[i]);\n        }\n\n        // Note: and, we dont need to delete update[i] here because immediately\n        // following this loop we set the update length to data length.\n        for (; i < nodeLength; ++i) {\n          if (node = update[i]) {\n            exit[i] = update[i];\n          }\n        }\n\n        update.length = dataLength;\n      }\n\n      function bindKey(update, enter, exit, data) {\n        var i,\n            node,\n            dataLength = data.length,\n            nodeLength = update.length,\n            nodeByKeyValue = new Map,\n            keyStack = new Array(2).concat(stack),\n            keyValues = new Array(nodeLength),\n            keyValue;\n\n        // Clear the enter and exit arrays, and then initialize to the new length.\n        enter.length = 0, enter.length = dataLength;\n        exit.length = 0, exit.length = nodeLength;\n\n        // Compute the keys for each node.\n        for (i = 0; i < nodeLength; ++i) {\n          if (node = update[i]) {\n            keyStack[0] = node.__data__, keyStack[1] = i;\n            keyValues[i] = keyValue = key.apply(node, keyStack);\n\n            // Is this a duplicate of a key weve previously seen?\n            // If so, this node is moved to the exit selection.\n            if (nodeByKeyValue.has(keyValue)) {\n              exit[i] = node;\n            }\n\n            // Otherwise, record the mapping from key to node.\n            else {\n              nodeByKeyValue.set(keyValue, node);\n            }\n          }\n        }\n\n        // Now clear the update array and initialize to the new length.\n        update.length = 0, update.length = dataLength;\n\n        // Compute the keys for each datum.\n        for (i = 0; i < dataLength; ++i) {\n          keyStack[0] = data[i], keyStack[1] = i;\n          keyValue = key.apply(update._parent, keyStack);\n\n          // Is there a node associated with this key?\n          // If not, this datum is added to the enter selection.\n          if (!(node = nodeByKeyValue.get(keyValue))) {\n            enter[i] = new EnterNode(update._parent, data[i]);\n          }\n\n          // Did we already bind a node using this key? (Or is a duplicate?)\n          // If unique, the node and datum are joined in the update selection.\n          // Otherwise, the datum is ignored, neither entering nor exiting.\n          else if (node !== true) {\n            update[i] = node;\n            node.__data__ = data[i];\n          }\n\n          // Record that we consumed this key, either to enter or update.\n          nodeByKeyValue.set(keyValue, true);\n        }\n\n        // Take any remaining nodes that were not bound to data,\n        // and place them in the exit selection.\n        for (i = 0; i < nodeLength; ++i) {\n          if ((node = nodeByKeyValue.get(keyValues[i])) !== true) {\n            exit[i] = node;\n          }\n        }\n      }\n\n      return this;\n    }function EnterNode(parent, datum) {\n      this.ownerDocument = parent.ownerDocument;\n      this.namespaceURI = parent.namespaceURI;\n      this._next = null;\n      this._parent = parent;\n      this.__data__ = datum;\n    }\n\n    EnterNode.prototype = {\n      appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n      insertBefore: function(child, next) { return this._parent.insertBefore(child, next || this._next); }\n    };\n\n    function valueOf_(value) { // XXX https://github.com/rollup/rollup/issues/12\n      return function() {\n        return value;\n      };\n    }\n\n    // The filter may either be a selector string (e.g., \".foo\")\n    // or a function that returns a boolean.\n    function selection_filter(filter) {\n      var depth = this._depth,\n          stack = new Array(depth * 2);\n\n      if (typeof filter !== \"function\") filter = filterOf(filter);\n\n      function visit(nodes, depth) {\n        var i = -1,\n            n = nodes.length,\n            node,\n            subnodes;\n\n        if (--depth) {\n          var stack0 = depth * 2,\n              stack1 = stack0 + 1;\n          subnodes = new Array(n);\n          while (++i < n) {\n            if (node = nodes[i]) {\n              stack[stack0] = node._parent.__data__, stack[stack1] = i;\n              subnodes[i] = visit(node, depth);\n            }\n          }\n        }\n\n        // The filter operation does not preserve the original index,\n        // so the resulting leaf groups are dense (not sparse).\n        else {\n          subnodes = [];\n          while (++i < n) {\n            if (node = nodes[i]) {\n              stack[0] = node.__data__, stack[1] = i;\n              if (filter.apply(node, stack)) {\n                subnodes.push(node);\n              }\n            }\n          }\n        }\n\n        subnodes._parent = nodes._parent;\n        return subnodes;\n      }\n\n      return new Selection(visit(this._root, depth), depth);\n    }var filterOf = function(selector) {\n      return function() {\n        return this.matches(selector);\n      };\n    };\n\n    if (typeof document !== \"undefined\") {\n      var element = document.documentElement;\n      if (!element.matches) {\n        var vendorMatches = element.webkitMatchesSelector || element.msMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector;\n        filterOf = function(selector) { return function() { return vendorMatches.call(this, selector); }; };\n      }\n    }\n\n    // The selector may either be a selector string (e.g., \".foo\")\n    // or a function that optionally returns an array of nodes to select.\n    // This is the only operation that increases the depth of a selection.\n    function selection_selectAll(selector) {\n      var depth = this._depth,\n          stack = new Array(depth * 2);\n\n      if (typeof selector !== \"function\") selector = selectorAllOf(selector);\n\n      function visit(nodes, depth) {\n        var i = -1,\n            n = nodes.length,\n            node,\n            subnode,\n            subnodes = new Array(n);\n\n        if (--depth) {\n          var stack0 = depth * 2,\n              stack1 = stack0 + 1;\n          while (++i < n) {\n            if (node = nodes[i]) {\n              stack[stack0] = node._parent.__data__, stack[stack1] = i;\n              subnodes[i] = visit(node, depth);\n            }\n          }\n        }\n\n        // Data is not propagated since there is a one-to-many mapping.\n        // The parent of the new leaf group is the old node.\n        else {\n          while (++i < n) {\n            if (node = nodes[i]) {\n              stack[0] = node.__data__, stack[1] = i;\n              subnodes[i] = subnode = selector.apply(node, stack);\n              subnode._parent = node;\n            }\n          }\n        }\n\n        subnodes._parent = nodes._parent;\n        return subnodes;\n      }\n\n      return new Selection(visit(this._root, depth), depth + 1);\n    }function selectorAllOf(selector) {\n      return function() {\n        return this.querySelectorAll(selector);\n      };\n    }\n\n    // The selector may either be a selector string (e.g., \".foo\")\n    // or a function that optionally returns the node to select.\n    function selection_select(selector) {\n      var depth = this._depth,\n          stack = new Array(depth * 2);\n\n      if (typeof selector !== \"function\") selector = selectorOf(selector);\n\n      function visit(nodes, update, depth) {\n        var i = -1,\n            n = nodes.length,\n            node,\n            subnode,\n            subnodes = new Array(n);\n\n        if (--depth) {\n          var stack0 = depth * 2,\n              stack1 = stack0 + 1;\n          while (++i < n) {\n            if (node = nodes[i]) {\n              stack[stack0] = node._parent.__data__, stack[stack1] = i;\n              subnodes[i] = visit(node, update && update[i], depth);\n            }\n          }\n        }\n\n        // The leaf group may be sparse if the selector returns a falsey value;\n        // this preserves the index of nodes (unlike selection.filter).\n        // Propagate data to the new node only if it is defined on the old.\n        // If this is an enter selection, materialized nodes are moved to update.\n        else {\n          while (++i < n) {\n            if (node = nodes[i]) {\n              stack[0] = node.__data__, stack[1] = i;\n              if (subnode = selector.apply(node, stack)) {\n                if (\"__data__\" in node) subnode.__data__ = node.__data__;\n                if (update) update[i] = subnode, delete nodes[i];\n                subnodes[i] = subnode;\n              }\n            }\n          }\n        }\n\n        subnodes._parent = nodes._parent;\n        return subnodes;\n      }\n\n      return new Selection(visit(this._root, this._update && this._update._root, depth), depth);\n    }\n\n    // When depth = 1, root = [Node, ].\n    // When depth = 2, root = [[Node, ], ].\n    // When depth = 3, root = [[[Node, ], ], ]. etc.\n    // Note that [Node, ] and NodeList are used interchangeably; see arrayify.\n    function Selection(root, depth) {\n      this._root = root;\n      this._depth = depth;\n      this._enter = this._update = this._exit = null;\n    }function _selection() {\n      return new Selection([document.documentElement], 1);\n    }\n\n    Selection.prototype = _selection.prototype = {\n      select: selection_select,\n      selectAll: selection_selectAll,\n      filter: selection_filter,\n      data: selection_data,\n      enter: selection_enter,\n      exit: selection_exit,\n      order: selection_order,\n      sort: selection_sort,\n      call: selection_call,\n      nodes: selection_nodes,\n      node: selection_node,\n      size: selection_size,\n      empty: selection_empty,\n      each: selection_each,\n      attr: selection_attr,\n      style: selection_style,\n      property: selection_property,\n      class: selection_class,\n      classed: selection_class, // deprecated alias\n      text: selection_text,\n      html: selection_html,\n      append: selection_append,\n      insert: selection_append, // deprecated alias\n      remove: selection_remove,\n      datum: selection_datum,\n      event: selection_event,\n      on: selection_event, // deprecated alias\n      dispatch: selection_dispatch\n    };\n\n    function select(selector) {\n      return new Selection([typeof selector === \"string\" ? document.querySelector(selector) : selector], 1);\n    }\n\n    function selectAll(selector) {\n      return new Selection(typeof selector === \"string\" ? document.querySelectorAll(selector) : selector, 1);\n    }\n\n    const functor = function(x) {\n      return (typeof x === 'function')\n        ? x\n        : function() { return x; };\n    };\n\n    var d3_bundle = {\n      get event() { return _event; },\n      select: select,\n      selectAll: selectAll,\n      functor: functor,\n      scale: __scale,\n      format: ___format,\n      range: _range,\n      ascending: _ascending,\n      descending: descending,\n      sum: sum,\n      json: json,\n      xhr: xhr\n    };\n\n    return d3_bundle;\n\n}));","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// document.registerElement() polyfill\nrequire('document-register-element');\n\n// CustomEvent polyfill\nrequire('./compat/custom-event');\n\nrequire('./aria-accordion');\nrequire('./picc-meter');\nrequire('./picc-range');\nrequire('./picc-slider');\nrequire('./multi-select');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","(function(exports) {\n\n  var EXPANDED = 'aria-expanded';\n  var HIDDEN = 'aria-hidden';\n  var TOGGLE_EVENTS = ['click'];\n\n  exports.ARIAAccordion = document.registerElement('aria-accordion', {\n    prototype: Object.create(\n      HTMLElement.prototype,\n      {\n        attachedCallback: {value: function() {\n          var trigger = this.__trigger = getTrigger(this);\n          if (!trigger) return;\n\n          var content = this.__content = getContent(this, trigger);\n          if (!content) return;\n\n          // set role=\"button\" on the trigger element if it's not a <button>\n          if (trigger.nodeName !== 'BUTTON' && !trigger.hasAttribute('role')) {\n            trigger.setAttribute('role', 'button');\n          }\n\n          // reflect the aria-expanded attribute of the accordion to the\n          // trigger (button) if the attribute is unset\n          if (!trigger.hasAttribute(EXPANDED)) {\n            trigger.setAttribute(EXPANDED, getAriaBoolean(this, EXPANDED));\n          }\n\n          var toggle = this.toggle.bind(this);\n          var toggleAndCancel = this.__toggleAndCancel = function(e) {\n            toggle();\n            e.preventDefault();\n            return false;\n          };\n\n          TOGGLE_EVENTS.forEach(function(event) {\n            trigger.addEventListener(event, toggleAndCancel);\n          });\n\n          this.update();\n        }},\n\n        detachedCallback: {value: function() {\n          var trigger = this.__trigger;\n          if (!trigger) return;\n          var toggleAndCancel = this.__toggleAndCancel;\n          TOGGLE_EVENTS.forEach(function(event) {\n            trigger.removeEventListener(event, toggleAndCancel);\n          });\n        }},\n\n        update: {value: function() {\n          var expanded = this.expanded;\n          this.setAttribute(EXPANDED, expanded);\n          this.__trigger.setAttribute(EXPANDED, expanded);\n          this.__content.setAttribute(HIDDEN, !expanded);\n        }},\n\n        expanded: {\n          get: function() {\n            return getAriaBoolean(this.__trigger, EXPANDED);\n          },\n          set: function(value) {\n            value = !!value;\n            if (value !== this.expanded && this.__trigger) {\n              this.__trigger.setAttribute(EXPANDED, value);\n              this.update();\n              this.dispatchEvent(new CustomEvent(value ? 'open' : 'close'));\n            }\n          }\n        },\n\n        open: {value: function() {\n          this.expanded = true;\n        }},\n\n        close: {value: function() {\n          this.expanded = false;\n        }},\n\n        toggle: {value: function() {\n          this.expanded = !this.expanded;\n        }},\n\n        trigger: {\n          get: function() {\n            return this.__trigger;\n          }\n        },\n\n        content: {\n          get: function() {\n            return this.__content;\n          }\n        }\n      }\n    )\n  });\n\n  function getTrigger(root) {\n    var selector = root.getAttribute('trigger') || '[aria-controls]';\n    var trigger = root.querySelector(selector);\n    if (!trigger || !trigger.hasAttribute('aria-controls')) {\n      console.warn('no trigger found for selector: \"' + selector + '\"');\n      return;\n    }\n    return trigger;\n  }\n\n  function getContent(root, trigger) {\n    var contentId = trigger.getAttribute('aria-controls');\n    var content = document.getElementById(contentId);\n    if (!content) {\n      console.warn('no content element found with id: \"' + contentId + '\"');\n      return;\n    }\n    return content;\n  }\n\n  function getAriaBoolean(el, attr) {\n    return el && el.hasAttribute(attr) && el.getAttribute(attr) !== 'false';\n  }\n\n})(window);\n","var CLASS_PREFIX = 'picc-meter-';\n\nwindow.PICCMeter = document.registerElement('picc-meter', {\n  prototype: Object.create(\n    HTMLElement.prototype,\n    {\n\n      attachedCallback: {value: function() {\n        this.min = getAttr(this, 'min', 0);\n        this.max = getAttr(this, 'max', 1);\n        this.value = getAttr(this, 'value');\n        this.average = getAttr(this, 'average');\n\n        this.update();\n      }},\n\n      attributeChangedCallback: {value: function(attr, prev, value) {\n        // pass through attribute settings to\n        // properties for min, max, value an\n        // average\n        switch (attr) {\n          case 'min':\n          case 'max':\n          case 'value':\n          case 'average':\n            this[attr] = value;\n            return;\n        }\n      }},\n\n      update: {value: function() {\n        var min = this.min;\n        var max = this.max;\n        var value = this.value;\n        var average = this.average;\n\n        var bar = getBar(this);\n        var line = getLine(this);\n\n        if (typeof value !== 'number' || isNaN(value)) {\n          // console.log('bad value:', value);\n\n          // reset the bar\n          bar.style.setProperty('display', 'none');\n          bar.style.removeProperty('height');\n\n          // reset the line\n          line.style.setProperty('display', 'none');\n          line.style.removeProperty('bottom');\n\n          // classify and bail\n          classify(this, {\n            'no_data': true,\n            'above_average': false,\n            'below_average': false,\n            'about_average': false\n          });\n\n        } else {\n\n          classify(this, {no_data: false});\n\n          var scale = function(v) {\n            return (v - min) / (max - min);\n          };\n\n          var percent = function(v) {\n            return (scale(v) * 100).toFixed(1) + '%';\n          };\n\n          bar.style.removeProperty('display');\n          // prevent the bar from exceeding the height\n          bar.style.setProperty('height', percent(Math.min(value, max)));\n\n          if (this.hasAttribute('average-range')) {\n            var range = this.getAttribute('average-range');\n            var numbers = range.split('..').map(Number);\n            if (numbers.some(isNaN)) {\n              console.warn('invalid average-range:', range, numbers);\n              classify(this, {\n                'above_average': false,\n                'below_average': false,\n                'about_average': false\n              });\n            } else {\n              var lo = numbers[0];\n              var hi = numbers[1];\n              classify(this, {\n                'above_average': value > hi,\n                'below_average': value < lo,\n                'about_average': value >= lo && value <= hi\n              });\n            }\n          } else {\n            classify(this, {\n              'above_average': false,\n              'below_average': false,\n              'about_average': false\n            });\n          }\n\n          if (isNaN(average)) {\n            line.style.setProperty('display', 'none');\n          } else {\n            line.style.removeProperty('display');\n            line.style.setProperty('bottom', percent(average));\n          }\n\n        }\n\n        delete this.__timeout;\n\n        this.dispatchEvent(new CustomEvent('update'));\n      }},\n\n      min: {\n        get: function() {\n          return this.__min;\n        },\n        set: function(value) {\n          this.__min = number(value, 0);\n          deferUpdate(this);\n        }\n      },\n\n      max: {\n        get: function() {\n          return this.__max;\n        },\n        set: function(value) {\n          this.__max = number(value, 1);\n          deferUpdate(this);\n        }\n      },\n\n      value: {\n        get: function() {\n          return this.__value;\n        },\n        set: function(value) {\n          this.__value = number(value);\n          deferUpdate(this);\n        }\n      },\n\n      average: {\n        get: function() {\n          return this.__average;\n        },\n        set: function(value) {\n          this.__average = number(value);\n          deferUpdate(this);\n        }\n      }\n    }\n  )\n});\n\nfunction deferUpdate(meter, delay) {\n  if (!delay) delay = 50;\n  if (!meter.__timeout) {\n    meter.__timeout = setTimeout(function() {\n      delete meter.__timeout;\n      meter.update();\n    }, delay);\n  }\n}\n\nfunction getAttr(node, attr, fallback) {\n  return node.hasAttribute(attr)\n    ? node.getAttribute(attr) || fallback\n    : fallback;\n}\n\nfunction getBar(meter) {\n  var bar = meter.querySelector('.' + CLASS_PREFIX + 'bar');\n  if (!bar) {\n    bar = meter.appendChild(document.createElement('div'));\n    bar.className = CLASS_PREFIX + 'bar';\n  }\n  return bar;\n}\n\nfunction getLine(meter) {\n  var line = meter.querySelector('.' + CLASS_PREFIX + 'line');\n  if (!line) {\n    line = meter.appendChild(document.createElement('div'));\n    line.className = CLASS_PREFIX + 'line';\n    line.appendChild(document.createElement('span'))\n      .setAttribute('class', 'label');\n  }\n  return line;\n}\n\nfunction number(value, fallback) {\n  var num = String(value).length ? +value : NaN;\n  // console.log('number(', value, ') ->', num);\n  if (arguments.length < 2) fallback = NaN;\n  return isNaN(num) ? fallback : num;\n}\n\nfunction classify(el, classes) {\n  for (var klass in classes) {\n    el.classList[classes[klass] ? 'add' : 'remove'](klass);\n  }\n}\n","var ELEMENT_NAME = 'picc-range';\nvar CLASS_PREFIX = ELEMENT_NAME + '-';\n\nvar LABEL_TYPES = ['min', 'max', 'lower', 'middle', 'upper'];\n\nwindow.PICCRange = document.registerElement(ELEMENT_NAME, {\n  prototype: Object.create(\n    HTMLElement.prototype,\n    {\n\n      attachedCallback: {value: function() {\n        var bar = this.appendChild(document.createElement('div'));\n        bar.className = CLASS_PREFIX + 'bar';\n\n        LABEL_TYPES.forEach(function(type) {\n          var label = this.appendChild(document.createElement('span'));\n          label.className = [\n            CLASS_PREFIX + 'label',\n            [CLASS_PREFIX, 'label-', type].join('')\n          ].join(' ');\n          label.appendChild(document.createElement('span'));\n        }, this);\n\n        this.min = getAttr(this, 'min', 0);\n        this.max = getAttr(this, 'max', 1);\n        this.lower = getAttr(this, 'lower');\n        this.middle = getAttr(this, 'middle');\n        this.upper = getAttr(this, 'upper');\n\n        this.update();\n      }},\n\n      attributeChangedCallback: {value: function(attr, prev, value) {\n        // pass through attribute settings to properties for min,\n        // max, lower and upper values\n        switch (attr) {\n          case 'min':\n          case 'max':\n          case 'lower':\n          case 'middle':\n          case 'upper':\n            this[attr] = value;\n            return;\n        }\n      }},\n\n      update: {value: function() {\n        var min = this.min;\n        var max = this.max;\n\n        var scale = function(v) {\n          return (v - min) / (max - min);\n        };\n\n        var percent = function(v) {\n          return (scale(v) * 100).toFixed(1) + '%';\n        };\n\n        var bar = this.querySelector('.' + CLASS_PREFIX + 'bar');\n        bar.style.setProperty('left', percent(this.lower));\n        bar.style.setProperty('right', percent(this.min + this.max - this.upper));\n\n        LABEL_TYPES.forEach(function(type) {\n          var label = this.querySelector('.' + CLASS_PREFIX + 'label-' + type);\n          if (!label) return;\n\n          var value = this[type];\n          if (typeof value !== 'number' || isNaN(value)) {\n            label.style.setProperty('display', 'none');\n          } else {\n            label.style.removeProperty('display');\n            label.style.setProperty('left', percent(value));\n            var span = label.querySelector('span');\n            if (span) {\n              span.textContent = String(Math.round(value));\n            }\n          }\n        }, this);\n\n        delete this.__timeout;\n      }},\n\n      min: {\n        get: function() {\n          return this.__min;\n        },\n        set: function(value) {\n          this.__min = number(value, 0);\n          deferUpdate(this);\n        }\n      },\n\n      max: {\n        get: function() {\n          return this.__max;\n        },\n        set: function(value) {\n          this.__max = number(value);\n          deferUpdate(this);\n        }\n      },\n\n      lower: {\n        get: function() {\n          return this.__lower;\n        },\n        set: function(value) {\n          this.__lower = number(value);\n          deferUpdate(this);\n        }\n      },\n\n      middle: {\n        get: function() {\n          return this.__middle;\n        },\n        set: function(value) {\n          this.__middle = number(value);\n          deferUpdate(this);\n        }\n      },\n\n      upper: {\n        get: function() {\n          return this.__upper;\n        },\n        set: function(value) {\n          this.__upper = number(value);\n          deferUpdate(this);\n        }\n      }\n    }\n  )\n});\n\nfunction deferUpdate(meter, delay) {\n  if (!delay) delay = 50;\n  if (!meter.__timeout) {\n    meter.__timeout = setTimeout(function() {\n      delete meter.__timeout;\n      meter.update();\n    }, delay);\n  }\n}\n\nfunction getAttr(node, attr, fallback) {\n  return node.hasAttribute(attr)\n    ? node.getAttribute(attr) || fallback\n    : fallback;\n}\n\nfunction number(value, fallback) {\n  var num = +value;\n  return isNaN(value) ? fallback : num;\n}\n\nfunction classify(el, classes) {\n  for (var klass in classes) {\n    el.classList[classes[klass] ? 'add' : 'remove'](klass);\n  }\n}\n","(function(exports) {\n\n  var ITEM_CLASS = 'multi-select_item';\n  var d3 = require('../d3');\n\n  exports.MultiSelect = document.registerElement('multi-select', {\n    prototype: Object.create(\n      HTMLElement.prototype,\n      {\n        createdCallback: {value: function() {\n        }},\n\n        attachedCallback: {value: function() {\n          var select = this.querySelector('select');\n          if (!select) return console.error('no <select> found in <multi-select>!');\n\n          // console.warn('<multi-select>');\n\n          // remove the multiple attribute, the clone it\n          select.removeAttribute('multiple');\n          this.__select = select.cloneNode(true);\n          removeEmptyOption(this.__select);\n\n          // remove the name from the templated one\n          select.name = '';\n\n          // then set the multiple attribute\n          this.__select.setAttribute('multiple', 'multiple');\n\n          this.createTemplate();\n          this.insertBefore(this.__select, this.firstChild);\n\n          this.value = select.value;\n\n          // listen for change events, and hide it\n          this.__select.addEventListener('change', this.__onchange = onchange.bind(this));\n          this.__select.style.display = 'none';\n          this.__select.setAttribute('aria-hidden', 'true');\n\n          this.__pollID = setInterval(pollSourceSelect.bind(this), 200);\n        }},\n\n        attributeChangedCallback: {value: function(attr, oldValue, newValue) {\n        }},\n\n        detachedCallback: {value: function() {\n          this.__select.removeEventListener('change', this.__onchange);\n          clearTimeout(this.__pollID);\n        }},\n\n        update: {value: function() {\n          var root = d3.select(this);\n          var values = this.value;\n          // console.log('[update]');\n\n          var set = (function(v, focus) {\n            // console.log('[set] values:', v);\n            this.value = v;\n            if (focus) {\n              this.querySelector('.' + ITEM_CLASS + ':last-child select').focus();\n            }\n          }).bind(this);\n\n          var items = root\n            .selectAll('.' + ITEM_CLASS)\n            .data(values);\n\n          var template = this.__template;\n          items.exit().remove();\n          items.enter()\n            .append(function() {\n              return template.cloneNode(true);\n            })\n            .classed(ITEM_CLASS, true);\n\n          items.select('select')\n            .property('value', function(d) {\n              return nullish(d) ? '' : String(d);\n            })\n            .on('change', function(d, i) {\n              // console.log('[change %d]', i, this.value);\n              values[i] = this.value;\n              set(values);\n            });\n\n          /*\n          items.select('button')\n            .attr('disabled', 'disabled');\n          */\n\n          items.selectAll('button')\n            .on('click.cancel', function() {\n              d3.event.preventDefault();\n            });\n\n          items.each(function(value, i) {\n            var item = d3.select(this);\n            item.select('.button-remove')\n              .on('click', remove);\n            item.select('.button-add')\n              .on('click', add);\n            function remove() {\n              item.remove();\n              values.splice(i, 1);\n              // console.log('[remove %d]:', i, value);\n              // console.log('values:', values);\n              set(values);\n            }\n          })\n\n          function add() {\n            values.push(null);\n            set(values, true);\n          }\n        }},\n\n        createTemplate: {value: function() {\n          if (!this.__template) {\n            var html = this.innerHTML;\n            var template = this.__template = document.createElement('div');\n            template.className = ITEM_CLASS;\n            template.innerHTML = html;\n            while (this.firstChild) {\n              this.removeChild(this.firstChild);\n            }\n            return template;\n          }\n          return this.__template;\n        }},\n\n        value: {\n          get: function() {\n            return Array.isArray(this.__value)\n              ? this.__value.slice()\n              : this.__value || [null];\n          },\n          set: function(value) {\n            // console.log('[set values]:', value);\n            if (compare(this.__value, value)) {\n              // console.warn('no change');\n              return;\n            }\n\n            this.__value = parseValues(value);\n\n            this.__updating = true;\n            this.update();\n            setValue(this.__select, this.__value);\n            this.__updating = false;\n          }\n        }\n      }\n    )\n  });\n\n  function onchange(e) {\n    if (this.__updating) return;\n    // console.log('source select change:', e.target);\n    this.value = getValue(e.target);\n  }\n\n  function getValue(multiselect) {\n    return [].filter.call(\n      multiselect.options, function(option) {\n        return option.selected;\n      })\n      .map(function(option) {\n        return option.value;\n      })\n  }\n\n  function setValue(multiselect, values) {\n    var changed = false;\n    var map = values.reduce(function(map, d) {\n      return map[d] = true, map;\n    }, {});\n\n    [].forEach.call(multiselect.options, function(option) {\n      var selected = !!map[option.value];\n      if (option.selected !== selected) {\n        option.selected = selected;\n        changed = true;\n      }\n    });\n    if (changed) {\n      multiselect.dispatchEvent(new CustomEvent('change', {\n        bubbles: true\n      }));\n    }\n  }\n\n  function pollSourceSelect() {\n    var value = getValue(this.__select);\n    if (this.__value.length > value.length) {\n      value.push(null);\n    }\n    if (!compare(this.__value, value)) {\n      this.value = value;\n    }\n  }\n\n  function removeEmptyOption(select) {\n    if (!select.options[0].value) {\n      select.removeChild(select.options[0]);\n    }\n  }\n\n  function parseValues(d) {\n    return Array.isArray(d)\n      ? d\n      : d ? String(d).split(/,/g) : [d];\n  }\n\n  function nullish(d) {\n    return d === null || d === undefined;\n  }\n\n  // Array comparison\n  function compare(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n      for (var i = 0, len = a.length; i < len; i++) {\n        if (b.indexOf(a[i]) === -1) return false;\n      }\n    }\n    return String(a) === String(b);\n  }\n\n})(this);\n","var ELEMENT_NAME = 'picc-slider';\nvar CLASS_PREFIX = ELEMENT_NAME + '-';\n\nwindow.PICCSlider = registerElement(ELEMENT_NAME, {\n  createdCallback: function() {\n    this.__range = createRange.call(this);\n    this.__mark = createMark.call(this, 'average');\n    this.__left = createHandle.call(this, 'min');\n    this.__right = createHandle.call(this, 'max');\n\n    this.setAttribute('role', 'slider');\n    this.min = getAttr.call(this, 'min', 0);\n    this.max = getAttr.call(this, 'max', 100);\n    this.lower = getAttr.call(this, 'lower', this.min);\n    this.upper = getAttr.call(this, 'upper', this.max);\n    this.step = getAttr.call(this, 'step', 1);\n    this.average = getAttr.call(this, 'average');\n    this.format = getAttr.call(this, 'format');\n  },\n\n  attachedCallback: function() {\n    this.addEventListener('click', click);\n    this.addEventListener('mousedown', engage);\n    this.addEventListener('touchstart', engage);\n    // this.addEventListener('focus', engage, true);\n    this.update();\n  },\n\n  detachedCallback: function() {\n    this.removeEventListener('click', click);\n    this.removeEventListener('mousedown', enagage);\n    this.removeEventListener('touchstart', enagage);\n    // this.removeEventListener('focus', engage, true);\n  },\n\n  attributeChangedCallback: function(attr, prev, value) {\n    switch (attr) {\n      case 'min':\n      case 'max':\n      case 'value':\n      case 'step':\n      case 'average':\n      case 'format':\n        // console.log('picc-slider attr: ', attr, ' = ', value);\n        this[attr] = value;\n        this.update();\n        break;\n    }\n  },\n\n  update: function() {\n    var min = this.min;\n    var max = this.max;\n\n    // enforce lower/upper crossing\n    if (this.__dragging === this.__left && this.__lower >= this.__upper) {\n      this.__lower = this.__upper - this.step;\n    } else if (this.__dragging === this.__right && this.__upper <= this.__lower) {\n      this.__upper = this.__lower + this.step;\n    }\n\n    // enforce min/max bounds\n    this.__lower = Math.min(Math.max(this.__lower, min), max);\n    this.__upper = Math.max(Math.min(this.__upper, max), min);\n\n    var lower = this.lower;\n    var upper = this.upper;\n    var average = this.average;\n\n    var x = function(value) {\n      return 100 * (value - min) / (max - min);\n    };\n\n    var left = percent(x(lower));\n    var right = percent(x(upper));\n\n    this.__left.style.setProperty('left', left);\n    this.__right.style.setProperty('left', right);\n\n    this.__range.style.setProperty('left', left);\n    this.__range.style.setProperty('right', percent(x(max - upper)));\n\n    var mark = this.__mark;\n\n    var labels = [\n      {el: getLabel(this.__left), value: lower},\n      {el: getLabel(this.__right), value: upper},\n      {el: getLabel(mark), value: average},\n    ];\n\n    var format = function() { return ''; };\n    switch (this.format) {\n      case '%':\n        format = formatPercent;\n        break;\n      case '$':\n        format = formatDollars;\n        break;\n    }\n\n    var nudgeThreshold = 12;\n    var outerRect = this.getBoundingClientRect();\n    var leftEdge = outerRect.left + nudgeThreshold;\n    var rightEdge = outerRect.right;\n    labels.forEach(function(d, i) {\n      var label = d.el;\n      if (!label) return console.warn('no label:', i);\n      label.textContent = format(d.value);\n\n      /*\n      var offset = 0;\n      var bump = false;\n      label.style.removeProperty('left');\n      label.style.removeProperty('right');\n\n      var rect = label.getBoundingClientRect();\n      if (rect.left < leftEdge) {\n        bump = 'left';\n        offset = leftEdge - rect.left - rect.width / 2;\n        // console.log('bump left:', rect.left, leftEdge);\n        label.style.setProperty('left', offset + 'px');\n        label.style.removeProperty('right');\n      } else if (rect.right > rightEdge) {\n        bump = 'right';\n        offset = rect.right - rightEdge - label.parentNode.getBoundingClientRect().width;\n        // console.log('bump right:', rect.right, rightEdge);\n        label.style.setProperty('left', 'auto');\n        label.style.setProperty('right', offset + 'px');\n      }\n\n      label.classList.toggle('bump-left', bump === 'left');\n      label.classList.toggle('bump-right', bump === 'right');\n      */\n    });\n\n    if (isNaN(average)) {\n      mark.style.setProperty('display', 'none');\n    } else {\n      var p = percent(x(average));\n      // console.log('mark:', average, p);\n      mark.style.setProperty('left', p);\n      mark.style.removeProperty('display');\n    }\n\n    this.setAttribute('aria-valuemin', lower);\n    this.setAttribute('aria-valuemax', upper);\n\n  },\n\n  // clamp to min and max, round if snap === true\n  value: property('value', function(v) {\n    v = clamp(+v, this.min, this.max);\n    if (this.step) v = roundTo(v, this.step);\n    return v;\n  }),\n\n  // parse all of these as numbers\n  min:    property('min', Number),\n  max:    property('max', Number),\n  lower:  property('lower', Number),\n  upper:  property('upper', Number),\n  step:   property('step', Number),\n  average: property('average', Number),\n\n  format: property('format', String)\n});\n\nfunction click(e) {\n  // ignore right-clicks\n  if (e.button === 2) return;\n  // console.info('* click');\n  this.__dragging = getClosestHandle.call(this, e);\n  move.call(this, e);\n  this.__dragging = null;\n  this.dispatchEvent(new CustomEvent('change'));\n}\n\nfunction engage(e) {\n  // ignore right-clicks\n  if (e.button === 2) {\n    e.preventDefault();\n    return;\n  }\n  // console.info('+ engage', e.type);\n\n  this.__dragging = getClosestHandle.call(this, e);\n  this.__dragging.setAttribute('aria-grabbed', true);\n\n  if (e.type === 'focus') {\n    window.addEventListener('keyup', getListener(keypress, this));\n    this.addEventListener('blur', release, true);\n  } else {\n    window.addEventListener('mousemove', getListener(move, this));\n    window.addEventListener('mouseup', getListener(release, this));\n    window.addEventListener('touchmove', getListener(move, this));\n    window.addEventListener('touchend', getListener(release, this));\n  }\n}\n\nfunction move(e) {\n  if (!this.__dragging) {\n    console.warn('move() while not dragging');\n    return;\n  }\n\n  // console.info('* move', e.type);\n\n  var handle = this.__dragging;\n  var x = getMouseX.call(this, e);\n\n  var property = handle === this.__left ? 'lower' : 'upper';\n\n  var width = this.getBoundingClientRect().width;\n  x = Math.max(0, Math.min(x, width));\n\n  var value = this.min + (x / width) * (this.max - this.min);\n  if (this.step) value = roundTo(value, this.step);\n  this[property] = value;\n  this.update();\n\n  this.setAttribute('aria-valuenow', value);\n\n  var event = new CustomEvent('drag');\n  event.property = property;\n  event.value = value;\n  this.dispatchEvent(event);\n\n  e.preventDefault();\n\n  try {\n    window.getSelection().removeAllRanges();\n  } catch (err) {\n    console.warn('unable to clear ranges:', err);\n  }\n  return;\n}\n\nfunction release(e) {\n  // console.info('- release', e.type);\n\n  if (this.__dragging) {\n    this.__dragging.removeAttribute('aria-grabbed');\n  } else {\n    console.warn('release() while not dragging');\n  }\n\n  this.__dragging = false;\n  this.removeAttribute('aria-valuenow');\n\n  if (e.type === 'blur') {\n    window.removeEventListener('keyup', getListener(keypress, this));\n    this.removeEventListener('blur', release, true);\n  } else {\n    window.removeEventListener('mousemove', getListener(move, this));\n    window.removeEventListener('mouseup', getListener(release, this));\n    window.removeEventListener('touchmove', getListener(move, this));\n    window.removeEventListener('touchend', getListener(release, this));\n  }\n\n  this.dispatchEvent(new CustomEvent('change'));\n\n  e.preventDefault();\n  return;\n}\n\nfunction keypress(e) {\n  // console.info('* keypress:', e.keyCode);\n  switch (e.keyCode) {\n    case 37: // left\n      nudge.call(this, -1);\n      break;\n    case 39: // right\n      nudge.call(this, +1);\n      break;\n\n    case 36: // end\n    case 35: // home\n      switch (this.__dragging) {\n        case this.__left:\n          this.lower = this.min;\n          break;\n        case this.__right:\n          this.upper = this.max;\n          break;\n      }\n      break;\n  }\n}\n\nfunction getListener(fn, obj) {\n  var name = fn.name || fn.toString().match(/function (\\w+)/)[1];\n  var key = '__listener_' + name;\n  // console.log('listener:', name);\n  return obj[key] || (obj[key] = fn.bind(obj));\n}\n\nfunction registerElement(name, proto, parent) {\n  if (!parent) parent = HTMLElement;\n  for (var key in proto) {\n    if (typeof proto[key] === 'function') {\n      proto[key] = {value: proto[key]};\n      if (key.indexOf('__') === 0) {\n        proto[key].enumerable = false;\n      }\n    }\n  }\n  return document.registerElement(name, {\n    prototype: Object.create(\n      parent.prototype,\n      proto\n    )\n  });\n}\n\nfunction getAttr(name, fallback) {\n  return this.hasAttribute(name)\n    ? this.getAttribute(name)\n    : fallback;\n}\n\nfunction property(name, parse) {\n  var key = '__' + name;\n  return {\n    get: function propGetter() {\n      return this[key];\n    },\n    set: function propSetter(value) {\n      if (parse) value = parse.call(this, value, name);\n      if (value !== this[key]) {\n        this[key] = value;\n        this.update();\n      }\n    }\n  };\n}\n\nfunction createHandle(which) {\n  var div = document.createElement('div');\n  div.classList.add(CLASS_PREFIX + 'handle');\n  div.classList.add(CLASS_PREFIX + 'handle_' + which);\n  div.setAttribute('tabindex', 0);\n  div.appendChild(createLabel());\n  return this.appendChild(div);\n}\n\nfunction createRange() {\n  var div = document.createElement('div');\n  div.className = CLASS_PREFIX + 'range';\n  return this.appendChild(div);\n}\n\nfunction createMark(klass) {\n  var div = document.createElement('div');\n  div.className = CLASS_PREFIX + klass;\n  div.appendChild(createLabel());\n  return this.appendChild(div);\n}\n\nfunction createLabel() {\n  var label = document.createElement('span');\n  label.className = CLASS_PREFIX + 'label';\n  return label;\n}\n\nfunction getLabel(parent) {\n  return parent.querySelector('.' + CLASS_PREFIX + 'label');\n}\n\nfunction getClosestHandle(e) {\n  switch (e.target) {\n    case this.__left: return this.__left;\n    case this.__right: return this.__right;\n  }\n\n  var x = getMouseX.call(this, e);\n  var left = this.__left.getBoundingClientRect().left;\n  var right = this.__right.getBoundingClientRect().left;\n  // console.info('x: %d, left: %d, right: %d', x, left, right);\n  var dl = Math.abs(x - left);\n  var dr = Math.abs(x - right);\n  return dl < dr ? this.__left : this.__right;\n}\n\nfunction getMouseX(e) {\n  var rect = this.getBoundingClientRect();\n  var width = rect.width;\n  var x = (e.touches && e.touches.length)\n    ? e.touches[0].clientX\n    : e.clientX;\n  return x - rect.left;\n}\n\nfunction nudge(multiplier) {\n  var handle = this.__dragging;\n  if (!handle) return;\n\n  var property = handle === this.__left ? 'lower' : 'upper';\n  var step = this.step || .1;\n  this[property] += step * multiplier;\n}\n\nfunction clamp(x, min, max) {\n  if (x < min) return min;\n  else if (x > max) return max;\n  return x;\n}\n\nfunction roundTo(value, step) {\n  return Math.round(value / step) * step;\n}\n\nfunction percent(value) {\n  return value.toFixed(2) + '%';\n}\n\nfunction formatDollars(n) {\n  if (n >= 1000) {\n    return '$' + roundFloat(n / 1000) + 'K';\n  }\n  return '$' + Math.round(n);\n}\n\nfunction formatPercent(n) {\n  return Math.round(n * 100) + '%';\n}\n\nfunction roundFloat(n) {\n  return n.toFixed(1).replace(/\\.0$/, '');\n}\n","(function() {\n\n  try {\n    new CustomEvent('foo');\n  } catch (err) {\n\n    var createEvent = document.createCustomEvent || document.createEvent;\n\n    window.CustomEvent = function(event, params) {\n      var evt;\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n      evt = createEvent.call(document, 'CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      return evt;\n    };\n\n    window.CustomEvent.prototype = window.Event.prototype;\n  }\n\n})(this);\n","/*\n * aight <http://github.com/shawnbot/aight/>\n * is a collection of JavaScript shims and polyfills that make IE8 (and other\n * legacy browsers) behave a lot more like modern ones.\n */\n;(function(aight) {\n\n  aight.version = \"2.1.1\";\n\n  var nav = null,\n      version = 0,\n      ie = false;\n  if (typeof navigator === \"object\") {\n    nav = navigator.appName;\n    version = navigator.appVersion;\n    ie = (nav === \"Microsoft Internet Explorer\");\n    if (ie) {\n      var match = navigator.userAgent.match(/MSIE ([0-9]{1,}[\\.0-9]{0,})/);\n      version = match ? parseFloat(match[1]) : 0;\n    }\n  }\n\n  aight.browser = {\n    name: nav,\n    ie:   ie ? version : false,\n    ie9:  ie && (version >= 9 && version < 10),\n    ie8:  ie && (version >= 8 && version < 9),\n    ie7:  ie && (version >= 7 && version < 8),\n    ie6:  ie && (version >= 6 && version < 7)\n  };\n\n  if (typeof window !== \"object\") return;\n\n  window.aight = aight;\n\n  function aliasInterface(ns, expectedName, nonStandardName) {\n    if (ns[nonStandardName] && !ns[expectedName]) {\n      ns[expectedName] = ns[nonStandardName];\n      return true;\n    }\n    return false;\n  }\n\n  aliasInterface(window, \"HTMLCommentElement\", \"Comment\");\n  aliasInterface(window, \"HTMLDocument\", \"Document\");\nif (aight.browser.ie < 9) {\n\n  /*! (C) WebReflection Mit Style License */\n  if (document.createEvent) return;\n  var\n    DUNNOABOUTDOMLOADED = true,\n    READYEVENTDISPATCHED = false,\n    ONREADYSTATECHANGE = 'onreadystatechange',\n    DOMCONTENTLOADED = 'DOMContentLoaded',\n    SECRET = '__IE8__' + Math.random(),\n    // Object = window.Object,\n    defineProperty = Object.defineProperty ||\n    // just in case ...\n    function (object, property, descriptor) {\n      object[property] = descriptor.value;\n    },\n    defineProperties = Object.defineProperties ||\n    // IE8 implemented defineProperty but not the plural...\n    function (object, descriptors) {\n      for(var key in descriptors) {\n        if (hasOwnProperty.call(descriptors, key)) {\n          try {\n            defineProperty(object, key, descriptors[key]);\n          } catch(o_O) {\n            if (window.console) {\n              console.log(key + ' failed on object:', object, o_O.message);\n            }\n          }\n        }\n      }\n    },\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor,\n    hasOwnProperty = Object.prototype.hasOwnProperty,\n    // here IE7 will break like a charm\n    ElementPrototype = window.Element.prototype,\n    TextPrototype = window.Text.prototype,\n    // none of above native constructors exist/are exposed\n    possiblyNativeEvent = /^[a-z]+$/,\n    // ^ actually could probably be just /^[a-z]+$/\n    readyStateOK = /loaded|complete/,\n    types = {},\n    div = document.createElement('div')\n  ;\n\n  function commonEventLoop(currentTarget, e, $handlers, synthetic) {\n    for(var\n      continuePropagation,\n      handlers = $handlers.slice(),\n      evt = enrich(e, currentTarget),\n      i = 0, length = handlers.length; i < length; i++\n    ) {\n      handler = handlers[i];\n      if (\n        typeof handler === 'object' &&\n        typeof handler.handleEvent === 'function'\n      ) {\n        handler.handleEvent(evt);\n      } else {\n        handler.call(currentTarget, evt);\n      }\n      if (evt.stoppedImmediatePropagation) break;\n    }\n    continuePropagation = !evt.stoppedPropagation;\n    /*\n    if (continuePropagation && !synthetic && !live(currentTarget)) {\n      evt.cancelBubble = true;\n    }\n    */\n    return (\n      synthetic &&\n      continuePropagation &&\n      currentTarget.parentNode\n    ) ?\n      currentTarget.parentNode.dispatchEvent(evt) :\n      !evt.defaultPrevented\n    ;\n  }\n\n  function commonDescriptor(get, set) {\n    return {\n      // if you try with enumerable: true\n      // IE8 will miserably fail\n      configurable: true,\n      get: get,\n      set: set\n    };\n  }\n\n  function commonTextContent(protoDest, protoSource, property) {\n    var descriptor = getOwnPropertyDescriptor(\n      protoSource || protoDest, property\n    );\n    defineProperty(\n      protoDest,\n      'textContent',\n      commonDescriptor(\n        function () {\n          return descriptor.get.call(this);\n        },\n        function (textContent) {\n          descriptor.set.call(this, textContent);\n        }\n      )\n    );\n  }\n\n  function enrich(e, currentTarget) {\n    e.currentTarget = currentTarget;\n    e.eventPhase = (\n      // AT_TARGET : BUBBLING_PHASE\n      e.target === e.currentTarget ? 2 : 3\n    );\n    return e;\n  }\n\n  function find(array, value) {\n    var i = array.length;\n    while(i-- && array[i] !== value);\n    return i;\n  }\n\n  function getTextContent() {\n    if (this.tagName === 'BR') return '\\n';\n    var\n      textNode = this.firstChild,\n      arrayContent = []\n    ;\n    while(textNode) {\n      if (textNode.nodeType !== 8 && textNode.nodeType !== 7) {\n        arrayContent.push(textNode.textContent);\n      }\n      textNode = textNode.nextSibling;\n    }\n    return arrayContent.join('');\n  }\n\n  function live(self) {\n    return self.nodeType !== 9 && document.documentElement.contains(self);\n  }\n\n  function onReadyState(e) {\n    if (!READYEVENTDISPATCHED && readyStateOK.test(\n      document.readyState\n    )) {\n      READYEVENTDISPATCHED = !READYEVENTDISPATCHED;\n      document.detachEvent(ONREADYSTATECHANGE, onReadyState);\n      e = document.createEvent('Event');\n      e.initEvent(DOMCONTENTLOADED, true, true);\n      document.dispatchEvent(e);\n    }\n  }\n\n  function setTextContent(textContent) {\n    var node;\n    while ((node = this.lastChild)) {\n      this.removeChild(node);\n    }\n    if (textContent != null) {\n      this.appendChild(document.createTextNode(textContent));\n    }\n  }\n\n  function verify(self, e) {\n    if (!e) {\n      e = window.event;\n    }\n    if (!e.target) {\n      e.target = e.srcElement || e.fromElement || document;\n    }\n    if (!e.timeStamp) {\n      e.timeStamp = (new Date).getTime();\n    }\n    return e;\n  }\n\n  // normalized textContent for:\n  //  comment, script, style, text, title\n  commonTextContent(\n    window.HTMLCommentElement.prototype,\n    ElementPrototype,\n    'nodeValue'\n  );\n\n  commonTextContent(\n    window.HTMLScriptElement.prototype,\n    null,\n    'text'\n  );\n\n  commonTextContent(\n    TextPrototype,\n    null,\n    'nodeValue'\n  );\n\n  commonTextContent(\n    window.HTMLTitleElement.prototype,\n    null,\n    'text'\n  );\n\n  defineProperty(\n    window.HTMLStyleElement.prototype,\n    'textContent',\n    (function(descriptor){\n      return commonDescriptor(\n        function () {\n          return descriptor.get.call(this.styleSheet);\n        },\n        function (textContent) {\n          descriptor.set.call(this.styleSheet, textContent);\n        }\n      );\n    }(getOwnPropertyDescriptor(window.CSSStyleSheet.prototype, 'cssText')))\n  );\n\n  defineProperties(\n    ElementPrototype,\n    {\n      // bonus\n      textContent: {\n        get: getTextContent,\n        set: setTextContent\n      },\n      // http://www.w3.org/TR/ElementTraversal/#interface-elementTraversal\n      firstElementChild: {\n        get: function () {\n          for(var\n            childNodes = this.childNodes || [],\n            i = 0, length = childNodes.length;\n            i < length; i++\n          ) {\n            if (childNodes[i].nodeType == 1) return childNodes[i];\n          }\n        }\n      },\n      lastElementChild: {\n        get: function () {\n          for(var\n            childNodes = this.childNodes || [],\n            i = childNodes.length;\n            i--;\n          ) {\n            if (childNodes[i].nodeType == 1) return childNodes[i];\n          }\n        }\n      },\n      previousElementSibling: {\n        get: function () {\n          var previousElementSibling = this.previousSibling;\n          while (previousElementSibling && previousElementSibling.nodeType != 1) {\n            previousElementSibling = previousElementSibling.previousSibling;\n          }\n          return previousElementSibling;\n        }\n      },\n      nextElementSibling: {\n        get: function () {\n          var nextElementSibling = this.nextSibling;\n          while (nextElementSibling && nextElementSibling.nodeType != 1) {\n            nextElementSibling = nextElementSibling.nextSibling;\n          }\n          return nextElementSibling;\n        }\n      },\n      childElementCount: {\n        get: function () {\n          for(var\n            count = 0,\n            childNodes = this.childNodes || [],\n            i = childNodes.length; i--; count += childNodes[i].nodeType == 1\n          );\n          return count;\n        }\n      },\n      /*\n      // children would be an override\n      // IE8 already supports them but with comments too\n      // not just nodeType 1\n      children: {\n        get: function () {\n          for(var\n            children = [],\n            childNodes = this.childNodes || [],\n            i = 0, length = childNodes.length;\n            i < length; i++\n          ) {\n            if (childNodes[i].nodeType == 1) {\n              children.push(childNodes[i]);\n            }\n          }\n          return children;\n        }\n      },\n      */\n      // DOM Level 2 EventTarget methods and events\n      addEventListener: {value: function (type, handler, capture) {\n        var\n          self = this,\n          ontype = 'on' + type,\n          temple =  self[SECRET] ||\n                      defineProperty(\n                        self, SECRET, {value: {}}\n                      )[SECRET],\n          currentType = temple[ontype] || (temple[ontype] = {}),\n          handlers  = currentType.h || (currentType.h = []),\n          e\n        ;\n        if (!hasOwnProperty.call(currentType, 'w')) {\n          currentType.w = function (e) {\n            // e[SECRET] is a silent notification needed to avoid\n            // fired events during live test\n            return e[SECRET] || commonEventLoop(self, verify(self, e), handlers, false);\n          };\n          // if not detected yet\n          if (!hasOwnProperty.call(types, ontype)) {\n            // and potentially a native event\n            if(possiblyNativeEvent.test(type)) {\n              // do this heavy thing\n              try {\n                // TODO:  should I consider tagName too so that\n                //        INPUT[ontype] could be different ?\n                e = document.createEventObject();\n                // do not clone ever a node\n                // specially a document one ...\n                // use the secret to ignore them all\n                e[SECRET] = true;\n                // document a part if a node has never been\n                // added to any other node, fireEvent might\n                // behave very weirdly (read: trigger unspecified errors)\n                if (self.nodeType != 9 && self.parentNode == null) {\n                  div.appendChild(self);\n                }\n                self.fireEvent(ontype, e);\n                types[ontype] = true;\n              } catch(e) {\n                types[ontype] = false;\n                while (div.hasChildNodes()) {\n                  div.removeChild(div.firstChild);\n                }\n              }\n            } else {\n              // no need to bother since\n              // 'x-event' ain't native for sure\n              types[ontype] = false;\n            }\n          }\n          if (currentType.n = types[ontype]) {\n            self.attachEvent(ontype, currentType.w);\n          }\n        }\n        if (find(handlers, handler) < 0) {\n          handlers[capture ? 'unshift' : 'push'](handler);\n        }\n      }},\n      dispatchEvent: {value: function (e) {\n        var\n          self = this,\n          ontype = 'on' + e.type,\n          temple =  self[SECRET],\n          currentType = temple && temple[ontype],\n          valid = !!currentType,\n          parentNode\n        ;\n        if (!e.target) e.target = self;\n        return (valid ? (\n          currentType.n /* && live(self) */ ?\n            self.fireEvent(ontype, e) :\n            commonEventLoop(\n              self,\n              e,\n              currentType.h,\n              true\n            )\n        ) : (\n          (parentNode = self.parentNode) /* && live(self) */ ?\n            parentNode.dispatchEvent(e) :\n            true\n        )), !e.defaultPrevented;\n      }},\n      removeEventListener: {value: function (type, handler, capture) {\n        var\n          self = this,\n          ontype = 'on' + type,\n          temple =  self[SECRET],\n          currentType = temple && temple[ontype],\n          handlers = currentType && currentType.h,\n          i = handlers ? find(handlers, handler) : -1\n        ;\n        if (-1 < i) handlers.splice(i, 1);\n      }}\n    }\n  );\n\n  // EventTarget methods for Text nodes too\n  defineProperties(TextPrototype, {\n    addEventListener: {value: ElementPrototype.addEventListener},\n    dispatchEvent: {value: ElementPrototype.dispatchEvent},\n    removeEventListener: {value: ElementPrototype.removeEventListener}\n  });\n\n  defineProperties(\n    window.XMLHttpRequest.prototype,\n    {\n      addEventListener: {value: function (type, handler, capture) {\n        var\n          self = this,\n          ontype = 'on' + type,\n          temple =  self[SECRET] ||\n                      defineProperty(\n                        self, SECRET, {value: {}}\n                      )[SECRET],\n          currentType = temple[ontype] || (temple[ontype] = {}),\n          handlers  = currentType.h || (currentType.h = [])\n        ;\n        if (find(handlers, handler) < 0) {\n          if (!self[ontype]) {\n            self[ontype] = function () {\n              var e = document.createEvent('Event');\n              e.initEvent(type, true, true);\n              self.dispatchEvent(e);\n            };\n          }\n          handlers[capture ? 'unshift' : 'push'](handler);\n        }\n      }},\n      dispatchEvent: {value: function (e) {\n        var\n          self = this,\n          ontype = 'on' + e.type,\n          temple =  self[SECRET],\n          currentType = temple && temple[ontype],\n          valid = !!currentType\n        ;\n        return valid && (\n          currentType.n /* && live(self) */ ?\n            self.fireEvent(ontype, e) :\n            commonEventLoop(\n              self,\n              e,\n              currentType.h,\n              true\n            )\n        );\n      }},\n      removeEventListener: {value: ElementPrototype.removeEventListener}\n    }\n  );\n\n  defineProperties(\n    window.Event.prototype,\n    {\n      bubbles: {value: true, writable: true},\n      cancelable: {value: true, writable: true},\n      preventDefault: {value: function () {\n        if (this.cancelable) {\n          this.defaultPrevented = true;\n          this.returnValue = false;\n        }\n      }},\n      stopPropagation: {value: function () {\n        this.stoppedPropagation = true;\n        this.cancelBubble = true;\n      }},\n      stopImmediatePropagation: {value: function () {\n        this.stoppedImmediatePropagation = true;\n        this.stopPropagation();\n      }},\n      initEvent: {value: function(type, bubbles, cancelable){\n        this.type = type;\n        this.bubbles = !!bubbles;\n        this.cancelable = !!cancelable;\n        if (!this.bubbles) {\n          this.stopPropagation();\n        }\n      }}\n    }\n  );\n\n  defineProperties(\n    window.HTMLDocument.prototype,\n    {\n      textContent: {\n        get: function () {\n          return this.nodeType === 11 ? getTextContent.call(this) : null;\n        },\n        set: function (textContent) {\n          if (this.nodeType === 11) {\n            setTextContent.call(this, textContent);\n          }\n        }\n      },\n      addEventListener: {value: function(type, handler, capture) {\n        var self = this;\n        ElementPrototype.addEventListener.call(self, type, handler, capture);\n        // NOTE:  it won't fire if already loaded, this is NOT a $.ready() shim!\n        //        this behaves just like standard browsers\n        if (\n          DUNNOABOUTDOMLOADED &&\n          type === DOMCONTENTLOADED &&\n          !readyStateOK.test(\n            self.readyState\n          )\n        ) {\n          DUNNOABOUTDOMLOADED = false;\n          self.attachEvent(ONREADYSTATECHANGE, onReadyState);\n          if (window == top) {\n            (function gonna(e){try{\n              self.documentElement.doScroll('left');\n              onReadyState();\n              }catch(o_O){\n              setTimeout(gonna, 50);\n            }}());\n          }\n        }\n      }},\n      dispatchEvent: {value: ElementPrototype.dispatchEvent},\n      removeEventListener: {value: ElementPrototype.removeEventListener},\n      createEvent: {value: function(Class){\n        var e;\n        if (Class !== 'Event') throw new Error('unsupported ' + Class);\n        e = document.createEventObject();\n        e.timeStamp = (new Date).getTime();\n        return e;\n      }}\n    }\n  );\n\n  defineProperties(\n    window.Window.prototype,\n    {\n      getComputedStyle: {value: function(){\n\n        var // partially grabbed from jQuery and Dean's hack\n          notpixel = /^(?:[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|))(?!px)[a-z%]+$/,\n          position = /^(top|right|bottom|left)$/,\n          re = /\\-([a-z])/g,\n          place = function (match, $1) {\n            return $1.toUpperCase();\n          }\n        ;\n\n        function ComputedStyle(_) {\n          this._ = _;\n        }\n\n        ComputedStyle.prototype.getPropertyValue = function (name) {\n          var\n            el = this._,\n            style = el.style,\n            currentStyle = el.currentStyle,\n            runtimeStyle = el.runtimeStyle,\n            result,\n            left,\n            rtLeft\n          ;\n          name = (name === 'float' ? 'style-float' : name).replace(re, place);\n          result = currentStyle ? currentStyle[name] : style[name];\n          if (notpixel.test(result) && !position.test(name)) {\n            left = style.left;\n            rtLeft = runtimeStyle && runtimeStyle.left;\n            if (rtLeft) {\n              runtimeStyle.left = currentStyle.left;\n            }\n            style.left = name === 'fontSize' ? '1em' : result;\n            result = style.pixelLeft + 'px';\n            style.left = left;\n            if (rtLeft) {\n              runtimeStyle.left = rtLeft;\n            }\n          }\n          return result == null ?\n            result : ((result + '') || 'auto');\n        };\n\n        // unsupported\n        function PseudoComputedStyle() {}\n        PseudoComputedStyle.prototype.getPropertyValue = function () {\n          return null;\n        };\n\n        return function (el, pseudo) {\n          return pseudo ?\n            new PseudoComputedStyle(el) :\n            new ComputedStyle(el);\n        };\n\n      }()},\n\n      addEventListener: {value: function (type, handler, capture) {\n        var\n          self = window,\n          ontype = 'on' + type,\n          handlers\n        ;\n        if (!self[ontype]) {\n          self[ontype] = function(e) {\n            return commonEventLoop(self, verify(self, e), handlers, false);\n          };\n        }\n        handlers = self[ontype][SECRET] || (\n          self[ontype][SECRET] = []\n        );\n        if (find(handlers, handler) < 0) {\n          handlers[capture ? 'unshift' : 'push'](handler);\n        }\n      }},\n      dispatchEvent: {value: function (e) {\n        var method = window['on' + e.type];\n        return method ? method.call(window, e) !== false && !e.defaultPrevented : true;\n      }},\n      removeEventListener: {value: function (type, handler, capture) {\n        var\n          ontype = 'on' + type,\n          handlers = (window[ontype] || Object)[SECRET],\n          i = handlers ? find(handlers, handler) : -1\n         ;\n        if (-1 < i) handlers.splice(i, 1);\n      }}\n    }\n  );\n} // if (aight.browser.ie < 9)\n(function(window){'use strict';\n  /* jshint loopfunc: true, noempty: false*/\n  // http://www.w3.org/TR/dom/#element\n  function textNodeIfString(node) {\n    return typeof node === 'string' ? window.document.createTextNode(node) : node;\n  }\n  function mutationMacro(nodes) {\n    if (nodes.length === 1) {\n      return textNodeIfString(nodes[0]);\n    }\n    for (var\n      fragment = window.document.createDocumentFragment(),\n      list = slice.call(nodes),\n      i = 0; i < nodes.length; i++\n    ) {\n      fragment.appendChild(textNodeIfString(list[i]));\n    }\n    return fragment;\n  }\n  for(var\n    defineProperty = Object.defineProperty || function (object, property, descriptor) {\n      object.__defineGetter__(property, descriptor.get);\n    },\n    indexOf = [].indexOf || function indexOf(value){\n      var length = this.length;\n      while(length--) {\n        if (this[length] === value) {\n          break;\n        }\n      }\n      return length;\n    },\n    head,\n    property,\n    verifyToken,\n    DOMTokenList,\n    trim = /^\\s+|\\s+$/g,\n    spaces = /\\s+/,\n    SPACE = '\\x20',\n    toggle = function toggle(token, force) {\n      if (this.contains(token)) {\n        if (!force) {\n          // force is not true (either false or omitted)\n          this.remove(token);\n        }\n      } else if(force === undefined || force) {\n        force = true;\n        this.add(token);\n      }\n      return !!force;\n    },\n    ElementPrototype = (window.Element || window.Node || window.HTMLElement).prototype,\n    properties = [\n      'matches', (\n        ElementPrototype.matchesSelector ||\n        ElementPrototype.webkitMatchesSelector ||\n        ElementPrototype.khtmlMatchesSelector ||\n        ElementPrototype.mozMatchesSelector ||\n        ElementPrototype.msMatchesSelector ||\n        ElementPrototype.oMatchesSelector ||\n        function matches(selector) {\n          var parentNode = this.parentNode;\n          return !!parentNode && -1 < indexOf.call(\n            parentNode.querySelectorAll(selector),\n            this\n          );\n        }\n      ),\n      'closest', function closest(selector) {\n        var parentNode = this, matches;\n        while (\n          // document has no .matches\n          (matches = parentNode && parentNode.matches) &&\n          !parentNode.matches(selector)\n        ) {\n          parentNode = parentNode.parentNode;\n        }\n        return matches ? parentNode : null;\n      },\n      'prepend', function prepend() {\n        var firstChild = this.firstChild,\n            node = mutationMacro(arguments);\n        if (firstChild) {\n          this.insertBefore(node, firstChild);\n        } else {\n          this.appendChild(node);\n        }\n      },\n      'append', function append() {\n        this.appendChild(mutationMacro(arguments));\n      },\n      'before', function before() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.insertBefore(\n            mutationMacro(arguments), this\n          );\n        }\n      },\n      'after', function after() {\n        var parentNode = this.parentNode,\n            nextSibling = this.nextSibling,\n            node = mutationMacro(arguments);\n        if (parentNode) {\n          if (nextSibling) {\n            parentNode.insertBefore(node, nextSibling);\n          } else {\n            parentNode.appendChild(node);\n          }\n        }\n      },\n      // WARNING - DEPRECATED - use .replaceWith() instead\n      'replace', function replace() {\n        this.replaceWith.apply(this, arguments);\n      },\n      'replaceWith', function replaceWith() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.replaceChild(\n            mutationMacro(arguments),\n            this\n          );\n        }\n      },\n      'remove', function remove() {\n        var parentNode = this.parentNode;\n        if (parentNode) {\n          parentNode.removeChild(this);\n        }\n      }\n    ],\n    slice = properties.slice,\n    i = properties.length; i; i -= 2\n  ) {\n    property = properties[i - 2];\n    if (!(property in ElementPrototype)) {\n      ElementPrototype[property] = properties[i - 1];\n    }\n  }\n  // most likely an IE9 only issue\n  // see https://github.com/WebReflection/dom4/issues/6\n  if (!document.createElement('a').matches('a')) {\n    ElementPrototype[property] = function(matches){\n      return function (selector) {\n        return matches.call(\n          this.parentNode ?\n            this :\n            document.createDocumentFragment().appendChild(this),\n          selector\n        );\n      };\n    }(ElementPrototype[property]);\n  }\n  // http://www.w3.org/TR/dom/#domtokenlist\n  // iOS 5.1 has completely screwed this property\n  // classList in ElementPrototype is false\n  // but it's actually there as getter\n  if (!('classList' in document.documentElement)) {\n    // http://www.w3.org/TR/domcore/#domtokenlist\n    verifyToken = function (token) {\n      if (!token) {\n        throw 'SyntaxError';\n      } else if (spaces.test(token)) {\n        throw 'InvalidCharacterError';\n      }\n      return token;\n    };\n    DOMTokenList = function (node) {\n      this._svg = typeof node.className === \"object\";\n      var className = (this._svg\n            ? node.className.baseVal\n            : node.className).replace(trim, '');\n      if (className) {\n        properties.push.apply(\n          this,\n          className.split(spaces)\n        );\n      }\n      this._ = node;\n    };\n    DOMTokenList.prototype = {\n      length: 0,\n      add: function add() {\n        for(var j = 0, token; j < arguments.length; j++) {\n          token = arguments[j];\n          if(!this.contains(token)) {\n            properties.push.call(this, property);\n          }\n        }\n        if (this._svg) {\n          this._.className.baseVal = '' + this;\n        } else {\n          this._.className = '' + this;\n        }\n      },\n      contains: (function(indexOf){\n        return function contains(token) {\n          i = indexOf.call(this, property = verifyToken(token));\n          return -1 < i;\n        };\n      }([].indexOf || function (token) {\n        i = this.length;\n        while(i-- && this[i] !== token){}\n        return i;\n      })),\n      item: function item(i) {\n        return this[i] || null;\n      },\n      remove: function remove() {\n        for(var j = 0, token; j < arguments.length; j++) {\n          token = arguments[j];\n          if(this.contains(token)) {\n            properties.splice.call(this, i, 1);\n          }\n        }\n        if (this._svg) {\n          this._.className.baseVal = '' + this;\n        } else {\n          this._.className = '' + this;\n        }\n      },\n      toggle: toggle,\n      toString: function toString() {\n        return properties.join.call(this, SPACE);\n      }\n    };\n    defineProperty(ElementPrototype, 'classList', {\n      get: function get() {\n        return new DOMTokenList(this);\n      },\n      set: function(){}\n    });\n  } else {\n    // iOS 5.1 and Nokia ASHA do not support multiple add or remove\n    // trying to detect and fix that in here\n    DOMTokenList = document.createElement('div').classList;\n    DOMTokenList.add('a', 'b', 'a');\n    if ('a\\x20b' != DOMTokenList) {\n      // no other way to reach original methods in iOS 5.1\n      ElementPrototype = DOMTokenList.constructor.prototype;\n      if (!('add' in ElementPrototype)) {\n        // ASHA double fails in here\n        ElementPrototype = window.DOMTokenList.prototype;\n      }\n      verifyToken = function (original) {\n        return function () {\n          var i = 0;\n          while (i < arguments.length) {\n            original.call(this, arguments[i++]);\n          }\n        };\n      };\n      ElementPrototype.add = verifyToken(ElementPrototype.add);\n      ElementPrototype.remove = verifyToken(ElementPrototype.remove);\n      // toggle is broken too ^_^ ... let's fix it\n      ElementPrototype.toggle = toggle;\n    }\n  }\n\n  if (!('head' in document)) {\n    defineProperty(document, 'head', {\n      get: function () {\n        return head || (\n          head = document.getElementsByTagName('head')[0]\n        );\n      }\n    });\n  }\n\n  // http://www.w3.org/TR/dom/#customevent\n  try{new window.CustomEvent('?');}catch(o_O){\n    window.CustomEvent = function(\n      eventName,\n      defaultInitDict\n    ){\n\n      // the infamous substitute\n      function CustomEvent(type, eventInitDict) {\n        /*jshint eqnull:true */\n        var event = document.createEvent(eventName);\n        if (typeof type != 'string') {\n          throw new Error('An event name must be provided');\n        }\n        if (eventName == 'Event') {\n          event.initCustomEvent = initCustomEvent;\n        }\n        if (eventInitDict == null) {\n          eventInitDict = defaultInitDict;\n        }\n        event.initCustomEvent(\n          type,\n          eventInitDict.bubbles,\n          eventInitDict.cancelable,\n          eventInitDict.detail\n        );\n        return event;\n      }\n\n      // attached at runtime\n      function initCustomEvent(\n        type, bubbles, cancelable, detail\n      ) {\n        /*jshint validthis:true*/\n        this.initEvent(type, bubbles, cancelable);\n        this.detail = detail;\n      }\n\n      // that's it\n      return CustomEvent;\n    }(\n      // is this IE9 or IE10 ?\n      // where CustomEvent is there\n      // but not usable as construtor ?\n      window.CustomEvent ?\n        // use the CustomEvent interface in such case\n        'CustomEvent' : 'Event',\n        // otherwise the common compatible one\n      {\n        bubbles: false,\n        cancelable: false,\n        detail: null\n      }\n    );\n  }\n\n}(window));\n/* CSS Object Model patches */\n(function(CSSSDProto) {\n\n  function getAttribute(property) {\n    return property.replace(/-[a-z]/g, function(bit) {\n      return bit[1].toUpperCase();\n    });\n  }\n\n  // patch CSSStyleDeclaration.prototype using IE8's methods\n  if (typeof CSSSDProto.setAttribute !== \"undefined\") {\n    CSSSDProto.setProperty = function(property, value) {\n      return this.setAttribute(getAttribute(property), String(value) /*, important */ );\n    };\n    CSSSDProto.getPropertyValue = function(property) {\n      return this.getAttribute(getAttribute(property)) || null;\n    };\n    CSSSDProto.removeProperty = function(property) {\n      var value = this.getPropertyValue(property);\n      this.removeAttribute(getAttribute(property));\n      return value;\n    };\n  }\n\n})(CSSStyleDeclaration.prototype);\nif (!('createElementNS' in document)) {\n  var DocumentPrototype = window.HTMLDocument.prototype;\n  DocumentPrototype.createElementNS = function(ns, name) {\n    if (ns) throw new Error(\"sorry, this browser does not support namespaces\");\n    return DocumentPrototype.createElement.call(this, name);\n  };\n}\n/**\n* @preserve HTML5 Shiv 3.7.2 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\n*/\n;(function(window, document) {\n/*jshint evil:true */\n  /** version */\n  var version = '3.7.2';\n\n  /** Preset options */\n  var options = window.html5 || {};\n\n  /** Used to skip problem elements */\n  var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\n\n  /** Not all elements can be cloned in IE **/\n  var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;\n\n  /** Detect whether the browser supports default html5 styles */\n  var supportsHtml5Styles;\n\n  /** Name of the expando, to work with multiple documents or to re-shiv one document */\n  var expando = '_html5shiv';\n\n  /** The id for the the documents expando */\n  var expanID = 0;\n\n  /** Cached data for each document */\n  var expandoData = {};\n\n  /** Detect whether the browser supports unknown elements */\n  var supportsUnknownElements;\n\n  (function() {\n    try {\n        var a = document.createElement('a');\n        a.innerHTML = '<xyz></xyz>';\n        //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a);\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n          // assign a false positive if unable to shiv\n          (document.createElement)('a');\n          var frag = document.createDocumentFragment();\n          return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n          );\n        }());\n    } catch(e) {\n      // assign a false positive if detection fails => unable to shiv\n      supportsHtml5Styles = true;\n      supportsUnknownElements = true;\n    }\n\n  }());\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a style sheet with the given CSS text and adds it to the document.\n   * @private\n   * @param {Document} ownerDocument The document.\n   * @param {String} cssText The CSS text.\n   * @returns {StyleSheet} The style element.\n   */\n  function addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\n\n    p.innerHTML = 'x<style>' + cssText + '</style>';\n    return parent.insertBefore(p.lastChild, parent.firstChild);\n  }\n\n  /**\n   * Returns the value of `html5.elements` as an array.\n   * @private\n   * @returns {Array} An array of shived element node names.\n   */\n  function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n  }\n\n  /**\n   * Extends the built-in list of html5 elements\n   * @memberOf html5\n   * @param {String|Array} newElements whitespace separated list or array of new element names to shiv\n   * @param {Document} ownerDocument The context document.\n   */\n  function addElements(newElements, ownerDocument) {\n    var elements = html5.elements;\n    if(typeof elements != 'string'){\n      elements = elements.join(' ');\n    }\n    if(typeof newElements != 'string'){\n      newElements = newElements.join(' ');\n    }\n    html5.elements = elements +' '+ newElements;\n    shivDocument(ownerDocument);\n  }\n\n   /**\n   * Returns the data associated to the given document\n   * @private\n   * @param {Document} ownerDocument The document.\n   * @returns {Object} An object of data.\n   */\n  function getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]];\n    if (!data) {\n        data = {};\n        expanID++;\n        ownerDocument[expando] = expanID;\n        expandoData[expanID] = data;\n    }\n    return data;\n  }\n\n  /**\n   * returns a shived element for the given nodeName and document\n   * @memberOf html5\n   * @param {String} nodeName name of the element\n   * @param {Document} ownerDocument The context document.\n   * @returns {Object} The shived element.\n   */\n  function createElement(nodeName, ownerDocument, data){\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName);\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument);\n    }\n    var node;\n\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode();\n    } else if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\n    } else {\n        node = data.createElem(nodeName);\n    }\n\n    // Avoid adding some elements to fragments in IE < 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;\n  }\n\n  /**\n   * returns a shived DocumentFragment for the given document\n   * @memberOf html5\n   * @param {Document} ownerDocument The context document.\n   * @returns {Object} The shived DocumentFragment.\n   */\n  function createDocumentFragment(ownerDocument, data){\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment();\n    }\n    data = data || getExpandoData(ownerDocument);\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length;\n    for(;i<l;i++){\n        clone.createElement(elems[i]);\n    }\n    return clone;\n  }\n\n  /**\n   * Shivs the `createElement` and `createDocumentFragment` methods of the document.\n   * @private\n   * @param {Document|DocumentFragment} ownerDocument The document.\n   * @param {Object} data of the document.\n   */\n  function shivMethods(ownerDocument, data) {\n    if (!data.cache) {\n        data.cache = {};\n        data.createElem = ownerDocument.createElement;\n        data.createFrag = ownerDocument.createDocumentFragment;\n        data.frag = data.createFrag();\n    }\n\n\n    ownerDocument.createElement = function(nodeName) {\n      //abort shiv\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName);\n      }\n      return createElement(nodeName, ownerDocument, data);\n    };\n\n    ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\n      'var n=f.cloneNode(),c=n.createElement;' +\n      'h.shivMethods&&(' +\n        // unroll the `createElement` calls\n        getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n          data.createElem(nodeName);\n          data.frag.createElement(nodeName);\n          return 'c(\"' + nodeName + '\")';\n        }) +\n      ');return n}'\n    )(html5, data.frag);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Shivs the given document.\n   * @memberOf html5\n   * @param {Document} ownerDocument The document to shiv.\n   * @returns {Document} The shived document.\n   */\n  function shivDocument(ownerDocument) {\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    var data = getExpandoData(ownerDocument);\n\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      );\n    }\n    if (!supportsUnknownElements) {\n      shivMethods(ownerDocument, data);\n    }\n    return ownerDocument;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The `html5` object is exposed so that more elements can be shived and\n   * existing shiving can be detected on iframes.\n   * @type Object\n   * @example\n   *\n   * // options can be changed before the script is included\n   * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };\n   */\n  var html5 = {\n\n    /**\n     * An array or space separated string of node names of the elements to shiv.\n     * @memberOf html5\n     * @type Array|String\n     */\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',\n\n    /**\n     * current version of html5shiv\n     */\n    'version': version,\n\n    /**\n     * A flag to indicate that the HTML5 style sheet should be inserted.\n     * @memberOf html5\n     * @type Boolean\n     */\n    'shivCSS': (options.shivCSS !== false),\n\n    /**\n     * Is equal to true if a browser supports creating unknown/HTML5 elements\n     * @memberOf html5\n     * @type boolean\n     */\n    'supportsUnknownElements': supportsUnknownElements,\n\n    /**\n     * A flag to indicate that the document's `createElement` and `createDocumentFragment`\n     * methods should be overwritten.\n     * @memberOf html5\n     * @type Boolean\n     */\n    'shivMethods': (options.shivMethods !== false),\n\n    /**\n     * A string to describe the type of `html5` object (\"default\" or \"default print\").\n     * @memberOf html5\n     * @type String\n     */\n    'type': 'default',\n\n    // shivs the document according to the specified `html5` object options\n    'shivDocument': shivDocument,\n\n    //creates a shived element\n    createElement: createElement,\n\n    //creates a shived documentFragment\n    createDocumentFragment: createDocumentFragment,\n\n    //extends list of elements\n    addElements: addElements\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose html5\n  window.html5 = html5;\n\n  // shiv the document\n  shivDocument(document);\n\n}(this, document));\n\n}).call(this, typeof module === \"object\" ? module.exports : this.aight = {});\n/*!\n * https://github.com/es-shims/es5-shim\n * @license es5-shim Copyright 2009-2014 by contributors, MIT License\n * see https://github.com/es-shims/es5-shim/blob/master/LICENSE\n */\n\n// vim: ts=4 sts=4 sw=4 expandtab\n\n//Add semicolon to prevent IIFE from being passed as argument to concatenated code.\n;\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory();\n    }\n}(this, function () {\n\n/**\n * Brings an environment as close to ECMAScript 5 compliance\n * as is possible with the facilities of erstwhile engines.\n *\n * Annotated ES5: http://es5.github.com/ (specific links below)\n * ES5 Spec: http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\n * Required reading: http://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\n */\n\n// Shortcut to an often accessed properties, in order to avoid multiple\n// dereference that costs universally.\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar NumberPrototype = Number.prototype;\nvar array_slice = ArrayPrototype.slice;\nvar array_splice = ArrayPrototype.splice;\nvar array_push = ArrayPrototype.push;\nvar array_unshift = ArrayPrototype.unshift;\nvar call = FunctionPrototype.call;\n\n// Having a toString local variable name breaks in Opera so use _toString.\nvar _toString = ObjectPrototype.toString;\n\nvar isFunction = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object Function]';\n};\nvar isRegex = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object RegExp]';\n};\nvar isArray = function isArray(obj) {\n    return _toString.call(obj) === \"[object Array]\";\n};\nvar isString = function isString(obj) {\n    return _toString.call(obj) === \"[object String]\";\n};\nvar isArguments = function isArguments(value) {\n    var str = _toString.call(value);\n    var isArgs = str === '[object Arguments]';\n    if (!isArgs) {\n        isArgs = !isArray(value)\n            && value !== null\n            && typeof value === 'object'\n            && typeof value.length === 'number'\n            && value.length >= 0\n            && isFunction(value.callee);\n    }\n    return isArgs;\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toStr;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (isFunction(valueOf)) {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toStr = input.toString;\n    if (isFunction(toStr)) {\n        val = toStr.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\n\n// ES5 9.9\n// http://es5.github.com/#x9.9\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + \" to object\");\n    }\n    return Object(o);\n};\n\nvar ToUint32 = function ToUint32(x) {\n    return x >>> 0;\n};\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push(\"$\" + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        var bound = Function(\"binder\", \"return function (\" + boundArgs.join(\",\") + \"){return binder.apply(this,arguments)}\")(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n// _Please note: Shortcuts are defined after `Function.prototype.bind` as we\n// us it in defining shortcuts.\nvar owns = call.bind(ObjectPrototype.hasOwnProperty);\n\n// If JS engine supports accessors creating shortcuts.\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(ObjectPrototype, \"__defineGetter__\"))) {\n    defineGetter = call.bind(ObjectPrototype.__defineGetter__);\n    defineSetter = call.bind(ObjectPrototype.__defineSetter__);\n    lookupGetter = call.bind(ObjectPrototype.__lookupGetter__);\n    lookupSetter = call.bind(ObjectPrototype.__lookupSetter__);\n}\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.12\nvar spliceNoopReturnsEmptyArray = (function () {\n    var a = [1, 2];\n    var result = a.splice();\n    return a.length === 2 && isArray(result) && result.length === 0;\n}());\ndefineProperties(ArrayPrototype, {\n    // Safari 5.0 bug where .splice() returns undefined\n    splice: function splice(start, deleteCount) {\n        if (arguments.length === 0) {\n            return [];\n        } else {\n            return array_splice.apply(this, arguments);\n        }\n    }\n}, spliceNoopReturnsEmptyArray);\n\nvar spliceWorksWithEmptyObject = (function () {\n    var obj = {};\n    ArrayPrototype.splice.call(obj, 0, 0, 1);\n    return obj.length === 1;\n}());\ndefineProperties(ArrayPrototype, {\n    splice: function splice(start, deleteCount) {\n        if (arguments.length === 0) { return []; }\n        var args = arguments;\n        this.length = Math.max(toInteger(this.length), 0);\n        if (arguments.length > 0 && typeof deleteCount !== 'number') {\n            args = array_slice.call(arguments);\n            if (args.length < 2) {\n                args.push(this.length - start);\n            } else {\n                args[1] = toInteger(deleteCount);\n            }\n        }\n        return array_splice.apply(this, args);\n    }\n}, !spliceWorksWithEmptyObject);\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.13\n// Return len+argCount.\n// [bugfix, ielt8]\n// IE < 8 bug: [].unshift(0) === undefined but should be \"1\"\nvar hasUnshiftReturnValueBug = [].unshift(0) !== 1;\ndefineProperties(ArrayPrototype, {\n    unshift: function () {\n        array_unshift.apply(this, arguments);\n        return this.length;\n    }\n}, hasUnshiftReturnValueBug);\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n// The IsCallable() check in the Array functions\n// has been replaced with a strict check on the\n// internal class of the object to trap cases where\n// the provided function was actually a regular\n// expression literal, which in V8 and\n// JavaScriptCore is a typeof \"function\".  Only in\n// V8 are regular expression literals permitted as\n// reduce parameters, so it is desirable in the\n// general case for the shim to match the more\n// strict and common behavior of rejecting regular\n// expressions.\n\n// ES5 15.4.4.18\n// http://es5.github.com/#x15.4.4.18\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\n\n// Check failure of by-index access of string characters (IE < 9)\n// and failure of `0 in boxedString` (Rhino)\nvar boxedString = Object(\"a\");\nvar splitString = boxedString[0] !== \"a\" || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.19\n// http://es5.github.com/#x15.4.4.19\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\ndefineProperties(ArrayPrototype, {\n    map: function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                result[i] = fun.call(thisp, self[i], i, object);\n            }\n        }\n        return result;\n    }\n}, !properlyBoxesContext(ArrayPrototype.map));\n\n// ES5 15.4.4.20\n// http://es5.github.com/#x15.4.4.20\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\ndefineProperties(ArrayPrototype, {\n    filter: function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    }\n}, !properlyBoxesContext(ArrayPrototype.filter));\n\n// ES5 15.4.4.16\n// http://es5.github.com/#x15.4.4.16\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\ndefineProperties(ArrayPrototype, {\n    every: function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}, !properlyBoxesContext(ArrayPrototype.every));\n\n// ES5 15.4.4.17\n// http://es5.github.com/#x15.4.4.17\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\ndefineProperties(ArrayPrototype, {\n    some: function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}, !properlyBoxesContext(ArrayPrototype.some));\n\n// ES5 15.4.4.21\n// http://es5.github.com/#x15.4.4.21\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\nvar reduceCoercesToObject = false;\nif (ArrayPrototype.reduce) {\n    reduceCoercesToObject = typeof ArrayPrototype.reduce.call('es5', function (_, __, ___, list) { return list; }) === 'object';\n}\ndefineProperties(ArrayPrototype, {\n    reduce: function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        // no value to return if no initial value and an empty array\n        if (!length && arguments.length === 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    }\n}, !reduceCoercesToObject);\n\n// ES5 15.4.4.22\n// http://es5.github.com/#x15.4.4.22\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\nvar reduceRightCoercesToObject = false;\nif (ArrayPrototype.reduceRight) {\n    reduceRightCoercesToObject = typeof ArrayPrototype.reduceRight.call('es5', function (_, __, ___, list) { return list; }) === 'object';\n}\ndefineProperties(ArrayPrototype, {\n    reduceRight: function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        // no value to return if no initial value, empty array\n        if (!length && arguments.length === 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        if (i < 0) {\n            return result;\n        }\n\n        do {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    }\n}, !reduceRightCoercesToObject);\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n// ES5 15.4.4.15\n// http://es5.github.com/#x15.4.4.15\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nvar hasFirefox2LastIndexOfBug = Array.prototype.lastIndexOf && [0, 1].lastIndexOf(0, -3) !== -1;\ndefineProperties(ArrayPrototype, {\n    lastIndexOf: function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        // handle negative indices\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2LastIndexOfBug);\n\n//\n// Object\n// ======\n//\n\n// ES5 15.2.3.14\n// http://es5.github.com/#x15.2.3.14\n\n// http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\nvar hasDontEnumBug = !({'toString': null}).propertyIsEnumerable('toString'),\n    hasProtoEnumBug = (function () {}).propertyIsEnumerable('prototype'),\n    dontEnums = [\n        \"toString\",\n        \"toLocaleString\",\n        \"valueOf\",\n        \"hasOwnProperty\",\n        \"isPrototypeOf\",\n        \"propertyIsEnumerable\",\n        \"constructor\"\n    ],\n    dontEnumsLength = dontEnums.length;\n\ndefineProperties(Object, {\n    keys: function keys(object) {\n        var isFn = isFunction(object),\n            isArgs = isArguments(object),\n            isObject = object !== null && typeof object === 'object',\n            isStr = isObject && isString(object);\n\n        if (!isObject && !isFn && !isArgs) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var theKeys = [];\n        var skipProto = hasProtoEnumBug && isFn;\n        if (isStr || isArgs) {\n            for (var i = 0; i < object.length; ++i) {\n                theKeys.push(String(i));\n            }\n        } else {\n            for (var name in object) {\n                if (!(skipProto && name === 'prototype') && owns(object, name)) {\n                    theKeys.push(String(name));\n                }\n            }\n        }\n\n        if (hasDontEnumBug) {\n            var ctor = object.constructor,\n                skipConstructor = ctor && ctor.prototype === object;\n            for (var j = 0; j < dontEnumsLength; j++) {\n                var dontEnum = dontEnums[j];\n                if (!(skipConstructor && dontEnum === 'constructor') && owns(object, dontEnum)) {\n                    theKeys.push(dontEnum);\n                }\n            }\n        }\n        return theKeys;\n    }\n});\n\nvar keysWorksWithArguments = Object.keys && (function () {\n    // Safari 5.0 bug\n    return Object.keys(arguments).length === 2;\n}(1, 2));\nvar originalKeys = Object.keys;\ndefineProperties(Object, {\n    keys: function keys(object) {\n        if (isArguments(object)) {\n            return originalKeys(ArrayPrototype.slice.call(object));\n        } else {\n            return originalKeys(object);\n        }\n    }\n}, !keysWorksWithArguments);\n\n//\n// Date\n// ====\n//\n\n// ES5 15.9.5.43\n// http://es5.github.com/#x15.9.5.43\n// This function returns a String value represent the instance in time\n// represented by this Date object. The format of the String is the Date Time\n// string format defined in 15.9.1.15. All fields are present in the String.\n// The time zone is always UTC, denoted by the suffix Z. If the time value of\n// this object is not a finite Number a RangeError exception is thrown.\nvar negativeDate = -62198755200000;\nvar negativeYearString = \"-000001\";\nvar hasNegativeDateBug = Date.prototype.toISOString && new Date(negativeDate).toISOString().indexOf(negativeYearString) === -1;\n\ndefineProperties(Date.prototype, {\n    toISOString: function toISOString() {\n        var result, length, value, year, month;\n        if (!isFinite(this)) {\n            throw new RangeError(\"Date.prototype.toISOString called on non-finite value.\");\n        }\n\n        year = this.getUTCFullYear();\n\n        month = this.getUTCMonth();\n        // see https://github.com/es-shims/es5-shim/issues/111\n        year += Math.floor(month / 12);\n        month = (month % 12 + 12) % 12;\n\n        // the date time string format is specified in 15.9.1.15.\n        result = [month + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds()];\n        year = (\n            (year < 0 ? \"-\" : (year > 9999 ? \"+\" : \"\")) +\n            (\"00000\" + Math.abs(year)).slice(0 <= year && year <= 9999 ? -4 : -6)\n        );\n\n        length = result.length;\n        while (length--) {\n            value = result[length];\n            // pad months, days, hours, minutes, and seconds to have two\n            // digits.\n            if (value < 10) {\n                result[length] = \"0\" + value;\n            }\n        }\n        // pad milliseconds to have three digits.\n        return (\n            year + \"-\" + result.slice(0, 2).join(\"-\") +\n            \"T\" + result.slice(2).join(\":\") + \".\" +\n            (\"000\" + this.getUTCMilliseconds()).slice(-3) + \"Z\"\n        );\n    }\n}, hasNegativeDateBug);\n\n\n// ES5 15.9.5.44\n// http://es5.github.com/#x15.9.5.44\n// This function provides a String representation of a Date object for use by\n// JSON.stringify (15.12.3).\nvar dateToJSONIsSupported = false;\ntry {\n    dateToJSONIsSupported = (\n        Date.prototype.toJSON &&\n        new Date(NaN).toJSON() === null &&\n        new Date(negativeDate).toJSON().indexOf(negativeYearString) !== -1 &&\n        Date.prototype.toJSON.call({ // generic\n            toISOString: function () {\n                return true;\n            }\n        })\n    );\n} catch (e) {\n}\nif (!dateToJSONIsSupported) {\n    Date.prototype.toJSON = function toJSON(key) {\n        // When the toJSON method is called with argument key, the following\n        // steps are taken:\n\n        // 1.  Let O be the result of calling ToObject, giving it the this\n        // value as its argument.\n        // 2. Let tv be toPrimitive(O, hint Number).\n        var o = Object(this),\n            tv = toPrimitive(o),\n            toISO;\n        // 3. If tv is a Number and is not finite, return null.\n        if (typeof tv === \"number\" && !isFinite(tv)) {\n            return null;\n        }\n        // 4. Let toISO be the result of calling the [[Get]] internal method of\n        // O with argument \"toISOString\".\n        toISO = o.toISOString;\n        // 5. If IsCallable(toISO) is false, throw a TypeError exception.\n        if (typeof toISO !== \"function\") {\n            throw new TypeError(\"toISOString property is not callable\");\n        }\n        // 6. Return the result of calling the [[Call]] internal method of\n        //  toISO with O as the this value and an empty argument list.\n        return toISO.call(o);\n\n        // NOTE 1 The argument is ignored.\n\n        // NOTE 2 The toJSON function is intentionally generic; it does not\n        // require that its this value be a Date object. Therefore, it can be\n        // transferred to other kinds of objects for use as a method. However,\n        // it does require that any such object have a toISOString method. An\n        // object is free to use the argument key to filter its\n        // stringification.\n    };\n}\n\n// ES5 15.9.4.2\n// http://es5.github.com/#x15.9.4.2\n// based on work shared by Daniel Friesen (dantman)\n// http://gist.github.com/303249\nvar supportsExtendedYears = Date.parse('+033658-09-27T01:46:40.000Z') === 1e15;\nvar acceptsInvalidDates = !isNaN(Date.parse('2012-04-04T24:00:00.500Z')) || !isNaN(Date.parse('2012-11-31T23:59:59.000Z'));\nvar doesNotParseY2KNewYear = isNaN(Date.parse(\"2000-01-01T00:00:00.000Z\"));\nif (!Date.parse || doesNotParseY2KNewYear || acceptsInvalidDates || !supportsExtendedYears) {\n    // XXX global assignment won't work in embeddings that use\n    // an alternate object for the context.\n    Date = (function (NativeDate) {\n\n        // Date.length === 7\n        function Date(Y, M, D, h, m, s, ms) {\n            var length = arguments.length;\n            if (this instanceof NativeDate) {\n                var date = length === 1 && String(Y) === Y ? // isString(Y)\n                    // We explicitly pass it through parse:\n                    new NativeDate(Date.parse(Y)) :\n                    // We have to manually make calls depending on argument\n                    // length here\n                    length >= 7 ? new NativeDate(Y, M, D, h, m, s, ms) :\n                    length >= 6 ? new NativeDate(Y, M, D, h, m, s) :\n                    length >= 5 ? new NativeDate(Y, M, D, h, m) :\n                    length >= 4 ? new NativeDate(Y, M, D, h) :\n                    length >= 3 ? new NativeDate(Y, M, D) :\n                    length >= 2 ? new NativeDate(Y, M) :\n                    length >= 1 ? new NativeDate(Y) :\n                                  new NativeDate();\n                // Prevent mixups with unfixed Date object\n                date.constructor = Date;\n                return date;\n            }\n            return NativeDate.apply(this, arguments);\n        }\n\n        // 15.9.1.15 Date Time String Format.\n        var isoDateExpression = new RegExp(\"^\" +\n            \"(\\\\d{4}|[\\+\\-]\\\\d{6})\" + // four-digit year capture or sign +\n                                      // 6-digit extended year\n            \"(?:-(\\\\d{2})\" + // optional month capture\n            \"(?:-(\\\\d{2})\" + // optional day capture\n            \"(?:\" + // capture hours:minutes:seconds.milliseconds\n                \"T(\\\\d{2})\" + // hours capture\n                \":(\\\\d{2})\" + // minutes capture\n                \"(?:\" + // optional :seconds.milliseconds\n                    \":(\\\\d{2})\" + // seconds capture\n                    \"(?:(\\\\.\\\\d{1,}))?\" + // milliseconds capture\n                \")?\" +\n            \"(\" + // capture UTC offset component\n                \"Z|\" + // UTC capture\n                \"(?:\" + // offset specifier +/-hours:minutes\n                    \"([-+])\" + // sign capture\n                    \"(\\\\d{2})\" + // hours offset capture\n                    \":(\\\\d{2})\" + // minutes offset capture\n                \")\" +\n            \")?)?)?)?\" +\n        \"$\");\n\n        var months = [\n            0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365\n        ];\n\n        function dayFromMonth(year, month) {\n            var t = month > 1 ? 1 : 0;\n            return (\n                months[month] +\n                Math.floor((year - 1969 + t) / 4) -\n                Math.floor((year - 1901 + t) / 100) +\n                Math.floor((year - 1601 + t) / 400) +\n                365 * (year - 1970)\n            );\n        }\n\n        function toUTC(t) {\n            return Number(new NativeDate(1970, 0, 1, 0, 0, 0, t));\n        }\n\n        // Copy any custom methods a 3rd party library may have added\n        for (var key in NativeDate) {\n            Date[key] = NativeDate[key];\n        }\n\n        // Copy \"native\" methods explicitly; they may be non-enumerable\n        Date.now = NativeDate.now;\n        Date.UTC = NativeDate.UTC;\n        Date.prototype = NativeDate.prototype;\n        Date.prototype.constructor = Date;\n\n        // Upgrade Date.parse to handle simplified ISO 8601 strings\n        Date.parse = function parse(string) {\n            var match = isoDateExpression.exec(string);\n            if (match) {\n                // parse months, days, hours, minutes, seconds, and milliseconds\n                // provide default values if necessary\n                // parse the UTC offset component\n                var year = Number(match[1]),\n                    month = Number(match[2] || 1) - 1,\n                    day = Number(match[3] || 1) - 1,\n                    hour = Number(match[4] || 0),\n                    minute = Number(match[5] || 0),\n                    second = Number(match[6] || 0),\n                    millisecond = Math.floor(Number(match[7] || 0) * 1000),\n                    // When time zone is missed, local offset should be used\n                    // (ES 5.1 bug)\n                    // see https://bugs.ecmascript.org/show_bug.cgi?id=112\n                    isLocalTime = Boolean(match[4] && !match[8]),\n                    signOffset = match[9] === \"-\" ? 1 : -1,\n                    hourOffset = Number(match[10] || 0),\n                    minuteOffset = Number(match[11] || 0),\n                    result;\n                if (\n                    hour < (\n                        minute > 0 || second > 0 || millisecond > 0 ?\n                        24 : 25\n                    ) &&\n                    minute < 60 && second < 60 && millisecond < 1000 &&\n                    month > -1 && month < 12 && hourOffset < 24 &&\n                    minuteOffset < 60 && // detect invalid offsets\n                    day > -1 &&\n                    day < (\n                        dayFromMonth(year, month + 1) -\n                        dayFromMonth(year, month)\n                    )\n                ) {\n                    result = (\n                        (dayFromMonth(year, month) + day) * 24 +\n                        hour +\n                        hourOffset * signOffset\n                    ) * 60;\n                    result = (\n                        (result + minute + minuteOffset * signOffset) * 60 +\n                        second\n                    ) * 1000 + millisecond;\n                    if (isLocalTime) {\n                        result = toUTC(result);\n                    }\n                    if (-8.64e15 <= result && result <= 8.64e15) {\n                        return result;\n                    }\n                }\n                return NaN;\n            }\n            return NativeDate.parse.apply(this, arguments);\n        };\n\n        return Date;\n    })(Date);\n}\n\n// ES5 15.9.4.4\n// http://es5.github.com/#x15.9.4.4\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\n\n\n//\n// Number\n// ======\n//\n\n// ES5.1 15.7.4.5\n// http://es5.github.com/#x15.7.4.5\nvar hasToFixedBugs = NumberPrototype.toFixed && (\n  (0.00008).toFixed(3) !== '0.000'\n  || (0.9).toFixed(0) !== '1'\n  || (1.255).toFixed(2) !== '1.25'\n  || (1000000000000000128).toFixed(0) !== \"1000000000000000128\"\n);\n\nvar toFixedHelpers = {\n  base: 1e7,\n  size: 6,\n  data: [0, 0, 0, 0, 0, 0],\n  multiply: function multiply(n, c) {\n      var i = -1;\n      while (++i < toFixedHelpers.size) {\n          c += n * toFixedHelpers.data[i];\n          toFixedHelpers.data[i] = c % toFixedHelpers.base;\n          c = Math.floor(c / toFixedHelpers.base);\n      }\n  },\n  divide: function divide(n) {\n      var i = toFixedHelpers.size, c = 0;\n      while (--i >= 0) {\n          c += toFixedHelpers.data[i];\n          toFixedHelpers.data[i] = Math.floor(c / n);\n          c = (c % n) * toFixedHelpers.base;\n      }\n  },\n  numToString: function numToString() {\n      var i = toFixedHelpers.size;\n      var s = '';\n      while (--i >= 0) {\n          if (s !== '' || i === 0 || toFixedHelpers.data[i] !== 0) {\n              var t = String(toFixedHelpers.data[i]);\n              if (s === '') {\n                  s = t;\n              } else {\n                  s += '0000000'.slice(0, 7 - t.length) + t;\n              }\n          }\n      }\n      return s;\n  },\n  pow: function pow(x, n, acc) {\n      return (n === 0 ? acc : (n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc)));\n  },\n  log: function log(x) {\n      var n = 0;\n      while (x >= 4096) {\n          n += 12;\n          x /= 4096;\n      }\n      while (x >= 2) {\n          n += 1;\n          x /= 2;\n      }\n      return n;\n  }\n};\n\ndefineProperties(NumberPrototype, {\n    toFixed: function toFixed(fractionDigits) {\n        var f, x, s, m, e, z, j, k;\n\n        // Test for NaN and round fractionDigits down\n        f = Number(fractionDigits);\n        f = f !== f ? 0 : Math.floor(f);\n\n        if (f < 0 || f > 20) {\n            throw new RangeError(\"Number.toFixed called with invalid number of decimals\");\n        }\n\n        x = Number(this);\n\n        // Test for NaN\n        if (x !== x) {\n            return \"NaN\";\n        }\n\n        // If it is too big or small, return the string value of the number\n        if (x <= -1e21 || x >= 1e21) {\n            return String(x);\n        }\n\n        s = \"\";\n\n        if (x < 0) {\n            s = \"-\";\n            x = -x;\n        }\n\n        m = \"0\";\n\n        if (x > 1e-21) {\n            // 1e-21 < x < 1e21\n            // -70 < log2(x) < 70\n            e = toFixedHelpers.log(x * toFixedHelpers.pow(2, 69, 1)) - 69;\n            z = (e < 0 ? x * toFixedHelpers.pow(2, -e, 1) : x / toFixedHelpers.pow(2, e, 1));\n            z *= 0x10000000000000; // Math.pow(2, 52);\n            e = 52 - e;\n\n            // -18 < e < 122\n            // x = z / 2 ^ e\n            if (e > 0) {\n                toFixedHelpers.multiply(0, z);\n                j = f;\n\n                while (j >= 7) {\n                    toFixedHelpers.multiply(1e7, 0);\n                    j -= 7;\n                }\n\n                toFixedHelpers.multiply(toFixedHelpers.pow(10, j, 1), 0);\n                j = e - 1;\n\n                while (j >= 23) {\n                    toFixedHelpers.divide(1 << 23);\n                    j -= 23;\n                }\n\n                toFixedHelpers.divide(1 << j);\n                toFixedHelpers.multiply(1, 1);\n                toFixedHelpers.divide(2);\n                m = toFixedHelpers.numToString();\n            } else {\n                toFixedHelpers.multiply(0, z);\n                toFixedHelpers.multiply(1 << (-e), 0);\n                m = toFixedHelpers.numToString() + '0.00000000000000000000'.slice(2, 2 + f);\n            }\n        }\n\n        if (f > 0) {\n            k = m.length;\n\n            if (k <= f) {\n                m = s + '0.0000000000000000000'.slice(0, f - k + 2) + m;\n            } else {\n                m = s + m.slice(0, k - f) + '.' + m.slice(k - f);\n            }\n        } else {\n            m = s + m;\n        }\n\n        return m;\n    }\n}, hasToFixedBugs);\n\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === \"t\" ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec(\"\")[1] === void 0; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (_toString.call(separator) !== \"[object RegExp]\") {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? \"i\" : \"\") +\n                        (separator.multiline  ? \"m\" : \"\") +\n                        (separator.extended   ? \"x\" : \"\") + // Proposed for ES6\n                        (separator.sticky     ? \"y\" : \"\"), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + \"g\");\n            string += \"\"; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        ArrayPrototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test(\"\")) {\n                    output.push(\"\");\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if (\"0\".split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (separator === void 0 && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\nvar str_replace = StringPrototype.replace;\nvar replaceReportsGroupsCorrectly = (function () {\n    var groups = [];\n    'x'.replace(/x(.)?/g, function (match, group) {\n        groups.push(group);\n    });\n    return groups.length === 1 && typeof groups[0] === 'undefined';\n}());\n\nif (!replaceReportsGroupsCorrectly) {\n    StringPrototype.replace = function replace(searchValue, replaceValue) {\n        var isFn = isFunction(replaceValue);\n        var hasCapturingGroups = isRegex(searchValue) && (/\\)[*?]/).test(searchValue.source);\n        if (!isFn || !hasCapturingGroups) {\n            return str_replace.call(this, searchValue, replaceValue);\n        } else {\n            var wrappedReplaceValue = function (match) {\n                var length = arguments.length;\n                var originalLastIndex = searchValue.lastIndex;\n                searchValue.lastIndex = 0;\n                var args = searchValue.exec(match) || [];\n                searchValue.lastIndex = originalLastIndex;\n                args.push(arguments[length - 2], arguments[length - 1]);\n                return replaceValue.apply(this, args);\n            };\n            return str_replace.call(this, searchValue, wrappedReplaceValue);\n        }\n    };\n}\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = \"\".substr && \"0b\".substr(-1) !== \"b\";\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n\n// ES5 15.5.4.20\n// whitespace from: http://es5.github.io/#x15.5.4.20\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nvar zeroWidth = '\\u200b';\nvar wsRegexChars = \"[\" + ws + \"]\";\nvar trimBeginRegexp = new RegExp(\"^\" + wsRegexChars + wsRegexChars + \"*\");\nvar trimEndRegexp = new RegExp(wsRegexChars + wsRegexChars + \"*$\");\nvar hasTrimWhitespaceBug = StringPrototype.trim && (ws.trim() || !zeroWidth.trim());\ndefineProperties(StringPrototype, {\n    // http://blog.stevenlevithan.com/archives/faster-trim-javascript\n    // http://perfectionkills.com/whitespace-deviations/\n    trim: function trim() {\n        if (this === void 0 || this === null) {\n            throw new TypeError(\"can't convert \" + this + \" to object\");\n        }\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    }\n}, hasTrimWhitespaceBug);\n\n// ES-5 15.1.2.2\nif (parseInt(ws + '08') !== 8 || parseInt(ws + '0x16') !== 22) {\n    parseInt = (function (origParseInt) {\n        var hexRegex = /^0[xX]/;\n        return function parseIntES5(str, radix) {\n            str = String(str).trim();\n            if (!Number(radix)) {\n                radix = hexRegex.test(str) ? 16 : 10;\n            }\n            return origParseInt(str, radix);\n        };\n    }(parseInt));\n}\n\n}));\n/*!\n * https://github.com/es-shims/es5-shim\n * @license es5-shim Copyright 2009-2014 by contributors, MIT License\n * see https://github.com/es-shims/es5-shim/blob/master/LICENSE\n */\n\n// vim: ts=4 sts=4 sw=4 expandtab\n\n//Add semicolon to prevent IIFE from being passed as argument to concated code.\n;\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory();\n  }\n}(this, function () {\n\nvar call = Function.prototype.call;\nvar prototypeOfObject = Object.prototype;\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\n\n// If JS engine supports accessors creating shortcuts.\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\");\nif (supportsAccessors) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\n\n// ES5 15.2.3.2\n// http://es5.github.com/#x15.2.3.2\nif (!Object.getPrototypeOf) {\n    // https://github.com/es-shims/es5-shim/issues#issue/2\n    // http://ejohn.org/blog/objectgetprototypeof/\n    // recommended by fschaefer on github\n    //\n    // sure, and webreflection says ^_^\n    // ... this will nerever possibly return null\n    // ... Opera Mini breaks here with infinite loops\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        var proto = object.__proto__;\n        if (proto || proto === null) {\n            return proto;\n        } else if (object.constructor) {\n            return object.constructor.prototype;\n        } else {\n            return prototypeOfObject;\n        }\n    };\n}\n\n//ES5 15.2.3.3\n//http://es5.github.com/#x15.2.3.3\n\nfunction doesGetOwnPropertyDescriptorWork(object) {\n    try {\n        object.sentinel = 0;\n        return Object.getOwnPropertyDescriptor(\n                object,\n                \"sentinel\"\n        ).value === 0;\n    } catch (exception) {\n        // returns falsy\n    }\n}\n\n//check whether getOwnPropertyDescriptor works if it's given. Otherwise,\n//shim partially.\nif (Object.defineProperty) {\n    var getOwnPropertyDescriptorWorksOnObject = doesGetOwnPropertyDescriptorWork({});\n    var getOwnPropertyDescriptorWorksOnDom = typeof document === \"undefined\" ||\n    doesGetOwnPropertyDescriptorWork(document.createElement(\"div\"));\n    if (!getOwnPropertyDescriptorWorksOnDom || !getOwnPropertyDescriptorWorksOnObject) {\n        var getOwnPropertyDescriptorFallback = Object.getOwnPropertyDescriptor;\n    }\n}\n\nif (!Object.getOwnPropertyDescriptor || getOwnPropertyDescriptorFallback) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a non-object: \";\n\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object !== \"object\" && typeof object !== \"function\") || object === null) {\n            throw new TypeError(ERR_NON_OBJECT + object);\n        }\n\n        // make a valiant attempt to use the real getOwnPropertyDescriptor\n        // for I8's DOM elements.\n        if (getOwnPropertyDescriptorFallback) {\n            try {\n                return getOwnPropertyDescriptorFallback.call(Object, object, property);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        // If object does not owns property return undefined immediately.\n        if (!owns(object, property)) {\n            return;\n        }\n\n        // If object has a property then it's for sure both `enumerable` and\n        // `configurable`.\n        var descriptor =  { enumerable: true, configurable: true };\n\n        // If JS engine supports accessor properties then property may be a\n        // getter or setter.\n        if (supportsAccessors) {\n            // Unfortunately `__lookupGetter__` will return a getter even\n            // if object has own non getter property along with a same named\n            // inherited getter. To avoid misbehavior we temporary remove\n            // `__proto__` so that `__lookupGetter__` will return getter only\n            // if it's owned by an object.\n            var prototype = object.__proto__;\n            var notPrototypeOfObject = object !== prototypeOfObject;\n            // avoid recursion problem, breaking in Opera Mini when\n            // Object.getOwnPropertyDescriptor(Object.prototype, 'toString')\n            // or any other Object.prototype accessor\n            if (notPrototypeOfObject) {\n                object.__proto__ = prototypeOfObject;\n            }\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n\n            if (notPrototypeOfObject) {\n                // Once we have getter and setter we can put values back.\n                object.__proto__ = prototype;\n            }\n\n            if (getter || setter) {\n                if (getter) {\n                    descriptor.get = getter;\n                }\n                if (setter) {\n                    descriptor.set = setter;\n                }\n                // If it was accessor property we're done and return here\n                // in order to avoid adding `value` to the descriptor.\n                return descriptor;\n            }\n        }\n\n        // If we got this far we know that object has an own property that is\n        // not an accessor so we set it as a value and return descriptor.\n        descriptor.value = object[property];\n        descriptor.writable = true;\n        return descriptor;\n    };\n}\n\n// ES5 15.2.3.4\n// http://es5.github.com/#x15.2.3.4\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\n\n// ES5 15.2.3.5\n// http://es5.github.com/#x15.2.3.5\nif (!Object.create) {\n\n    // Contributed by Brandon Benvie, October, 2012\n    var createEmpty;\n    var supportsProto = !({__proto__:null} instanceof Object);\n                        // the following produces false positives\n                        // in Opera Mini => not a reliable check\n                        // Object.prototype.__proto__ === null\n    if (supportsProto || typeof document === 'undefined') {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        // In old IE __proto__ can't be used to manually set `null`, nor does\n        // any other method exist to make an object that inherits from nothing,\n        // aside from Object.prototype itself. Instead, create a new global\n        // object and *steal* its Object.prototype and strip it bare. This is\n        // used as the prototype to create nullary objects.\n        createEmpty = function () {\n            var iframe = document.createElement('iframe');\n            var parent = document.body || document.documentElement;\n            iframe.style.display = 'none';\n            parent.appendChild(iframe);\n            iframe.src = 'javascript:';\n            var empty = iframe.contentWindow.Object.prototype;\n            parent.removeChild(iframe);\n            iframe = null;\n            delete empty.constructor;\n            delete empty.hasOwnProperty;\n            delete empty.propertyIsEnumerable;\n            delete empty.isPrototypeOf;\n            delete empty.toLocaleString;\n            delete empty.toString;\n            delete empty.valueOf;\n            empty.__proto__ = null;\n\n            function Empty() {}\n            Empty.prototype = empty;\n            // short-circuit future calls\n            createEmpty = function () {\n                return new Empty();\n            };\n            return new Empty();\n        };\n    }\n\n    Object.create = function create(prototype, properties) {\n\n        var object;\n        function Type() {}  // An empty constructor.\n\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype !== \"object\" && typeof prototype !== \"function\") {\n                // In the native implementation `parent` can be `null`\n                // OR *any* `instanceof Object`  (Object|Function|Array|RegExp|etc)\n                // Use `typeof` tho, b/c in old IE, DOM elements are not `instanceof Object`\n                // like they are in modern browsers. Using `Object.create` on DOM elements\n                // is...err...probably inappropriate, but the native version allows for it.\n                throw new TypeError(\"Object prototype may only be an Object or null\"); // same msg as Chrome\n            }\n            Type.prototype = prototype;\n            object = new Type();\n            // IE has no built-in implementation of `Object.getPrototypeOf`\n            // neither `__proto__`, but this manually setting `__proto__` will\n            // guarantee that `Object.getPrototypeOf` will work as expected with\n            // objects created using `Object.create`\n            object.__proto__ = prototype;\n        }\n\n        if (properties !== void 0) {\n            Object.defineProperties(object, properties);\n        }\n\n        return object;\n    };\n}\n\n// ES5 15.2.3.6\n// http://es5.github.com/#x15.2.3.6\n\n// Patch for WebKit and IE8 standard mode\n// Designed by hax <hax.github.com>\n// related issue: https://github.com/es-shims/es5-shim/issues#issue/5\n// IE8 Reference:\n//     http://msdn.microsoft.com/en-us/library/dd282900.aspx\n//     http://msdn.microsoft.com/en-us/library/dd229916.aspx\n// WebKit Bugs:\n//     https://bugs.webkit.org/show_bug.cgi?id=36423\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n        // returns falsy\n    }\n}\n\n// check whether defineProperty works if it's given. Otherwise,\n// shim partially.\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document === \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty,\n            definePropertiesFallback = Object.defineProperties;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object !== \"object\" && typeof object !== \"function\") || object === null) {\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        }\n        if ((typeof descriptor !== \"object\" && typeof descriptor !== \"function\") || descriptor === null) {\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        }\n        // make a valiant attempt to use the real defineProperty\n        // for I8's DOM elements.\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        // If it's a data property.\n        if (owns(descriptor, \"value\")) {\n            // fail silently if \"writable\", \"enumerable\", or \"configurable\"\n            // are requested but not supported\n            /*\n            // alternate approach:\n            if ( // can't implement these features; allow false but not true\n                !(owns(descriptor, \"writable\") ? descriptor.writable : true) ||\n                !(owns(descriptor, \"enumerable\") ? descriptor.enumerable : true) ||\n                !(owns(descriptor, \"configurable\") ? descriptor.configurable : true)\n            )\n                throw new RangeError(\n                    \"This implementation of Object.defineProperty does not \" +\n                    \"support configurable, enumerable, or writable.\"\n                );\n            */\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                // As accessors are supported only on engines implementing\n                // `__proto__` we can safely override `__proto__` while defining\n                // a property to make sure that we don't hit an inherited\n                // accessor.\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                // Deleting a property anyway since getter / setter may be\n                // defined on object itself.\n                delete object[property];\n                object[property] = descriptor.value;\n                // Setting original `__proto__` back now.\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors) {\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            }\n            // If we got that far then getters and setters can be defined !!\n            if (owns(descriptor, \"get\")) {\n                defineGetter(object, property, descriptor.get);\n            }\n            if (owns(descriptor, \"set\")) {\n                defineSetter(object, property, descriptor.set);\n            }\n        }\n        return object;\n    };\n}\n\n// ES5 15.2.3.7\n// http://es5.github.com/#x15.2.3.7\nif (!Object.defineProperties || definePropertiesFallback) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        // make a valiant attempt to use the real defineProperties\n        if (definePropertiesFallback) {\n            try {\n                return definePropertiesFallback.call(Object, object, properties);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        for (var property in properties) {\n            if (owns(properties, property) && property !== \"__proto__\") {\n                Object.defineProperty(object, property, properties[property]);\n            }\n        }\n        return object;\n    };\n}\n\n// ES5 15.2.3.8\n// http://es5.github.com/#x15.2.3.8\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// ES5 15.2.3.9\n// http://es5.github.com/#x15.2.3.9\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// detect a Rhino bug and patch it\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object === \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\n\n// ES5 15.2.3.10\n// http://es5.github.com/#x15.2.3.10\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// ES5 15.2.3.11\n// http://es5.github.com/#x15.2.3.11\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\n\n// ES5 15.2.3.12\n// http://es5.github.com/#x15.2.3.12\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\n\n// ES5 15.2.3.13\n// http://es5.github.com/#x15.2.3.13\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        // 1. If Type(O) is not Object throw a TypeError exception.\n        if (Object(object) !== object) {\n            throw new TypeError(); // TODO message\n        }\n        // 2. Return the Boolean value of the [[Extensible]] internal property of O.\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\n\n}));\n\n","(function(formdb) {\n  'use strict';\n\n  formdb.version = '0.2.0';\n\n  var Form = function(element) {\n    if (!(this instanceof formdb.Form)) return new formdb.Form(element);\n    this.element = (typeof element === 'object')\n      ? element\n      : document.querySelector(element || 'form');\n    this._inputs = '[name]';\n    this.element.addEventListener('click', this._onClick.bind(this));\n  };\n\n  // where to stash a reference to the actual event listener\n  var LISTENER_PROPERTY = '_elementdb_listener';\n\n  Form.prototype = {\n\n    // set the form data as an object\n    getData: function() {\n      var data = {};\n      this.getInputs().forEach(function(input) {\n        formdb.readInput(input, data);\n      });\n      return data;\n    },\n\n    // set the form data using an object\n    setData: function(data) {\n      for (var key in data) {\n        this.set(key, data[key]);\n      }\n      return this;\n    },\n\n    // set a specific key from the form\n    get: function(key) {\n      var data = {};\n      this.getInputsByName(key).forEach(function(input) {\n        formdb.readInput(input, data);\n      });\n      return data[key];\n    },\n\n    // set a specific key/value\n    set: function(key, value) {\n      var data = {};\n      data[key] = value;\n      this.getInputsByName(key).forEach(function(input) {\n        formdb.writeInput(input, data);\n      });\n      return this;\n    },\n\n    reset: function() {\n      if (typeof this.element.reset === 'function') {\n        this.element.reset();\n      } else {\n        var data = {};\n        this.getInputs().forEach(function(input) {\n          formdb.writeInput(input, data);\n        });\n      }\n      return this;\n    },\n\n    // get the inputs as an array\n    getInputs: function(filter) {\n      var inputs = slice(this.element.querySelectorAll(this._inputs));\n      return filter ? inputs.filter(filter) : inputs;\n    },\n\n    // get inputs by name\n    getInputsByName: function(name) {\n      return this.getInputs(function(input) {\n        return input.name == name;\n      });\n    },\n\n    // add an event listneer\n    on: function(type, callback) {\n      var self = this,\n          listener;\n      if (type.match(/^change:/)) {\n        var name = type.split(':').pop();\n        listener = function listener(e) {\n          if (e.target.name === name) {\n            return callback.call(self, e.target.value, e);\n          }\n        };\n        callback[LISTENER_PROPERTY] = listener;\n        this.element.addEventListener('change', listener);\n      } else if (type === 'change' || type === 'submit') {\n        listener = function listener(e) {\n          return callback.call(self, self.getData(), e);\n        };\n        callback[LISTENER_PROPERTY] = listener;\n        this.element.addEventListener(type, listener);\n      } else {\n        this.element.addEventListener(type, callback);\n      }\n      return this;\n    },\n\n    off: function(type, callback) {\n      if (type.match(/^change:/)) {\n        type = 'change';\n      }\n      this.element.removeEventListener(type, callback[LISTENER_PROPERTY] || callback);\n      return this;\n    },\n\n\n    _onClick: function(e) {\n      var target = e.target;\n      // if a submit button was pressed...\n      if (target.type === 'submit') {\n        // toggle the pressed flag of all submit inputs accordingly\n        this.getInputs(function(input) {\n          return input.type === 'submit';\n        })\n        .forEach(function(input) {\n          input.pressed = (input === target);\n        });\n      }\n    }\n\n  }; // Form.prototype\n\n  formdb.Form = Form;\n\n  formdb.validInput = function(input) {\n    return input.name && !input.disabled;\n  };\n\n  formdb.readInput = function(input, data) {\n    if (!formdb.validInput(input)) return false;\n\n    var value;\n\n    switch (input.type) {\n      case 'select-one':\n        value = input.options[input.selectedIndex].value;\n        break;\n\n      case 'select-multiple':\n        value = filter(input.querySelectorAll('option'), function(option) {\n            return option.selected;\n          })\n          .map(function(option) {\n            return option.value;\n          });\n        break;\n\n      case 'checkbox':\n        if (!input.checked) break;\n        value = data[input.name];\n        if (Array.isArray(value)) {\n          value.push(input.value);\n        } else if (typeof value !== 'undefined') {\n          value = [value, input.value || true];\n        } else {\n          value = input.value || true;\n        }\n        break;\n\n      case 'radio':\n        if (input.checked) value = input.value;\n        break;\n\n      case 'submit':\n        if (input.pressed) value = input.value;\n        break;\n\n      default:\n        value = input.value;\n    }\n\n    if (typeof value !== 'undefined' && value !== '') {\n      data[input.name] = value;\n      return true;\n    }\n\n    return false;\n  }; // formdb.readInput\n\n  formdb.writeInput = function(input, data) {\n    if (!formdb.validInput(input)) return false;\n\n    var multiple = false,\n        value = data[input.name] || '',\n        list = Array.isArray(value) ? value : [value];\n\n    // coerce all values to strings for indexOf()\n    list = list.map(String);\n\n    switch (input.type) {\n      case 'select-one':\n        forEach(input.options, function(option) {\n          // TODO lint flag\n          option.selected = (option.value == value);\n        });\n        return true;\n\n      case 'select-multiple':\n        forEach(input.options, function(option) {\n          option.selected = list.indexOf(option.value) > -1;\n        });\n        return true;\n\n      case 'checkbox':\n        input.checked = input.value\n          ? list.indexOf(input.value) > -1\n          : !!value;\n        return true;\n\n      case 'radio':\n        input.checked = (value == input.value);\n        return true;\n    }\n\n    input.value = value;\n    return true;\n  }; // formdb.writeInput\n\n  /*\n   * private utility functions\n   */\n\n  var ARRAY = [];\n  // iterate over any array-like object\n  function forEach(list, fn, that) {\n    return ARRAY.forEach.call(list, fn, that || list);\n  }\n\n  // map any array-like object\n  function map(list, fn, that) {\n    return ARRAY.map.call(list, fn, that || list);\n  }\n\n  function filter(list, fn, that) {\n    return ARRAY.filter.call(list, fn, that || list);\n  }\n\n  // slice any array-like object\n  function slice(list, start, len) {\n    return ARRAY.slice.call(list, start, len);\n  }\n\n  // extend an object\n  function extend(a, b) {\n    for (var i = 1; i < arguments.length; i += 1) {\n      var o = arguments[i];\n      if (!o || typeof o !== 'object') return;\n      for (var k in o) a[k] = o[k];\n    }\n    return a;\n  }\n\n})(typeof module === 'object' ? module.exports : this.formdb = {});\n","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","const ARRAY_TEMPLATE = '__array_template__';\n\nvar tagalong = function(node, data, directives) {\n  if (typeof node === 'string') {\n    var selector = node;\n    node = document.querySelector(node);\n    if (!node) throw new Error('no such element: ' + selector);\n  }\n\n  if (typeof directives === 'object') {\n    directives = expandKeys(directives);\n  } else if (typeof directives === 'function') {\n    directives = directives.call(node, data) || {};\n  } else {\n    directives = {};\n  }\n\n  if (Array.isArray(data)) {\n    return bindArray(node, data, directives);\n  } else {\n    applyDirectives(node, data, directives);\n  }\n\n  if (typeof data === 'object') {\n    return bindObject(node, data, directives);\n  }\n\n  return bindScalar(node, data, directives);\n};\n\ntagalong.object = bindObject;\ntagalong.array = bindArray;\ntagalong.scalar = bindScalar;\n\nmodule.exports = tagalong;\n\nfunction bindObject(node, data, directives) {\n  for (var key in data) {\n    if (!data.hasOwnProperty(key)) continue;\n    bindKey(node, key, data[key], directives[key]);\n  }\n  return node;\n}\n\nfunction bindArray(node, data, directives) {\n  var nodes = getChildren(node);\n  var template = node[ARRAY_TEMPLATE] || (node[ARRAY_TEMPLATE] = nodes[0]);\n  var nodeCount = nodes.length;\n  var dataCount = data.length;\n  if (nodeCount < dataCount) {\n    var last = nodes[nodeCount - 1] || template;\n    while (nodeCount < dataCount) {\n      var clone = template.cloneNode(true);\n      nodeCount = nodes.push(node.insertBefore(clone, last.nextSibling));\n      last = clone;\n    }\n  } else if (nodeCount > dataCount) {\n    while (nodeCount > dataCount) {\n      var child = nodes.shift();\n      node.removeChild(child);\n      nodeCount--;\n    }\n  }\n  for (var i = 0; i < dataCount; i++) {\n    tagalong(nodes[i], data[i], directives);\n  }\n  return node;\n}\n\nfunction bindKey(node, key, value, directives) {\n  var target = findKeyNode(node, key);\n  if (!target) {\n    return false;\n  }\n  return tagalong(target, value, directives);\n}\n\nfunction bindScalar(node, data, directives) {\n  var stringify = directives.stringify || String;\n  node.textContent = stringify.call(node, data);\n  return node;\n}\n\nfunction findKeyNode(node, key) {\n  var classed = node.getElementsByClassName(key)[0];\n  if (classed) return classed;\n\n  // Doing it this way, rather than:\n  //\n  // `querySelector('[data-bind=\"' + key + '\"]')`,\n  //\n  // ...ensures that we won't get an exception for keys that would produce\n  // invalid selectors.\n  var children = node.querySelectorAll('[data-bind]');\n  for (var i = 0, len = children.length; i < len; i++) {\n    if (children[i].getAttribute('data-bind') == key) {\n      return children[i];\n    }\n  }\n  return null;\n}\n\nfunction getChildren(node) {\n  var children = [];\n  for (var child = node.firstChild; child; child = child.nextSibling) {\n    if (child.nodeType === 1) {\n      children.push(child);\n    }\n  }\n  return children;\n}\n\nfunction applyDirectives(node, data, directives) {\n  function access(key, attr) {\n    var value = directives[key];\n    if (typeof value === 'function') {\n      return value.call(node, data);\n    } if (value === true) {\n      return data[attr || key];\n    }\n    return (typeof value === 'object')\n      ? value\n      : data[value];\n  }\n\n  var interpolated;\n  for (var key in directives) {\n    if (key.charAt(0) === '@') {\n      var attr = key.substr(1);\n      var value = access(key, attr) || '';\n      node.setAttribute(attr, value);\n    } else {\n      switch (key) {\n        case 'text':\n          node.textContent = access(key) || '';\n          break;\n      }\n      if (typeof directives[key] === 'object') {\n        bindKey(node, key, data, directives[key]);\n      } else {\n        if (!interpolated) interpolated = {};\n        interpolated[key] = access(key);\n      }\n    }\n  }\n\n  if (interpolated) {\n    return tagalong(node, interpolated);\n  }\n\n  return node;\n}\n\nfunction expandKeys(obj) {\n  var expanded = {};\n  for (var key in obj) {\n    if (key.indexOf('.') > 0) {\n      var bits = key.split('.');\n      var value = obj[key];\n      var d = expanded;\n      while (bits.length) {\n        d = d[bits.shift()] = bits.length ? {} : value;\n      }\n    } else {\n      expanded[key] = obj[key];\n    }\n  }\n  return expanded;\n}\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! (C) WebReflection Mit Style License */\n(function(e,t,n,r){\"use strict\";function rt(e,t){for(var n=0,r=e.length;n<r;n++)vt(e[n],t)}function it(e){for(var t=0,n=e.length,r;t<n;t++)r=e[t],nt(r,b[ot(r)])}function st(e){return function(t){j(t)&&(vt(t,e),rt(t.querySelectorAll(w),e))}}function ot(e){var t=e.getAttribute(\"is\"),n=e.nodeName.toUpperCase(),r=S.call(y,t?v+t.toUpperCase():d+n);return t&&-1<r&&!ut(n,t)?-1:r}function ut(e,t){return-1<w.indexOf(e+'[is=\"'+t+'\"]')}function at(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target;Q&&(!i||i===t)&&t.attributeChangedCallback&&r!==\"style\"&&e.prevValue!==e.newValue&&t.attributeChangedCallback(r,n===e[a]?null:e.prevValue,n===e[l]?null:e.newValue)}function ft(e){var t=st(e);return function(e){X.push(t,e.target)}}function lt(e){K&&(K=!1,e.currentTarget.removeEventListener(h,lt)),rt((e.target||t).querySelectorAll(w),e.detail===o?o:s),B&&pt()}function ct(e,t){var n=this;q.call(n,e,t),G.call(n,{target:n})}function ht(e,t){D(e,t),et?et.observe(e,z):(J&&(e.setAttribute=ct,e[i]=Z(e),e.addEventListener(p,G)),e.addEventListener(c,at)),e.createdCallback&&Q&&(e.created=!0,e.createdCallback(),e.created=!1)}function pt(){for(var e,t=0,n=F.length;t<n;t++)e=F[t],E.contains(e)||(n--,F.splice(t--,1),vt(e,o))}function dt(e){throw new Error(\"A \"+e+\" type is already registered\")}function vt(e,t){var n,r=ot(e);-1<r&&(tt(e,b[r]),r=0,t===s&&!e[s]?(e[o]=!1,e[s]=!0,r=1,B&&S.call(F,e)<0&&F.push(e)):t===o&&!e[o]&&(e[s]=!1,e[o]=!0,r=1),r&&(n=e[t+\"Callback\"])&&n.call(e))}if(r in t)return;var i=\"__\"+r+(Math.random()*1e5>>0),s=\"attached\",o=\"detached\",u=\"extends\",a=\"ADDITION\",f=\"MODIFICATION\",l=\"REMOVAL\",c=\"DOMAttrModified\",h=\"DOMContentLoaded\",p=\"DOMSubtreeModified\",d=\"<\",v=\"=\",m=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,g=[\"ANNOTATION-XML\",\"COLOR-PROFILE\",\"FONT-FACE\",\"FONT-FACE-SRC\",\"FONT-FACE-URI\",\"FONT-FACE-FORMAT\",\"FONT-FACE-NAME\",\"MISSING-GLYPH\"],y=[],b=[],w=\"\",E=t.documentElement,S=y.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},x=n.prototype,T=x.hasOwnProperty,N=x.isPrototypeOf,C=n.defineProperty,k=n.getOwnPropertyDescriptor,L=n.getOwnPropertyNames,A=n.getPrototypeOf,O=n.setPrototypeOf,M=!!n.__proto__,_=n.create||function mt(e){return e?(mt.prototype=e,new mt):this},D=O||(M?function(e,t){return e.__proto__=t,e}:L&&k?function(){function e(e,t){for(var n,r=L(t),i=0,s=r.length;i<s;i++)n=r[i],T.call(e,n)||C(e,n,k(t,n))}return function(t,n){do e(t,n);while((n=A(n))&&!N.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),P=e.MutationObserver||e.WebKitMutationObserver,H=(e.HTMLElement||e.Element||e.Node).prototype,B=!N.call(H,E),j=B?function(e){return e.nodeType===1}:function(e){return N.call(H,e)},F=B&&[],I=H.cloneNode,q=H.setAttribute,R=H.removeAttribute,U=t.createElement,z=P&&{attributes:!0,characterData:!0,attributeOldValue:!0},W=P||function(e){J=!1,E.removeEventListener(c,W)},X,V=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},$=!1,J=!0,K=!0,Q=!0,G,Y,Z,et,tt,nt;O||M?(tt=function(e,t){N.call(t,e)||ht(e,t)},nt=ht):(tt=function(e,t){e[i]||(e[i]=n(!0),ht(e,t))},nt=tt),B?(J=!1,function(){var e=k(H,\"addEventListener\"),t=e.value,n=function(e){var t=new CustomEvent(c,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[l]=t.attrChange=2,R.call(this,e),this.dispatchEvent(t)},r=function(e,t){var n=this.hasAttribute(e),r=n&&this.getAttribute(e),i=new CustomEvent(c,{bubbles:!0});q.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i[f]=i.attrChange=1:i[a]=i.attrChange=0,this.dispatchEvent(i)},s=function(e){var t=e.currentTarget,n=t[i],r=e.propertyName,s;n.hasOwnProperty(r)&&(n=n[r],s=new CustomEvent(c,{bubbles:!0}),s.attrName=n.name,s.prevValue=n.value||null,s.newValue=n.value=t[r]||null,s.prevValue==null?s[a]=s.attrChange=0:s[f]=s.attrChange=1,t.dispatchEvent(s))};e.value=function(e,o,u){e===c&&this.attributeChangedCallback&&this.setAttribute!==r&&(this[i]={className:{name:\"class\",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,\"propertychange\",s)),t.call(this,e,o,u)},C(H,\"addEventListener\",e)}()):P||(E.addEventListener(c,W),E.setAttribute(i,1),E.removeAttribute(i),J&&(G=function(e){var t=this,n,r,s;if(t===e.target){n=t[i],t[i]=r=Z(t);for(s in r){if(!(s in n))return Y(0,t,s,n[s],r[s],a);if(r[s]!==n[s])return Y(1,t,s,n[s],r[s],f)}for(s in n)if(!(s in r))return Y(2,t,s,n[s],r[s],l)}},Y=function(e,t,n,r,i,s){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};o[s]=e,at(o)},Z=function(e){for(var t,n,r={},i=e.attributes,s=0,o=i.length;s<o;s++)t=i[s],n=t.name,n!==\"setAttribute\"&&(r[n]=t.value);return r})),t[r]=function(n,r){c=n.toUpperCase(),$||($=!0,P?(et=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new P(function(r){for(var i,s,o,u=0,a=r.length;u<a;u++)i=r[u],i.type===\"childList\"?(n(i.addedNodes,e),n(i.removedNodes,t)):(s=i.target,Q&&s.attributeChangedCallback&&i.attributeName!==\"style\"&&(o=s.getAttribute(i.attributeName),o!==i.oldValue&&s.attributeChangedCallback(i.attributeName,i.oldValue,o)))})}(st(s),st(o)),et.observe(t,{childList:!0,subtree:!0})):(X=[],V(function E(){while(X.length)X.shift().call(null,X.shift());V(E)}),t.addEventListener(\"DOMNodeInserted\",ft(s)),t.addEventListener(\"DOMNodeRemoved\",ft(o))),t.addEventListener(h,lt),t.addEventListener(\"readystatechange\",lt),t.createElement=function(e,n){var r=U.apply(t,arguments),i=\"\"+e,s=S.call(y,(n?v:d)+(n||i).toUpperCase()),o=-1<s;return n&&(r.setAttribute(\"is\",n=n.toLowerCase()),o&&(o=ut(i.toUpperCase(),n))),Q=!t.createElement.innerHTMLHelper,o&&nt(r,b[s]),r},H.cloneNode=function(e){var t=I.call(this,!!e),n=ot(t);return-1<n&&nt(t,b[n]),e&&it(t.querySelectorAll(w)),t}),-2<S.call(y,v+c)+S.call(y,d+c)&&dt(n);if(!m.test(c)||-1<S.call(g,c))throw new Error(\"The type \"+n+\" is invalid\");var i=function(){return f?t.createElement(l,c):t.createElement(l)},a=r||x,f=T.call(a,u),l=f?r[u].toUpperCase():c,c,p;return f&&-1<S.call(y,d+l)&&dt(l),p=y.push((f?v:d)+c)-1,w=w.concat(w.length?\",\":\"\",f?l+'[is=\"'+n.toLowerCase()+'\"]':l),i.prototype=b[p]=T.call(a,\"prototype\")?a.prototype:_(H),rt(t.querySelectorAll(w),s),i}})(window,document,Object,\"registerElement\");"]}